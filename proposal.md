# B√ÅO C√ÅO D·ª∞ √ÅN MYSHOP2025

---

## 0. TH√îNG TIN C√ÅC TH√ÄNH VI√äN

**[PH√ÇN C√îNG: LEADER]**

| STT | H·ªç v√† T√™n           | MSSV     | Vai tr√≤                    | Email                         | Github                                                                              |
| --- | ------------------- | -------- | -------------------------- | ----------------------------- | ----------------------------------------------------------------------------------- |
| 1   | Nguy·ªÖn H∆∞ng Th·ªãnh   | 23120200 | Backend Developer          | nguyenhungthinha1@gmail.com   | [oppaii230205](https://github.com/oppaii230205)                                     |
| 2   | L√™ Th√†nh C√¥ng       | 23120222 | Leader / Backend Developer | ltchcmus@gmail.com            | [ltchcmus](https://github.com/ltchcmus) / [05-victor](https://github.com/05-victor) |
| 3   | L√™ T·∫•n Hi·ªáp         | 23120255 | Frontend Developer         | tanhiep24135@gmail.com        | [ThachHaoo](https://github.com/ThachHaoo)                                                                            |
| 4   | T·ªëng D∆∞∆°ng Th√°i H√≤a | 23120262 | Frontend Developer         | tdthoa.hry@gmai.com           | [henry-banana](https://github.com/henry-banana)                                     |
| 5   | Nguy·ªÖn Huy Ho√†ng    | 23122031 | AI Developer               | 23122031@student.hcmus.edu.vn | [Link](https://github.com/hhlearntocode)                                            |

### Ph√¢n chia team:

- **Backend Team:** L√™ Th√†nh C√¥ng (Leader), Nguy·ªÖn H∆∞ng Th·ªãnh
- **Frontend Team:** L√™ T·∫•n Hi·ªáp (Tr∆∞·ªüng team), T·ªëng D∆∞∆°ng Th√°i H√≤a
- **AI Team:** Nguy·ªÖn Huy Ho√†ng (Leader h·ªó tr·ª£ khi c·∫ßn thi·∫øt)

### Chi ti·∫øt vai tr√≤ v√† tr√°ch nhi·ªám:

#### 1. L√™ Th√†nh C√¥ng - Leader / Backend Developer

- **Vai tr√≤:** Leader c·ªßa d·ª± √°n v√† Backend Developer ch√≠nh
- **Tr√°ch nhi·ªám:**
  - Qu·∫£n l√Ω t·ªïng th·ªÉ d·ª± √°n, ƒëi·ªÅu ph·ªëi c√¥ng vi·ªác gi·ªØa c√°c team
  - Ph√¢n c√¥ng nhi·ªám v·ª• v√† thi·∫øt l·∫≠p deadline cho c√°c th√†nh vi√™n
  - Review code v√† ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng s·∫£n ph·∫©m
  - Ch·ªãu tr√°ch nhi·ªám v·ªÅ Security v√† Authentication/Authorization
  - Ph√°t tri·ªÉn c√°c service quan tr·ªçng:
    - Email API (ƒë√£ ho√†n th√†nh)
    - OAuth2 integration (n·∫øu ƒë·ªß th·ªùi gian)
    - JWT Authentication (ƒê√£ ho√†n th√†nh)
    - External API integration (Admin code validation)
  - H·ªó tr·ª£ t·∫•t c·∫£ c√°c team khi g·∫∑p v·∫•n ƒë·ªÅ blocking
  - Vi·∫øt v√† ho√†n thi·ªán t√†i li·ªáu Proposal

#### 2. Nguy·ªÖn H∆∞ng Th·ªãnh - Backend Developer

- **Vai tr√≤:** Backend Developer ch√≠nh
- **Tr√°ch nhi·ªám:**
  - Nh·∫≠n y√™u c·∫ßu tr·ª±c ti·∫øp t·ª´ Leader
  - Tri·ªÉn khai c√°c API endpoints theo specification
  - Ph√°t tri·ªÉn c√°c ch·ª©c nƒÉng:
    - Product management APIs (CRUD, filtering, sorting, rating)
    - Order management APIs (statistics, tracking, revenue)
    - User & Profile management APIs
    - Data export functionality (Excel/Access)
  - Implement business logic v√† data validation
  - ƒê·∫£m b·∫£o follow Clean Architecture pattern
  - Testing v√† debugging APIs

#### 3. L√™ T·∫•n Hi·ªáp - Frontend Team Lead

- **Vai tr√≤:** Tr∆∞·ªüng team Frontend
- **Tr√°ch nhi·ªám:**
  - Nh·∫≠n deadline v√† y√™u c·∫ßu t·ª´ Leader
  - Ph√¢n chia c√¥ng vi·ªác cho team Frontend
  - ƒêi·ªÅu ph·ªëi v√† h·ªó tr·ª£ T·ªëng D∆∞∆°ng Th√°i H√≤a trong qu√° tr√¨nh ph√°t tri·ªÉn
  - ƒê·∫£m b·∫£o team Frontend ho√†n th√†nh ƒë√∫ng ti·∫øn ƒë·ªô
  - Review code c·ªßa team Frontend
  - Thi·∫øt k·∫ø ki·∫øn tr√∫c Frontend v√† MVVM pattern
  - Implement c√°c t√≠nh nƒÉng ph·ª©c t·∫°p v√† critical
  - T∆∞∆°ng t√°c v·ªõi Backend team ƒë·ªÉ sync API requirements

#### 4. T·ªëng D∆∞∆°ng Th√°i H√≤a - Frontend Developer

- **Vai tr√≤:** Frontend Developer
- **Tr√°ch nhi·ªám:**
  - Nh·∫≠n vi·ªác tr·ª±c ti·∫øp t·ª´ L√™ T·∫•n Hi·ªáp (Frontend Team Lead)
  - Tri·ªÉn khai c√°c y√™u c·∫ßu UI/UX theo ph√¢n c√¥ng
  - Ph√°t tri·ªÉn c√°c components v√† views:
    - Login/Register interfaces
    - Admin Dashboard components
    - Product management UI
    - Charts v√† visualizations
  - Implement data binding v√† MVVM pattern
  - Testing giao di·ªán v√† ƒë·∫£m b·∫£o UX t·ªët
  - B√°o c√°o ti·∫øn ƒë·ªô cho Team Lead

#### 5. Nguy·ªÖn Huy Ho√†ng - AI Developer

- **Vai tr√≤:** AI Developer
- **Tr√°ch nhi·ªám:**
  - Nh·∫≠n y√™u c·∫ßu tr·ª±c ti·∫øp t·ª´ Leader
  - Th·ª±c hi·ªán to√†n b·ªô c√°c t√≠nh nƒÉng AI/Machine Learning
  - ƒê√°nh gi√° v√† t·ªëi ∆∞u h√≥a model performance
  - B√°o c√°o ti·∫øn ƒë·ªô h√†ng tu·∫ßn cho Leader
  - Y√™u c·∫ßu h·ªó tr·ª£ t·ª´ Leader khi c·∫ßn thi·∫øt
  - Ph·ªëi h·ª£p v·ªõi Backend team ƒë·ªÉ l·∫•y d·ªØ li·ªáu training

### Th√¥ng tin li√™n h·ªá nh√≥m:

- **T√™n nh√≥m:** Nh√≥m 5
- **L·ªõp:** CQ2023/31
- **M√¥n h·ªçc:** L·∫≠p Tr√¨nh Window
- **Gi·∫£ng vi√™n:** Ths. Tr·∫ßn Duy Quang

---

## 1. CH·ª®C NƒÇNG ·ª®NG D·ª§NG

**[PH√ÇN C√îNG: LEADER + AI h·ªó tr·ª£]**

### 1.1. T·ªïng quan d·ª± √°n

**MyShop2025** l√† m·ªôt ·ª©ng d·ª•ng th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ ƒë∆∞·ª£c x√¢y d·ª±ng b·∫±ng **WinUI 3** v√† **ASP.NET Core** k√®m v·ªõi m·ªôt s·ªë **Service** ƒë√£ ƒë∆∞·ª£c thi·∫øt k·∫ø t·ª´ c√°c d·ª± √°n kh√°c, cung c·∫•p gi·∫£i ph√°p qu·∫£n l√Ω b√°n h√†ng to√†n di·ªán v·ªõi h·ªá th·ªëng dashboard ƒëa c·∫•p. ·ª®ng d·ª•ng ƒë∆∞·ª£c thi·∫øt k·∫ø v·ªõi 3 vai tr√≤ ng∆∞·ªùi d√πng ch√≠nh, m·ªói vai tr√≤ c√≥ giao di·ªán v√† ch·ª©c nƒÉng ri√™ng bi·ªát:

- **Admin Dashboard:** Giao di·ªán qu·∫£n tr·ªã to√†n di·ªán cho vi·ªác qu·∫£n l√Ω s·∫£n ph·∫©m, t√†i kho·∫£n, v√† ph√¢n t√≠ch doanh s·ªë
- **Sales Agent Dashboard:** Giao di·ªán d√†nh cho ƒë·∫°i l√Ω b√°n h√†ng v·ªõi t√≠nh nƒÉng ti·∫øp th·ªã li√™n k·∫øt (affiliate marketing)
- **Customer Dashboard:** Giao di·ªán mua s·∫Øm tr·ª±c tuy·∫øn cho ng∆∞·ªùi d√πng cu·ªëi

H·ªá th·ªëng s·ª≠ d·ª•ng **AI/Machine Learning** ƒë·ªÉ h·ªó tr·ª£ d·ª± ƒëo√°n doanh thu, ph√¢n t√≠ch xu h∆∞·ªõng s·∫£n ph·∫©m, v√† t·ªëi ∆∞u h√≥a chi·∫øn l∆∞·ª£c kinh doanh.

### 1.2. C√°c ch·ª©c nƒÉng ch√≠nh

#### 1.2.1. Ch·ª©c nƒÉng cho User (Customer)

- **X√°c th·ª±c v√† qu·∫£n l√Ω t√†i kho·∫£n**

  - ƒêƒÉng k√Ω t√†i kho·∫£n m·ªõi
  - ƒêƒÉng nh·∫≠p/ƒêƒÉng xu·∫•t
  - X√°c th·ª±c email (Email verification)
  - C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n (h·ªì s∆°, ƒë·ªãa ch·ªâ, s·ªë ƒëi·ªán tho·∫°i)

- **Qu·∫£n l√Ω s·∫£n ph·∫©m v√† mua s·∫Øm**

  - Xem danh s√°ch s·∫£n ph·∫©m v·ªõi ph√¢n trang
  - T√¨m ki·∫øm s·∫£n ph·∫©m theo t√™n
  - L·ªçc s·∫£n ph·∫©m theo nh√£n h√†ng (brand)
  - S·∫Øp x·∫øp danh s√°ch s·∫£n ph·∫©m (theo gi√°, t√™n, ƒë·ªô ph·ªï bi·∫øn)
  - Xem chi ti·∫øt s·∫£n ph·∫©m (m√¥ t·∫£, h√¨nh ·∫£nh, gi√°, ƒë√°nh gi√°)
  - Th√™m s·∫£n ph·∫©m v√†o gi·ªè h√†ng
  - Qu·∫£n l√Ω gi·ªè h√†ng (xem, c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng, x√≥a s·∫£n ph·∫©m)
  - Thanh to√°n v√† ƒë·∫∑t h√†ng (optional)

- **Qu·∫£n l√Ω ƒë∆°n h√†ng** (N·∫øu ƒë·ªß th·ªùi gian s·∫Ω l√†m th√™m)
  - Xem l·ªãch s·ª≠ ƒë∆°n h√†ng
  - Theo d√µi tr·∫°ng th√°i ƒë∆°n h√†ng
  - Xem chi ti·∫øt ƒë∆°n h√†ng

#### 1.2.2. Ch·ª©c nƒÉng cho Sales Agent

- **T·∫•t c·∫£ ch·ª©c nƒÉng c·ªßa User**

  - Sales Agent c√≥ th·ªÉ s·ª≠ d·ª•ng t·∫•t c·∫£ c√°c ch·ª©c nƒÉng mua s·∫Øm nh∆∞ m·ªôt kh√°ch h√†ng th√¥ng th∆∞·ªùng

- **Dashboard Sales Agent**

  - Xem t·ªïng quan doanh s·ªë c√° nh√¢n
  - Th·ªëng k√™ hoa h·ªìng ƒë√£ ki·∫øm ƒë∆∞·ª£c
  - Xem danh s√°ch ƒë∆°n h√†ng t·ª´ affiliate link

- **Ti·∫øp th·ªã li√™n k·∫øt (Affiliate Marketing)**
  - T·∫°o link affiliate cho t·ª´ng s·∫£n ph·∫©m
  - Chia s·∫ª link affiliate v·ªõi kh√°ch h√†ng
  - Theo d√µi s·ªë l∆∞·ª£t click v√†o link
  - Theo d√µi ƒë∆°n h√†ng t·ª´ link affiliate
  - Nh·∫≠n hoa h·ªìng t·ª± ƒë·ªông khi kh√°ch h√†ng mua h√†ng qua link
  - Xem chi ti·∫øt t·ª∑ l·ªá hoa h·ªìng theo s·∫£n ph·∫©m
  - R√∫t ti·ªÅn hoa h·ªìng

#### 1.2.3. Ch·ª©c nƒÉng cho Admin

- **Dashboard qu·∫£n tr·ªã v·ªõi AI Analytics**
  - T·ªïng quan doanh s·ªë (t·ªïng doanh thu, s·ªë ƒë∆°n h√†ng, s·ªë kh√°ch h√†ng)
  - Bi·ªÉu ƒë·ªì th·ªëng k√™ doanh thu theo th·ªùi gian (ng√†y, tu·∫ßn, th√°ng)
  - Bi·ªÉu ƒë·ªì ph√¢n t√≠ch doanh s·ªë theo danh m·ª•c
  - Hi·ªÉn th·ªã top 5 s·∫£n ph·∫©m ƒëang ƒë∆∞·ª£c ∆∞u chu·ªông
  - Th·ªëng k√™ hi·ªáu su·∫•t Sales Agent (Optional)
- **Qu·∫£n l√Ω s·∫£n ph·∫©m**

  - Th√™m s·∫£n ph·∫©m m·ªõi (t√™n, m√¥ t·∫£, gi√°, h√¨nh ·∫£nh, danh m·ª•c, nh√£n h√†ng)
  - S·ª≠a th√¥ng tin s·∫£n ph·∫©m
  - X√≥a s·∫£n ph·∫©m
  - Qu·∫£n l√Ω t·ªìn kho s·∫£n ph·∫©m
  - Qu·∫£n l√Ω danh m·ª•c v√† nh√£n h√†ng

- **Qu·∫£n l√Ω t√†i kho·∫£n Sales Agent**

  - Th√™m t√†i kho·∫£n Sales Agent m·ªõi
  - X√≥a t√†i kho·∫£n Sales Agent
  - Xem danh s√°ch t·∫•t c·∫£ Sales Agent
  - Xem hi·ªáu su·∫•t c·ªßa t·ª´ng Sales Agent
  - C·∫•u h√¨nh t·ª∑ l·ªá hoa h·ªìng

- **Qu·∫£n l√Ω ƒë∆°n h√†ng**

  - Xem t·∫•t c·∫£ ƒë∆°n h√†ng
  - C·∫≠p nh·∫≠t c√°c th√¥ng tin ƒë∆°n h√†ng

- **Xem v√† qu·∫£n l√Ω th√¥ng tin kh√°ch h√†ng**
  - Xem danh s√°ch kh√°ch h√†ng
  - Xem nh·ªØng kh√°ch h√†ng ƒëang ho·∫°t ƒë·ªông t√≠ch c·ª±c g·∫ßn ƒë√¢y

#### 1.2.4. Ch·ª©c nƒÉng AI [AI Developer b·ªï sung]

- Weekly Sales Forecast
- Sales & Promo Demand Forecast

### 1.3. Bao ph·ªß chu·∫©n ƒë·∫ßu ra m√¥n h·ªçc

D·ª± √°n bao ph·ªß ƒë·∫ßy ƒë·ªß c√°c k·ªπ nƒÉng v√† ki·∫øn th·ª©c ƒë∆∞·ª£c h·ªçc tr√™n l·ªõp:

- **WinUI 3 Development:** X√¢y d·ª±ng giao di·ªán desktop hi·ªán ƒë·∫°i v·ªõi WinUI 3
- **XAML v√† Data Binding:** S·ª≠ d·ª•ng XAML ƒë·ªÉ thi·∫øt k·∫ø UI, √°p d·ª•ng data binding two-way
- **MVVM Pattern:** √Åp d·ª•ng m√¥ h√¨nh MVVM v·ªõi CommunityToolkit.Mvvm
- **Navigation:** Tri·ªÉn khai navigation gi·ªØa c√°c page/view kh√°c nhau
- **API Integration:** K·∫øt n·ªëi v·ªõi backend API (ASP.NET Core) ƒë·ªÉ l·∫•y v√† c·∫≠p nh·∫≠t d·ªØ li·ªáu
- **Authentication & Authorization:** X√°c th·ª±c ng∆∞·ªùi d√πng v√† ph√¢n quy·ªÅn theo role
- **State Management:** Qu·∫£n l√Ω tr·∫°ng th√°i ·ª©ng d·ª•ng
- **Local Storage:** L∆∞u tr·ªØ d·ªØ li·ªáu local (settings, cache)
- **Async Programming:** X·ª≠ l√Ω b·∫•t ƒë·ªìng b·ªô v·ªõi async/await
- **Error Handling:** X·ª≠ l√Ω l·ªói v√† hi·ªÉn th·ªã th√¥ng b√°o cho ng∆∞·ªùi d√πng
- **Charts & Visualization:** Hi·ªÉn th·ªã bi·ªÉu ƒë·ªì th·ªëng k√™ (s·ª≠ d·ª•ng th∆∞ vi·ªán b√™n th·ª© 3)
- **Responsive Design:** Giao di·ªán responsive ph√π h·ª£p v·ªõi nhi·ªÅu k√≠ch th∆∞·ªõc m√†n h√¨nh
- **AI Integration:** S·ª≠ d·ª•ng python code service AI v√† t√≠ch h·ª£p v√†o ·ª©ng d·ª•ng
- **Microservice:** S·ª≠ d·ª•ng nhi·ªÅu service kh√°c nhau h·ªó tr·ª£ nhi·ªÅu nghi·ªáp v·ª• kh√°c nhau nh∆∞: AI service, Mail Service, Identity Service...
- **Web Application Programing:** C√≥ s·ª≠ d·ª•ng c√°c c√¥ng ngh·ªá cao nh∆∞ (React/nextjs, tailwind, ...) ƒë·ªÉ thi·∫øt k·∫ø web mua code ƒë·ªÉ k√≠ch ho·∫°t ·ª©ng d·ª•ng

---

## 2. GIAO DI·ªÜN - PROTOTYPE FIGMA

**[PH√ÇN C√îNG: FRONTEND DEVELOPER]**

### 2.1. Lu·ªìng ch·ª©c nƒÉng ch√≠nh

**C√¥ng c·ª• s·ª≠ d·ª•ng:** Figma + Figma Auto Layout + Responsive Frame

·ª®ng d·ª•ng ƒë∆∞·ª£c thi·∫øt k·∫ø theo m√¥ h√¨nh **ƒëa vai tr√≤ ng∆∞·ªùi d√πng**, m·ªói vai tr√≤ c√≥ tr·∫£i nghi·ªám v√† lu·ªìng thao t√°c ri√™ng.

Lu·ªìng ƒë∆∞·ª£c x√¢y d·ª±ng tr·ª±c quan trong **Figma Prototype**, h·ªó tr·ª£ click navigation gi·ªØa c√°c frame ƒë·ªÉ m√¥ ph·ªèng h√†nh vi th·∫≠t.

#### T·ªïng quan lu·ªìng:

```
Login ‚Üí Detect Role
‚îú‚îÄ‚îÄ Admin ‚Üí Dashboard / Products / Orders / Reports / Users / Settings
‚îú‚îÄ‚îÄ SalesAgent ‚Üí Dashboard / Products / Orders / Reports (read-only) / Profile
‚îî‚îÄ‚îÄ Customer ‚Üí Home / Products / My Orders / Profile
```

### 2.2. C√°c m√†n h√¨nh ch√≠nh

#### 2.2.1. Customer Flow

**M√†n h√¨nh ƒëƒÉng nh·∫≠p/ƒëƒÉng k√Ω**

- Hai layout song song (Login ‚Äì Register), s·ª≠ d·ª•ng gradient n·ªÅn WinUI 3:
  - Login: xanh navy `#1A4D8F ‚Üí #2563EB`
  - Register: xanh ng·ªçc `#10B981 ‚Üí #00AEEF`
- Giao di·ªán card bo tr√≤n, b√≥ng ƒë·ªï m·ªÅm, s·ª≠ d·ª•ng Inter/Roboto.
- Login g·ªìm: Username/Email, Password, Remember me, n√∫t ‚ÄúSign In‚Äù v√† ‚ÄúSign in with Google‚Äù.
- Register g·ªìm: Username, Email, Phone, Password, Confirm Password, Role (Customer/SalesAgent).
- C√≥ li√™n k·∫øt c·∫•u h√¨nh server ‚Äú‚öô Configure Server‚Äù ·ªü g√≥c d∆∞·ªõi tr√°i.

**M√†n h√¨nh trang ch·ªß**

- Thanh ƒëi·ªÅu h∆∞·ªõng ngang (sau n√†y ƒë∆∞·ª£c th·ªëng nh·∫•t chuy·ªÉn th√†nh sidebar).
- Hero banner hi·ªÉn th·ªã l·ªùi ch√†o v√† s·∫£n ph·∫©m n·ªïi b·∫≠t.
- Grid s·∫£n ph·∫©m (3‚Äì4 c·ªôt) hi·ªÉn th·ªã ·∫£nh, t√™n, gi√°, ƒë√°nh gi√°.
- C√≥ c√°c filter c∆° b·∫£n: T√™n, Lo·∫°i, Kho·∫£ng gi√°, Sort theo Gi√° / Rating.
- N√∫t ‚ÄúAdd to Cart‚Äù v·ªõi hover animation.

**M√†n h√¨nh s·∫£n ph·∫©m**

- L∆∞·ªõi s·∫£n ph·∫©m ƒë·∫ßy ƒë·ªß th√¥ng tin: h√¨nh, t√™n, gi√°, rating, tr·∫°ng th√°i t·ªìn kho.
- B·ªô l·ªçc ƒë·∫ßu trang: T√¨m ki·∫øm, Lo·∫°i h√†ng, Kho·∫£ng gi√°, S·∫Øp x·∫øp.
- C√≥ n√∫t ‚ÄúView Details‚Äù m·ªü modal chi ti·∫øt s·∫£n ph·∫©m.

**M√†n h√¨nh gi·ªè h√†ng**

- B·∫£ng hi·ªÉn th·ªã danh s√°ch s·∫£n ph·∫©m trong gi·ªè:
  | H√¨nh | T√™n s·∫£n ph·∫©m | S·ªë l∆∞·ª£ng | ƒê∆°n gi√° | Th√†nh ti·ªÅn | X√≥a |
- T·ªïng gi√° tr·ªã, thu·∫ø, ph√≠ v·∫≠n chuy·ªÉn, v√† t·ªïng ƒë∆°n h√†ng.
- N√∫t **Proceed to Checkout** ‚Üí hi·ªÉn th·ªã modal x√°c nh·∫≠n.

#### 2.2.2. Admin Dashboard Flow (Focus ch√≠nh)

- **Dashboard Overview**
  - [M√¥ t·∫£ chi ti·∫øt dashboard admin]
  - [C√°c widget th·ªëng k√™]
  - [Bi·ªÉu ƒë·ªì v√† b√°o c√°o]
- **Qu·∫£n l√Ω s·∫£n ph·∫©m**
  - [Giao di·ªán CRUD s·∫£n ph·∫©m]
- **Qu·∫£n l√Ω ƒë∆°n h√†ng**
  - [Giao di·ªán qu·∫£n l√Ω ƒë∆°n h√†ng]
    ...

#### 2.2.3. Salasagent Dasboard Flow

- **Dashboard Overview**
- M√¥ t·∫£
  ...

### 2.3. User Experience (UX)

- [M√¥ t·∫£ v·ªÅ tr·∫£i nghi·ªám ng∆∞·ªùi d√πng]
- [Nguy√™n t·∫Øc thi·∫øt k·∫ø ƒë√£ √°p d·ª•ng]

---

## 3. L√ÄM VI·ªÜC NH√ìM

**[PH√ÇN C√îNG: LEADER]**

### 3.1. Ph√¢n c√¥ng c√¥ng vi·ªác

D·ª± √°n ƒë∆∞·ª£c chia th√†nh c√°c giai ƒëo·∫°n (Sprint) v·ªõi ph√¢n c√¥ng c·ª• th·ªÉ cho t·ª´ng th√†nh vi√™n:

#### Sprint 1: Foundation Setup (13/10 - 18/10/2025)

| Th√†nh vi√™n                                  | Vai tr√≤      | Nhi·ªám v·ª• ch√≠nh                                                                                                                                                                                                                                                                                                                                | Deadline        | Tr·∫°ng th√°i     |
| ------------------------------------------- | ------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------- | -------------- |
| **Frontend Team**<br>(Hi·ªáp, H√≤a)            | Frontend Dev | **1.** Thi·∫øt k·∫ø v√† ho√†n thi·ªán giao di·ªán Login/Register (ƒë·∫πp, UX t·ªët)<br>**2.** T√≠ch h·ª£p n√∫t Login v·ªõi Google<br>**3.** T·∫°o folder ApiServer, s·ª≠ d·ª•ng Refit ƒë·ªÉ g·ªçi API<br>**4.** T√¨m hi·ªÉu Dependency Injection v√† register services<br>**5.** Implement ch·ª©c nƒÉng Register/Login v·ªõi backend<br>**6.** L∆∞u JWT token b·∫±ng PasswordVault        | 17-18/10        | ‚úÖ Completed   |
| **Backend Team**<br>(C√¥ng, Th·ªãnh)           | Backend Dev  | **1.** X√¢y d·ª±ng b·∫£ng Profile (userId, avatar, fullName, sdt, email, address, jobTitle)<br>**2.** API: profiles/get, profiles/create, profiles/update<br>**3.** API: users/activate-trial, users/verify-email, users/change-password<br>**4.** T·∫°o Email Service v√† API send-mail-verify v·ªõi template HTML<br>**5.** Follow clean architecture | 16-17/10        | ‚úÖ Completed   |
| **Leader**<br>(C√¥ng)                        | Leader/Docs  | **1.** T·ªïng h·ª£p t√†i li·ªáu d·ª± √°n<br>**2.** Vi·∫øt proposal section 1 (Ch·ª©c nƒÉng ·ª©ng d·ª•ng)<br>**3.** Review v√† h·ªó tr·ª£ Backend team<br>**4.** Qu·∫£n l√Ω ti·∫øn ƒë·ªô v√† ƒëi·ªÅu ph·ªëi c√¥ng vi·ªác                                                                                                                                                                | Ongoing         | ‚úÖ Completed   |
| **AI Team**<br>(Huy Ho√†ng + Leader support) | AI Dev       | **1.** Nghi√™n c·ª©u feature AI cho admin<br>**2.** Kh·∫£o s√°t d·ªØ li·ªáu c·∫ßn thi·∫øt t·ª´ backend<br>**3.** L√™n k·∫ø ho·∫°ch tri·ªÉn khai AI features                                                                                                                                                                                                          | 15/10 (B·∫Øt ƒë·∫ßu) | üîÑ In Progress |

#### Sprint 2: Core Features - Phase 2 (24/10 - 06/11/2025) _[Gia h·∫°n +5 ng√†y]_

| Th√†nh vi√™n                                  | Vai tr√≤      | Nhi·ªám v·ª• ch√≠nh                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | Deadline                                | Tr·∫°ng th√°i     |
| ------------------------------------------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------- | -------------- |
| **Frontend Team**<br>(Hi·ªáp, H√≤a)            | Frontend Dev | **Dashboard Admin:**<br>‚Ä¢ Hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß products v·ªõi ph√¢n trang<br>‚Ä¢ Hi·ªÉn th·ªã s·ªë ƒë∆°n h√†ng trong ng√†y<br>‚Ä¢ Hi·ªÉn th·ªã doanh thu trong ng√†y<br>‚Ä¢ Page: S·∫£n ph·∫©m c√≥ s·ªë l∆∞·ª£ng < 10<br>‚Ä¢ Bi·ªÉu ƒë·ªì th·ªëng k√™ (y√™u c·∫ßu API t·ª´ backend)<br>‚Ä¢ Top s·∫£n ph·∫©m ∆∞u chu·ªông (s·∫Øp x·∫øp theo sao)<br>**Product Management:**<br>‚Ä¢ L·ªçc s·∫£n ph·∫©m (t√™n, thi·∫øt b·ªã, kho·∫£ng gi√° [min,max])<br>‚Ä¢ S·∫Øp x·∫øp (s·ªë sao, gi√° tƒÉng/gi·∫£m)<br>‚Ä¢ Dialog th√™m/s·ª≠a/x√≥a s·∫£n ph·∫©m<br>‚Ä¢ N√∫t xu·∫•t s·∫£n ph·∫©m<br>**Order Management:**<br>‚Ä¢ Hi·ªÉn th·ªã s·∫£n ph·∫©m ƒë√£ ƒë·∫∑t<br>‚Ä¢ Hover hi·ªÉn th·ªã doanh thu s·∫£n ph·∫©m<br>‚Ä¢ Top s·∫£n ph·∫©m doanh thu cao<br>‚Ä¢ L·ªçc theo t√™n/lo·∫°i/tr·∫°ng th√°i/ng√†y                                                                                                                                                                                                     | 06/11                                   | üîÑ In Progress |
| **Backend Team**<br>(C√¥ng, Th·ªãnh)           | Backend Dev  | **User & Role Management:**<br>‚Ä¢ ‚úÖ Logic default role User khi register<br>‚Ä¢ ‚úÖ API admin th√™m role SalesAgent cho user<br>‚Ä¢ ‚úÖ API k√≠ch ho·∫°t account l√™n Admin b·∫±ng code (t√≠ch h·ª£p v·ªõi external API)<br>**Product APIs:**<br>‚Ä¢ GET: Danh s√°ch product v·ªõi ph√¢n trang<br>‚Ä¢ GET: S·ªë ƒë∆°n h√†ng h√¥m nay<br>‚Ä¢ GET: Doanh thu h√¥m nay<br>‚Ä¢ GET: S·∫£n ph·∫©m c√≥ s·ªë l∆∞·ª£ng < 10<br>‚Ä¢ GET: S·∫Øp x·∫øp theo rating (t√≠nh t·ª´ m·∫£ng [1sao, 2sao, 3sao, 4sao, 5sao])<br>‚Ä¢ Filter: gi√° [min,max], thi·∫øt b·ªã, t√™n<br>‚Ä¢ Sort: gi√° (tƒÉng/gi·∫£m), rating cao<br>‚Ä¢ POST/PUT/DELETE: Qu·∫£n l√Ω s·∫£n ph·∫©m<br>‚Ä¢ Export Excel/Access<br>**Order APIs:**<br>‚Ä¢ T·ªïng ƒë∆°n h√†ng, ƒë∆°n ƒë√£ giao<br>‚Ä¢ T·ªïng doanh thu, trung b√¨nh doanh thu/s·∫£n ph·∫©m<br>‚Ä¢ Top s·∫£n ph·∫©m doanh thu cao (ph√¢n trang)<br>‚Ä¢ L·ªçc theo ng√†y, s·∫£n ph·∫©m, lo·∫°i, tr·∫°ng th√°i<br>**‚úÖ Email Service ho√†n th√†nh** | 06/11                                   | üîÑ In Progress |
| **Leader**<br>(C√¥ng)                        | Leader       | **1.** Review code Backend & Frontend<br>**2. üìù Vi·∫øt v√† ho√†n thi·ªán Proposal (t·∫•t c·∫£ sections)** - Deadline: **01/11**<br>**3.** H·ªó tr·ª£ gi·∫£i quy·∫øt blocking issues<br>**4.** Setup Git workflow v√† conventions<br>**5. ‚úÖ Ph√°t tri·ªÉn Website b√°n Code (Full-stack + Deployment)** - Side project ri√™ng                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | 01/11 (Proposal)<br>06/11 (Code review) | üîÑ In Progress |
| **AI Team**<br>(Huy Ho√†ng + Leader support) | AI Dev       | **Feature Development (3 tu·∫ßn, b√°o c√°o h√†ng tu·∫ßn):**<br>**Tu·∫ßn 1 (15-22/10):** Research & Design<br>‚Ä¢ ‚úÖ Nghi√™n c·ª©u Gemini Flash / GPT API<br>‚Ä¢ ‚úÖ Thi·∫øt k·∫ø prompt templates<br>‚Ä¢ ‚úÖ X√°c ƒë·ªãnh data requirements t·ª´ backend<br>**Tu·∫ßn 2 (23-29/10):** Implementation<br>‚Ä¢ üîÑ Implement AI Chatbot t∆∞ v·∫•n kinh doanh<br>‚Ä¢ ‚úÖ **D·ª± ƒëo√°n doanh thu (tu·∫ßn/th√°ng) - Ho√†n th√†nh MVP**<br>&nbsp;&nbsp;- Input ƒë∆°n gi·∫£n ƒë·ªÉ nh·∫≠n d·ª± ƒëo√°n doanh thu t∆∞∆°ng lai<br>&nbsp;&nbsp;- **ƒê√°nh gi√° b·∫±ng 5 metrics v·ªõi ƒë·ªô ch√≠nh x√°c ‚â• 96%**<br>‚Ä¢ üîÑ G·ª£i √Ω s·∫£n ph·∫©m gi·∫£m gi√°<br>**Tu·∫ßn 3 (30/10-10/11):** Testing & Integration _[Gia h·∫°n +5 ng√†y]_<br>‚Ä¢ Test accuracy v√† performance<br>‚Ä¢ T√≠ch h·ª£p v·ªõi Admin Dashboard<br>‚Ä¢ T·ªëi ∆∞u h√≥a prompts                                                                                                              | 10/11                                   | üîÑ In Progress |

#### Sprint 3: Advanced Features & Polish (N·∫øu ƒë·ªß th·ªùi gian)

| Th√†nh vi√™n                        | Vai tr√≤      | Nhi·ªám v·ª• ch√≠nh                                                                                                                                                           | Deadline | Tr·∫°ng th√°i  |
| --------------------------------- | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------- | ----------- |
| **Frontend Team**<br>(Hi·ªáp, H√≤a)  | Frontend Dev | ‚Ä¢ SalesAgent Dashboard<br>‚Ä¢ Giao di·ªán Affiliate Marketing<br>‚Ä¢ Lu·ªìng mua s·∫Øm cho Customer<br>‚Ä¢ T·ªëi ∆∞u v√† l√†m ƒë·∫πp UI/UX                                                   | TBD      | Not Started |
| **Backend Team**<br>(C√¥ng, Th·ªãnh) | Backend Dev  | ‚Ä¢ Theo d√µi affiliate link<br>‚Ä¢ T√≠nh to√°n hoa h·ªìng<br>‚Ä¢ Qu·∫£n l√Ω ƒë∆°n h√†ng cho kh√°ch h√†ng<br>‚Ä¢ T√≠ch h·ª£p Payment                                                             | TBD      | Not Started |
| **AI Team**<br>(Huy Ho√†ng)        | AI Dev       | ‚Ä¢ H·ªá th·ªëng g·ª£i √Ω s·∫£n ph·∫©m (Recommendation system)<br>‚Ä¢ Ph√¢n lo·∫°i kh√°ch h√†ng (Customer segmentation v·ªõi K-means)<br>‚Ä¢ G·ª£i √Ω combo s·∫£n ph·∫©m (Product bundling suggestions) | TBD      | Not Started |
| **All Teams**                     | All          | ‚Ä¢ Ki·ªÉm th·ª≠ t√≠ch h·ª£p (Integration testing)<br>‚Ä¢ S·ª≠a l·ªói (Bug fixes)<br>‚Ä¢ Ho√†n thi·ªán t√†i li·ªáu (Documentation)<br>‚Ä¢ Chu·∫©n b·ªã tri·ªÉn khai (Deployment preparation)            | TBD      | Not Started |

### 3.1.1. Chi ti·∫øt ph√¢n c√¥ng theo ch·ª©c nƒÉng

#### Backend Developer - Workflow Details

**Team Members:** L√™ Th√†nh C√¥ng (Leader), Nguy·ªÖn H∆∞ng Th·ªãnh

**Phase 1 (Completed - 13-18/10):**

- ‚úÖ Thi·∫øt k·∫ø database v·ªõi b·∫£ng Profile
- ‚úÖ Implement Authentication & Authorization
- ‚úÖ Email verification system v·ªõi HTML templates (Ho√†n th√†nh ƒë·∫ßy ƒë·ªß service)
- ‚úÖ API endpoints: profiles/get, profiles/create, profiles/update
- ‚úÖ API: users/activate-trial, users/verify-email, users/change-password

**Phase 2 (In Progress - 24/10-06/11):** _[Gia h·∫°n +5 ng√†y]_

- ‚úÖ Role management: Default User role, Admin code activation, SalesAgent promotion
- ‚úÖ Email Service ho√†n th√†nh v√† s·∫µn s√†ng s·ª≠ d·ª•ng
- üîÑ Product management: CRUD operations, rating system, filtering, sorting
- üîÑ Order management: Statistics, revenue tracking, filtering
- üîÑ Export functionality: Excel/Access export
- üîÑ Admin authorization cho c√°c API c·∫ßn b·∫£o v·ªá

**Y√™u c·∫ßu k·ªπ thu·∫≠t:**

- Follow Clean Architecture pattern
- S·ª≠ d·ª•ng Repository Pattern
- Implement proper DTOs v√† AutoMapper
- Ph√¢n trang cho t·∫•t c·∫£ list APIs
- Rating calculation: `(1√óa + 2√ób + 3√óc + 4√ód + 5√óe) / (a+b+c+d+e)`

#### Frontend Developer - Workflow Details

**Team Members:** L√™ T·∫•n Hi·ªáp, T·ªëng D∆∞∆°ng Th√°i H√≤a

**Phase 1 (Completed - 13-18/10):**

- ‚úÖ UI/UX design cho Login/Register pages
- ‚úÖ Implement Google login button
- ‚úÖ Setup ApiServer folder v·ªõi Refit
- ‚úÖ Dependency Injection configuration
- ‚úÖ JWT token storage v·ªõi Windows PasswordVault
- ‚úÖ Role-based navigation v√† feature toggling

**Phase 2 (In Progress - 24/10-06/11):** _[Gia h·∫°n +5 ng√†y]_

- üîÑ Admin Dashboard layout v·ªõi widgets
- üîÑ Product management UI (list, add, edit, delete)
- üîÑ Charts v√† visualization
- üîÑ Filtering v√† sorting controls
- üîÑ Order management views
- üîÑ Mock data testing tr∆∞·ªõc khi c√≥ API

**Y√™u c·∫ßu k·ªπ thu·∫≠t:**

- MVVM pattern v·ªõi CommunityToolkit.Mvvm
- Data binding v√† ObservableCollections
- Responsive design
- Toast notifications cho user feedback
- Dialog/Form cho trial activation
- Ki·ªÉm tra roles: Admin (full access), SalesAgent (limited), User (basic)
- isVerified check tr∆∞·ªõc khi activate trial

#### AI Developer - Feature Specifications

**Team Members:** Huy Ho√†ng (Leader h·ªó tr·ª£ khi c·∫ßn thi·∫øt)

**M·ª•c ti√™u:** T·∫°o AI features ch·ªâ cho Admin s·ª≠ d·ª•ng

**Timeline:** 3 tu·∫ßn + 5 ng√†y (15/10 - 10/11) v·ªõi b√°o c√°o ti·∫øn ƒë·ªô h√†ng tu·∫ßn _[Gia h·∫°n +5 ng√†y]_

---

**Tu·∫ßn 1 (15-22/10): Research & Design** ‚úÖ Completed

- Nghi√™n c·ª©u Gemini Flash / GPT API
- Thi·∫øt k·∫ø prompt templates
- X√°c ƒë·ªãnh data requirements t·ª´ backend
- L√™n k·∫ø ho·∫°ch implementation

**Tu·∫ßn 2 (23-29/10): Implementation** üîÑ In Progress (C√≥ ti·∫øn ƒë·ªô t·ªët)

**Feature 1: (D·ª± ƒëo√°n nhu c·∫ßu c∆° b·∫£n)** üîÑ

- **M·ª•c ti√™u**: D·ª± b√°o nhu c·∫ßu theo SKU/k·ª≥ (tu·∫ßn) v·ªõi d·ªØ li·ªáu ngo·∫°i vi t·ªëi thi·ªÉu; gi·∫£m t·ªìn kho d∆∞ th·ª´a, tr√°nh thi·∫øu h√†ng, t·ªëi ∆∞u l·∫≠p k·∫ø ho·∫°ch t·ªìn kho.
- **D·ªØ li·ªáu/ƒê·∫∑c tr∆∞ng**: L·ªãch s·ª≠ b√°n h√†ng (Store‚ÄìDept‚ÄìSKU‚ÄìWeek), khuy·∫øn m√£i (MarkDowns), m√πa v·ª• ƒë∆°n gi·∫£n (Month/Week seasonality), c·ªù ng√†y l·ªÖ (holiday flags).
- **Ph∆∞∆°ng ph√°p**: M√¥ h√¨nh chu·ªói th·ªùi gian v·ªõi d·ªØ li·ªáu b√™n ngo√†i h·∫°n ch·∫ø.
- **Input**: Th·ªëng k√™ v√†i ng√†y g·∫ßn ƒë√¢y (doanh thu, s·∫£n ph·∫©m b√°n ch·∫°y, t·ªìn kho).
- **Output**:
  - G·ª£i √Ω s·∫£n ph·∫©m c·∫ßn gi·∫£m gi√°
  - S·∫£n ph·∫©m n√™n t·∫≠p trung marketing
  - Ph√°t hi·ªán s·∫£n ph·∫©m b√°n ch·∫≠m/t·ªìn kho cao
- Status: ƒêang trong qu√° tr√¨nh tri·ªÉn khai

**Feature 2: D·ª± ƒëo√°n doanh thu** ‚úÖ MVP Completed

- ‚úÖ **Model ƒë√£ ho√†n th√†nh v√† ƒë·∫°t hi·ªáu su·∫•t cao**
- ‚úÖ Input ƒë∆°n gi·∫£n ƒë·ªÉ nh·∫≠n d·ª± ƒëo√°n doanh thu t∆∞∆°ng lai
- ‚úÖ **ƒê√°nh gi√° b·∫±ng 5 metrics v·ªõi ƒë·ªô ch√≠nh x√°c xu·∫•t s·∫Øc: (ƒê∆°n v·ªã: $)**
  - **MAE:** 0.01550
  - **MSE:** 0.0009495
  - **RMSE:** 0.0308
  - **R2:** 0.9789
  - **Accuracy:** ~97.9%
- ‚úÖ D·ª± ƒëo√°n doanh thu tu·∫ßn t·ªõi
- ‚úÖ D·ª± ƒëo√°n doanh thu th√°ng t·ªõi

**Feature 3: G·ª£i √Ω s·∫£n ph·∫©m gi·∫£m gi√°**

- Ph√¢n t√≠ch d·ªØ li·ªáu b√°n h√†ng
- X√°c ƒë·ªãnh s·∫£n ph·∫©m c·∫ßn promotion
- Status: In development

**Tu·∫ßn 3 (30/10-10/11): Testing & Integration** Upcoming _[Gia h·∫°n +5 ng√†y]_

- Testing & Validation
- Integration v·ªõi Admin Dashboard
- Performance Optimization

---

**Y√™u c·∫ßu b√°o c√°o:**

- Tu·∫ßn 1 (22/10): Research report v√† data requirements - Completed
- Tu·∫ßn 2 (29/10): Implementation progress v√† initial results - In Progress
  - **ƒê√£ ho√†n th√†nh:** Revenue prediction model v·ªõi 5 metrics ‚â• 97%
  - **ƒêang l√†m:** Chatbot v√† product recommendation
- Tu·∫ßn 3 (10/11): Final integration v√† performance metrics - Scheduled _[Gia h·∫°n +5 ng√†y]_

**Data requirements t·ª´ Backend:**

- **Required:**
  - **Sales history**: `store_id`, `dept_id`, `date`, `weekly_sales`.
  - **Holiday flag**: `is_holiday` cho t·ª´ng tu·∫ßn
  - **Reference `stores`**: `store_id`, `store_type`, `size`.
  - **Inference input**: `store`, `dept`, `date`, `is_holiday`.
- **Optional:**
  - **Promotions**: `markdown1-5`.
  - **seasonality**: month/week number.
  - **Kinh t·∫ø/Th·ªùi ti·∫øt**: `temperature`, `fuel_price`, `cpi`, `unemployment`.
  - **Aggregate stats (`store_dept_stats`)**: `max/min/mean/median/std_sales` cho ·ªïn ƒë·ªãnh inference/cold-start.
  - **Transaction-level extras**: `customer_id`, `transaction_id`, `item_count`, `payment_method`

**Technical Stack:**

- **Language/Runtime**: Python
- **ML**: Keras/TensorFlow
  `weekly_sales_summary`, `external_features`, `stores`, `store_dept_stats`)
- **API**: FastAPI, Univcorn, Pydantic schemas
- **ETL/Batch**: SQL jobs for daily‚Üíweekly aggregation; holiday tagging; scheduled updates for external features
- **Retraining Ops**: CSV export from `weekly_sales_summary`, threshold/periodic retrain triggers

#### Leader - Additional Projects

**Team Member:** L√™ Th√†nh C√¥ng

Ngo√†i vai tr√≤ Leader v√† Backend Developer trong d·ª± √°n ch√≠nh, Leader c√≤n th·ª±c hi·ªán side project ri√™ng:

**Project: Website B√°n Code (24/10 - 01/11/2025)** ‚úÖ Completed & Deployed

- **M√¥ t·∫£:** Full-stack web application cho vi·ªác b√°n v√† qu·∫£n l√Ω activation codes
- **Tech Stack:**
  - Frontend: ReactJs
  - Backend: nodejs
  - Database: NeonDB/PostgreSQL
  - Deployment: Cloud hosting (backend d√πng render, frontend d√πng vercel)
- **Features:**
  - Code generation v√† management
  - Payment integration (M√¥ ph·ªèng ch·ª© kh√¥ng thanh to√°n th·∫≠t)
  - Admin dashboard (Trang ch√≠nh)
  - Code validation API
- **Status:** ƒê√£ ho√†n th√†nh v√† deploy th√†nh c√¥ng
- **Integration:** API ƒë∆∞·ª£c t√≠ch h·ª£p v√†o MyShop2025 cho ch·ª©c nƒÉng `Admin code activation`

![webcode1](https://hackmd.io/_uploads/H1AKtMyJWl.png)
![webcode2](https://hackmd.io/_uploads/SJJiFMJ1Zx.png)

**Link trang web:** [ADMIN-PORTAL](https://adminportal-psi.vercel.app)

**Note:** Project n√†y ƒë∆∞·ª£c th·ª±c hi·ªán song song v·ªõi nhi·ªám v·ª• Leader v√† kh√¥ng ·∫£nh h∆∞·ªüng ƒë·∫øn timeline ch√≠nh c·ªßa MyShop2025.

### 3.2. C√¥ng c·ª• theo d√µi ti·∫øn ƒë·ªô

- **Project Management:**
  - GitHub Projects - Theo d√µi issues v√† pull requests
- **Communication:**
  - Zalo Group - Communication h√†ng ng√†y
  - Google Meet - Th∆∞·ªùng xuy√™n meet ƒë·ªÉ ph√¢n vi·ªác v√† theo d√µi b√°o c√°o
  - Offline meetings - H·ªçp tr·ª±c ti·∫øp khi c·∫ßn thi·∫øt
- **Code Management:**
  - GitHub Repository
  - GitHub Pull Request - Code review process
- **Documentation:**

  - Notion/Docs - Ghi ch√∫ n·ªôi dung c·∫ßn thi·∫øt, n·ªôi dung cu·ªôc h·ªçp
  - Code comments: comment ƒë·ªÉ ng∆∞·ªùi trong team h·ªó tr·ª£ x·ª≠ l√≠

- **Task Tracking:**

  - Zalo Group: Theo d√µi ti·∫øn tr√¨nh, nh·∫Øc nh·ª°, g·ª≠i file markdown ph√¢n chia vi·ªác
  - Markdown files: Th·ª±c hi·ªán ph√¢n chia task v√† c√°c template b√°o c√°o
  - Hackmd: d√πng ƒë·ªÉ th·ª±c hi·ªán vi·∫øt b√°o c√°o c√πng nhau c·∫£ team d·∫°ng markdown
  - Trello: ƒê·ªÉ ph√¢n chia task v·ª• ch√≠nh s·∫Ω th·ª±c hi·ªán trong th·ªùi gian bao l√¢u, s·∫Ω b√°o c√°o nh·∫Øc ng∆∞·ªùi th·ª±c hi·ªán tr∆∞·ªõc 1 ng√†y ƒë·ªÉ ƒë·∫£m b·∫£o k·ªãp ti·∫øn ƒë·ªô

- **Screenshot showing the use of the tool:**
  - S·ª≠ d·ª•ng github qu·∫£n l√≠ [repository](https://github.com/05-victor/MyShop2025):
    ![image](https://hackmd.io/_uploads/SJ0jAMJybe.png)
  - S·ª≠ d·ª•ng Hackmd ƒë·ªÉ vi·∫øt report:
    ![image](https://hackmd.io/_uploads/SyDCy7kyWe.png)
  - S·ª≠ d·ª•ng [Trello](https://trello.com/invite/b/6900a46d2e34563da489c3f5/ATTId5e7db9a9b2e7dd86ceca2b4bdfc89d419C4829F/window):
    ![image](https://hackmd.io/_uploads/ryyPgXkJbx.png)
    ![image](https://hackmd.io/_uploads/H1VdgQ11Ze.png)

### 3.3. Chi·∫øn l∆∞·ª£c l√†m vi·ªác v·ªõi Git

#### 3.3.1. Git Repository v√† Branch Strategy

**Repository:** GitHub ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m n∆°i l∆∞u tr·ªØ code chung cho c·∫£ team

**Branch Structure:**

- **master (main):** Nh√°nh ch√≠nh ch·ª©a code ·ªïn ƒë·ªãnh, s·∫µn s√†ng deploy
- **Feature branches:** C√°c nh√°nh ri√™ng ƒë∆∞·ª£c t·∫°o ra khi c·∫ßn:
  - Ph√°t tri·ªÉn feature m·ªõi
  - S·ª≠a l·ªói (bug fix)
  - C·∫£i ti·∫øn code (refactor)

**Quy tr√¨nh l√†m vi·ªác:**

1. Developer t·∫°o branch m·ªõi t·ª´ master khi b·∫Øt ƒë·∫ßu l√†m feature/fix
2. Th·ª±c hi·ªán code tr√™n branch ri√™ng
3. Test v√† ƒë·∫£m b·∫£o code ch·∫°y ƒë∆∞·ª£c
4. T·∫°o Pull Request ƒë·ªÉ merge v√†o master
5. Ch·ªù review v√† approval
6. Merge v√†o master sau khi ƒë∆∞·ª£c approve

#### 3.3.2. Branch Naming

**Hi·ªán t·∫°i:** Ch∆∞a tu√¢n theo convention c·ª• th·ªÉ, team ƒë·∫∑t t√™n branch theo m√¥ t·∫£ ng·∫Øn g·ªçn v·ªÅ c√¥ng vi·ªác

**V√≠ d·ª•:**

- `initial-api-product-and-config-jwt`
- `fix-cors`
- `Initial-base-function`
- `VerifyEmailProcess`
  ![image](https://hackmd.io/_uploads/Byt5xm11Zl.png)

**K·∫ø ho·∫°ch:** S·∫Ω c·∫£i thi·ªán v√† √°p d·ª•ng naming convention chu·∫©n h∆°n trong t∆∞∆°ng lai khi team ƒë√£ quen v·ªõi Git workflow

#### 3.3.3. Pull Request v√† Code Review Process

**Quy tr√¨nh Pull Request:**

1. **T·∫°o Pull Request:**

   - Developer t·∫°o PR t·ª´ feature branch v√†o master
   - M√¥ t·∫£ ng·∫Øn g·ªçn nh·ªØng thay ƒë·ªïi ƒë√£ l√†m
   - Tag reviewer (Leader ho·∫∑c Team Lead)

2. **Code Review:**

   - **Leader** (L√™ Th√†nh C√¥ng) s·∫Ω review code, ho·∫∑c
   - **Team Lead** (L√™ T·∫•n Hi·ªáp cho Frontend) s·∫Ω ki·ªÉm so√°t code tr∆∞·ªõc
   - Reviewer ki·ªÉm tra:
     - Code c√≥ ho·∫°t ƒë·ªông ƒë√∫ng kh√¥ng
     - Logic nghi·ªáp v·ª• c√≥ h·ª£p l√Ω kh√¥ng
     - C√≥ bug ho·∫∑c l·ªói ti·ªÅm ·∫©n kh√¥ng
     - Code c√≥ d·ªÖ ƒë·ªçc v√† maintain kh√¥ng

3. **Approval v√† Merge:**
   - Sau khi reviewer approve
   - Leader ho·∫∑c Team Lead th·ª±c hi·ªán merge v√†o master
   - Gi·∫£i quy·∫øt conflicts n·∫øu c√≥

**Ph√¢n c√¥ng Review:**

- **Backend code:** Leader (L√™ Th√†nh C√¥ng) review
- **Frontend code:** Team Lead Frontend (L√™ T·∫•n Hi·ªáp) review tr∆∞·ªõc, sau ƒë√≥ Leader approve
- **AI code:** Nh·∫≠n b√°o c√°o t·ª´ Ho√†ng v√† nh·∫≠n ch·∫•p thu·∫≠n t·ª´ Leader

**Note:** Quy tr√¨nh n√†y ƒëang ƒë∆∞·ª£c √°p d·ª•ng linh ho·∫°t v√† s·∫Ω ƒë∆∞·ª£c c·∫£i thi·ªán d·∫ßn theo kinh nghi·ªám c·ªßa team

---

## 4. KI·∫æN TR√öC PH·∫¶N M·ªÄM

**[PH√ÇN C√îNG: FRONTEND + BACKEND]**

### 4.1. T·ªïng quan

**[PH√ÇN C√îNG: BACKEND DEVELOPER - Th·ªãnh]**

H·ªá th·ªëng ƒë∆∞·ª£c thi·∫øt k·∫ø v√† ph√°t tri·ªÉn theo h∆∞·ªõng **Clean Architecture** k·∫øt h·ª£p v·ªõi **Three-Layer Architecture (Presentation - Business - Data)**.  
M·ª•c ti√™u c·ªßa ki·∫øn tr√∫c n√†y l√† ƒë·∫£m b·∫£o:

- **T√°ch bi·ªát tr√°ch nhi·ªám (Separation of Concerns)** r√µ r√†ng gi·ªØa c√°c t·∫ßng.
- **D·ªÖ d√†ng b·∫£o tr√¨ v√† m·ªü r·ªông (Maintainability & Extensibility)** trong t∆∞∆°ng lai.
- **TƒÉng kh·∫£ nƒÉng ki·ªÉm th·ª≠ (Testability)** nh·ªù √°p d·ª•ng Dependency Injection.
- **B·∫£o m·∫≠t v√† t√≠nh ·ªïn ƒë·ªãnh cao (Security & Stability)** cho h·ªá th·ªëng th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠.

H·ªá th·ªëng ƒë∆∞·ª£c x√¢y d·ª±ng tr√™n n·ªÅn **ASP.NET Core**, s·ª≠ d·ª•ng **Entity Framework Core** cho qu·∫£n l√Ω c∆° s·ªü d·ªØ li·ªáu, **Dependency Injection** ƒë·ªÉ qu·∫£n l√Ω v√≤ng ƒë·ªùi ƒë·ªëi t∆∞·ª£ng, v√† **Repository Pattern** ƒë·ªÉ t√°ch bi·ªát logic truy c·∫≠p d·ªØ li·ªáu kh·ªèi nghi·ªáp v·ª•.

---

**[PH√ÇN C√îNG: BACKEND DEVELOPER - Th·ªãnh]**

#### 4.1.1. Layers Overview

C·∫•u tr√∫c t·ªïng th·ªÉ c·ªßa h·ªá th·ªëng backend ƒë∆∞·ª£c m√¥ t·∫£ qua b·ªën t·∫ßng ch√≠nh:

1. **Presentation Layer (API Controllers)**

   - Ti·∫øp nh·∫≠n v√† x·ª≠ l√Ω request t·ª´ client.
   - Th·ª±c hi·ªán validation d·ªØ li·ªáu ƒë·∫ßu v√†o.
   - G·ªçi t·ªõi c√°c service t∆∞∆°ng ·ª©ng ƒë·ªÉ x·ª≠ l√Ω nghi·ªáp v·ª•.
   - Tr·∫£ k·∫øt qu·∫£ v·ªÅ cho client d∆∞·ªõi d·∫°ng HTTP response chu·∫©n h√≥a.

2. **Application / Service Layer**

   - Ch·ª©a logic nghi·ªáp v·ª• c·ªßa h·ªá th·ªëng.
   - ƒê√≥ng vai tr√≤ c·∫ßu n·ªëi gi·ªØa Controller v√† Repository.
   - Th·ª±c hi·ªán c√°c x·ª≠ l√Ω nh∆∞ x√°c th·ª±c, ki·ªÉm tra quy·ªÅn, x·ª≠ l√Ω d·ªØ li·ªáu, g·ª≠i email, sinh JWT,...

3. **Domain Layer (Entities & Interfaces)**

   - ƒê·ªãnh nghƒ©a c√°c **th·ª±c th·ªÉ (Entities)**, **interface (contracts)** cho repository v√† service.
   - L√† trung t√¢m logic nghi·ªáp v·ª•, ƒë·ªôc l·∫≠p v·ªõi c∆° s·ªü d·ªØ li·ªáu ho·∫∑c framework.

4. **Infrastructure / Data Layer**
   - Ch·ªãu tr√°ch nhi·ªám thao t√°c v·ªõi c∆° s·ªü d·ªØ li·ªáu th√¥ng qua **Entity Framework Core**.
   - Ch·ª©a c√°c **repository hi·ªán th·ª±c**, **DbContext**, **migration scripts**, v√† c√°c **adapter k·∫øt n·ªëi** d·ªãch v·ª• ngo√†i nh∆∞ email, JWT.

> **Nguy√™n t·∫Øc ph·ª• thu·ªôc (Dependency Rule):**  
> C√°c t·∫ßng c·∫•p cao ch·ªâ ph·ª• thu·ªôc v√†o t·∫ßng c·∫•p th·∫•p h∆°n th√¥ng qua **interface**,  
> tuy·ªát ƒë·ªëi kh√¥ng ph·ª• thu·ªôc v√†o c√°c hi·ªán th·ª±c c·ª• th·ªÉ (concrete classes).

S∆° ƒë·ªì minh h·ªça:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Presentation Layer        ‚îÇ ‚Üê Controllers, DTOs
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ           Application Layer         ‚îÇ ‚Üê Use Cases, Services
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ             Domain Layer            ‚îÇ ‚Üê Entities, Interfaces
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ          Infrastructure Layer       ‚îÇ ‚Üê Database, External APIs
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### 4.1.2. Lu·ªìng x·ª≠ l√Ω y√™u c·∫ßu (Request Flow)

Khi ng∆∞·ªùi d√πng th·ª±c hi·ªán m·ªôt h√†nh ƒë·ªông (v√≠ d·ª•: ƒëƒÉng nh·∫≠p), lu·ªìng x·ª≠ l√Ω s·∫Ω di·ªÖn ra nh∆∞ sau:

1. Client g·ª≠i HTTP request ƒë·∫øn endpoint /api/auth/login.

2. AuthController nh·∫≠n request, x√°c th·ª±c d·ªØ li·ªáu ƒë·∫ßu v√†o.

3. G·ªçi AuthService.LoginAsync() ƒë·ªÉ x·ª≠ l√Ω nghi·ªáp v·ª•.

4. AuthService s·ª≠ d·ª•ng UserRepository ƒë·ªÉ truy v·∫•n d·ªØ li·ªáu ng∆∞·ªùi d√πng t·ª´ DB.

5. N·∫øu h·ª£p l·ªá, AuthService sinh JWT token v√† tr·∫£ k·∫øt qu·∫£ v·ªÅ controller.

6. Controller tr·∫£ v·ªÅ ApiResponse ch·ª©a th√¥ng tin ƒëƒÉng nh·∫≠p v√† token cho client.

```mermaid
sequenceDiagram
    participant C as Client
    participant A as AuthController
    participant S as AuthService
    participant R as IUserRepository
    participant J as IJwtService
    participant D as Database

    C->>A: 1. POST /api/v1/auth/login (v·ªõi LoginRequest)

    activate A
    A->>A: 2. Validate(LoginRequest)
    A->>S: 3. LoginAsync(request)

    activate S
    S->>R: 4. GetByUsernameAsync() / GetByEmailAsync()

    activate R
    R->>D: 5. SELECT * FROM users WHERE...
    activate D
    D-->>R: 6. User Entity (ho·∫∑c null)
    deactivate D
    R-->>S: 7. Tr·∫£ v·ªÅ User Entity
    deactivate R

    alt User t·ªìn t·∫°i v√† M·∫≠t kh·∫©u h·ª£p l·ªá
        S->>S: 8. Verify Password (BCrypt.Verify)
        S->>J: 9. GenerateAccessTokenAsync(user)

        activate J
        J-->>S: 10. Tr·∫£ v·ªÅ JWT Token
        deactivate J

        S-->>A: 11. LoginResponse (ch·ª©a token)
    else User kh√¥ng t·ªìn t·∫°i ho·∫∑c M·∫≠t kh·∫©u sai
        S-->>A: N√©m ra UnauthorizedAccessException
    end

    deactivate S

    alt ƒêƒÉng nh·∫≠p th√†nh c√¥ng
        A-->>C: 12. HTTP 200 OK (ApiResponse - Success)
    else ƒêƒÉng nh·∫≠p th·∫•t b·∫°i
        A-->>C: HTTP 401 Unauthorized (ApiResponse - Error)
    end

    deactivate A
```

#### 4.1.3. Dependency Injection

D·ª± √°n √°p d·ª•ng Dependency Injection (DI) ƒë·ªÉ qu·∫£n l√Ω v√≤ng ƒë·ªùi v√† ph·ª• thu·ªôc gi·ªØa c√°c l·ªõp.
C√°c interface v√† hi·ªán th·ª±c c·ªßa ch√∫ng ƒë∆∞·ª£c ƒëƒÉng k√Ω trong Program.cs nh∆∞ sau:

```csharp
builder.Services.AddScoped<IUserRepository, UserRepository>();
builder.Services.AddScoped<IAuthService, AuthService>();
builder.Services.AddScoped<IJwtService, JwtService>();
//...
```

Nh·ªù c∆° ch·∫ø n√†y, c√°c l·ªõp nh∆∞ AuthController ch·ªâ c·∫ßn ph·ª• thu·ªôc v√†o interface (IAuthService),
gi√∫p tƒÉng kh·∫£ nƒÉng test, b·∫£o tr√¨, v√† thay th·∫ø trong t∆∞∆°ng lai.

```mermaid
classDiagram
    direction LR

    class DI_Container {
        <<Service Registry>>
        +ƒêƒÉng k√Ω(Interface, Implementation)
        +Ph√¢n gi·∫£i<T>()
    }

    class AuthController {
        -IAuthService authService
        +AuthController(IAuthService authService)
    }

    class AuthService {
        -IUserRepository userRepository
        -IJwtService jwtService
        +AuthService(IUserRepository userRepo, IJwtService jwtSvc)
    }

    class UserRepository
    class JwtService

    class IAuthService {
        <<interface>>
    }

    class IUserRepository {
        <<interface>>
    }

    class IJwtService {
        <<interface>>
    }

    DI_Container ..> AuthController : "Injects (ti√™m v√†o)"
    AuthController o-- IAuthService : "Depends on (ph·ª• thu·ªôc v√†o)"

    DI_Container ..> AuthService : "Injects"
    AuthService o-- IUserRepository : "Depends on"
    AuthService o-- IJwtService : "Depends on"

    IAuthService <|.. AuthService : "Implements (hi·ªán th·ª±c h√≥a)"
    IUserRepository <|.. UserRepository : "Implements"
    IJwtService <|.. JwtService : "Implements"
```

### 4.2. Three Layer Architecture (Backend)

**[PH√ÇN C√îNG: BACKEND DEVELOPER - Th·ªãnh]**

ƒê·ªÉ ƒë·∫£m b·∫£o t√≠nh linh ho·∫°t, d·ªÖ b·∫£o tr√¨ v√† m·ªü r·ªông, h·ªá th·ªëng MyShop2025 ƒë∆∞·ª£c thi·∫øt k·∫ø theo ki·∫øn tr√∫c 3 l·ªõp (3-Tier Architecture). Ki·∫øn tr√∫c n√†y ph√¢n t√°ch ·ª©ng d·ª•ng th√†nh ba t·∫ßng logic ri√™ng bi·ªát: T·∫ßng Tr√¨nh B√†y (Presentation Layer), T·∫ßng Nghi·ªáp V·ª• (Business Logic Layer), v√† T·∫ßng Truy C·∫≠p D·ªØ Li·ªáu (Data Access Layer). M·ªói t·∫ßng c√≥ m·ªôt tr√°ch nhi·ªám c·ª• th·ªÉ v√† ch·ªâ giao ti·∫øp v·ªõi c√°c t·∫ßng li·ªÅn k·ªÅ n√≥, gi√∫p gi·∫£m s·ª± ph·ª• thu·ªôc v√† tƒÉng t√≠nh module h√≥a.

S∆° ƒë·ªì lu·ªìng d·ªØ li·ªáu t·ªïng quan gi·ªØa c√°c t·∫ßng ƒë∆∞·ª£c minh h·ªça nh∆∞ sau:

```mermaid
graph TD
    subgraph Client
        A[WinUI 3 App]
    end

    subgraph Server
        subgraph Presentation Layer
            B(API Controllers)
            C(Data Transfer Objects - DTOs)
            B -- validates & uses --> C
        end

        subgraph Business Logic Layer
            D(Services & Interfaces)
            E(Domain Logic & Rules)
            D -- implements --> E
        end

        subgraph Data Access Layer
            F(Repositories & Interfaces)
            G(DbContext - Entity Framework Core)
            H(Entities)
            F -- uses --> G
            G -- maps to --> H
        end

        subgraph Database
            I[PostgreSQL Database]
        end
    end

    A -- HTTP Request (s·ª≠ d·ª•ng DTOs) --> B
    B -- G·ªçi ph∆∞∆°ng th·ª©c --> D
    D -- G·ªçi ph∆∞∆°ng th·ª©c --> F
    F -- Truy v·∫•n th√¥ng qua EF Core --> I
    I -- Tr·∫£ v·ªÅ d·ªØ li·ªáu --> F
    F -- Tr·∫£ v·ªÅ Entities --> D
    D -- √Ånh x·∫° Entities sang DTOs --> B
    B -- HTTP Response (ch·ª©a DTOs) --> A
```

#### 4.2.1. T·∫ßng Tr√¨nh B√†y (Presentation Layer)

T·∫ßng n√†y l√† b·ªô m·∫∑t c·ªßa backend, ch·ªãu tr√°ch nhi·ªám x·ª≠ l√Ω m·ªçi giao ti·∫øp v·ªõi th·∫ø gi·ªõi b√™n ngo√†i (c·ª• th·ªÉ l√† ·ª©ng d·ª•ng client WinUI 3). N√≥ kh√¥ng ch·ª©a logic nghi·ªáp v·ª• m√† ch·ªâ ƒë√≥ng vai tr√≤ trung gian, x√°c th·ª±c v√† ƒëi·ªÅu h∆∞·ªõng y√™u c·∫ßu.

**Controllers**: L√† c√°c ƒëi·ªÉm cu·ªëi (endpoints) c·ªßa API, ti·∫øp nh·∫≠n c√°c y√™u c·∫ßu HTTP (GET, POST, PUT, DELETE). M·ªói Controller trong d·ª± √°n (`AuthController`, `UserController`, `RoleController`,...) ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ x·ª≠ l√Ω m·ªôt nh√≥m ch·ª©c nƒÉng c·ª• th·ªÉ. Ch√∫ng ch·ªãu tr√°ch nhi·ªám x√°c th·ª±c d·ªØ li·ªáu ƒë·∫ßu v√†o t·ª´ client th√¥ng qua c√°c DTOs, sau ƒë√≥ g·ªçi ƒë·∫øn c√°c ph∆∞∆°ng th·ª©c t∆∞∆°ng ·ª©ng ·ªü t·∫ßng Business Logic ƒë·ªÉ x·ª≠ l√Ω nghi·ªáp v·ª•. Cu·ªëi c√πng, Controller ƒë·ªãnh d·∫°ng d·ªØ li·ªáu tr·∫£ v·ªÅ t·ª´ t·∫ßng Business v√† g√≥i ch√∫ng trong m·ªôt c·∫•u tr√∫c `ApiResponse<T>` th·ªëng nh·∫•t tr∆∞·ªõc khi g·ª≠i l·∫°i cho client d∆∞·ªõi d·∫°ng JSON.

- **V√≠ d·ª• th·ª±c ti·ªÖn**:

- Trong `AuthController.cs`, ph∆∞∆°ng th·ª©c Register ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a ƒë·ªÉ x·ª≠ l√Ω y√™u c·∫ßu ƒëƒÉng k√Ω t√†i kho·∫£n m·ªõi.

  ```csharp
  // File: src/MyShop.Server/Controllers/AuthController.cs

  [ApiController]
  [Route("api/v1/[controller]")]
  public class AuthController : ControllerBase
  {
      // ... DI cho IAuthService

      [HttpPost("register")] // ƒê·ªãnh nghƒ©a endpoint: POST /api/v1/auth/register
      public async Task<ActionResult<ApiResponse<CreateUserResponse>>> Register(
          [FromBody] CreateUserRequest request) // Nh·∫≠n d·ªØ li·ªáu t·ª´ body c·ªßa request, √°nh x·∫° v√†o DTO
      {
          if (!ModelState.IsValid) // X√°c th·ª±c d·ªØ li·ªáu ƒë·∫ßu v√†o d·ª±a tr√™n c√°c quy t·∫Øc trong DTO
          {
              // Tr·∫£ v·ªÅ l·ªói 400 n·∫øu d·ªØ li·ªáu kh√¥ng h·ª£p l·ªá
              return BadRequest(...);
          }

          // G·ªçi ƒë·∫øn t·∫ßng Business Logic ƒë·ªÉ x·ª≠ l√Ω nghi·ªáp v·ª•
          var response = await _authService.RegisterAsync(request);

          // G√≥i k·∫øt qu·∫£ v√†o m·ªôt c·∫•u tr√∫c ApiResponse chu·∫©n v√† tr·∫£ v·ªÅ cho client
          return Ok(ApiResponse<CreateUserResponse>.SuccessResponse(response, ...));
      }
  }
  ```

- Th·ªëng nh·∫•t ki·ªÉu tr·∫£ v·ªÅ b·∫±ng c·∫•u tr√∫c `ApiResponse<>`, gi√∫p bao b·ªçc th√¥ng tin & ki·ªÉm so√°t l·ªói d·ªÖ d√†ng

```csharp
public class ApiResponse<T>
{
    public int Code { get; set; }

    public string Message { get; set; } = string.Empty;

    public T? Result { get; set; }

    public bool Success => Code >= 200 && Code < 300;

    public static ApiResponse<T> SuccessResponse(T data, string message = "Success", int code = 200)
    {
        return new ApiResponse<T>
        {
            Code = code,
            Message = message,
            Result = data
        };
    }

    public static ApiResponse<T> ErrorResponse(string message, int code = 400)
    {
        return new ApiResponse<T>
        {
            Code = code,
            Message = message,
            Result = default
        };
    }

    public static ApiResponse<T> NotFoundResponse(string message = "Resource not found")
    {
        return new ApiResponse<T>
        {
            Code = 404,
            Message = message,
            Result = default
        };
    }

    public static ApiResponse<T> UnauthorizedResponse(string message = "Unauthorized")
    {
        return new ApiResponse<T>
        {
            Code = 401,
            Message = message,
            Result = default
        };
    }

    /// ...
}
```

=> Nh∆∞ v√≠ d·ª• tr√™n, Controller ch·ªâ l√†m nhi·ªám v·ª• ƒëi·ªÅu ph·ªëi, ƒë·∫£m b·∫£o t√≠nh ƒë∆°n nh·∫•t tr√°ch nhi·ªám (Single Responsibility Principle).

**DTOs (Data Transfer Objects)**: L√† c√°c l·ªõp ƒë·ªëi t∆∞·ª£ng ƒë∆°n gi·∫£n (POCO - Plain Old C# Object) ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ truy·ªÅn d·ªØ li·ªáu gi·ªØa client v√† server. Vi·ªác s·ª≠ d·ª•ng DTOs gi√∫p:

- T√°ch bi·ªát (Decoupling): T√°ch bi·ªát m√¥ h√¨nh d·ªØ li·ªáu c·ªßa t·∫ßng DAL (Entities) kh·ªèi c·∫•u tr√∫c d·ªØ li·ªáu m√† API cung c·∫•p ra b√™n ngo√†i.

- B·∫£o m·∫≠t: Ch·ªâ hi·ªÉn th·ªã nh·ªØng th√¥ng tin c·∫ßn thi·∫øt cho client, che gi·∫•u c√°c chi ti·∫øt tri·ªÉn khai c·ªßa c∆° s·ªü d·ªØ li·ªáu.

- T·ªëi ∆∞u h√≥a: Gi·∫£m l∆∞·ª£ng d·ªØ li·ªáu kh√¥ng c·∫ßn thi·∫øt truy·ªÅn qua m·∫°ng. Trong d·ª± √°n, c√°c DTOs ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong MyShop.Shared/DTOs v√† ƒë∆∞·ª£c ph√¢n lo·∫°i r√µ r√†ng th√†nh Requests (v√≠ d·ª•: `CreateUserRequest`, `LoginRequest`) v√† Responses (v√≠ d·ª•: `UserInfoResponse`, `LoginResponse`).

- **V√≠ d·ª• th·ª±c ti·ªÖn:**

- **Request DTO** v·ªõi Validation: `CreateUserRequest.cs` ƒë·ªãnh nghƒ©a c·∫•u tr√∫c d·ªØ li·ªáu m√† client ph·∫£i g·ª≠i l√™n khi ƒëƒÉng k√Ω, ƒë·ªìng th·ªùi ch·ª©a c√°c quy t·∫Øc x√°c th·ª±c (validation rules).

  ```csharp
  // File: src/MyShop.Shared/DTOs/Requests/CreateUserRequest.cs

  public class CreateUserRequest
  {
      [Required(ErrorMessage = "T√™n ƒëƒÉng nh·∫≠p kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng")]
      [MaxLength(100, ErrorMessage = "T√™n ƒëƒÉng nh·∫≠p kh√¥ng ƒë∆∞·ª£c v∆∞·ª£t qu√° 100 k√Ω t·ª±")]
      public string Username { get; set; } = string.Empty;

      [Required(ErrorMessage = "Email kh√¥ng ƒë∆∞·ª£c ƒë·ªÉ tr·ªëng")]
      [EmailAddress(ErrorMessage = "Email kh√¥ng ƒë√∫ng ƒë·ªãnh d·∫°ng")]
      public string Email { get; set; } = string.Empty;
      //...
  }
  ```

- **Response DTO**: `UserInfoResponse.cs` ƒë·ªãnh nghƒ©a c√°c th√¥ng tin an to√†n v√† c·∫ßn thi·∫øt ƒë·ªÉ tr·∫£ v·ªÅ cho client sau khi l·∫•y th√¥ng tin ng∆∞·ªùi d√πng, lo·∫°i b·ªè c√°c tr∆∞·ªùng nh·∫°y c·∫£m nh∆∞ Password.

  ```csharp
  // File: src/MyShop.Shared/DTOs/Responses/UserInfoResponse.cs

  public class UserInfoResponse
  {
      public Guid Id { get; set; }
      public string Username { get; set; } = string.Empty;
      public string Email { get; set; } = string.Empty;
      public DateTime CreatedAt { get; set; }
      public List<string> RoleNames { get; set; } = new List<string>();
      //...
  }
  ```

#### 4.2.2. Business Logic Layer

ƒê√¢y l√† t·∫ßng c·ªët l√µi, ch·ª©a ƒë·ª±ng to√†n b·ªô logic, quy tr√¨nh v√† quy t·∫Øc nghi·ªáp v·ª• c·ªßa ·ª©ng d·ª•ng. N√≥ ho√†n to√†n kh√¥ng bi·∫øt g√¨ v·ªÅ giao di·ªán ng∆∞·ªùi d√πng hay c√°ch d·ªØ li·ªáu ƒë∆∞·ª£c l∆∞u tr·ªØ.

**Services v√† Dependency Inversion**: T·∫ßng n√†y ƒë∆∞·ª£c t·ªï ch·ª©c theo Service Pattern. M·ªói Service ch·ªãu tr√°ch nhi·ªám cho m·ªôt nh√≥m nghi·ªáp v·ª• c·ª• th·ªÉ. √Åp d·ª•ng nguy√™n l√Ω ƒê·∫£o ng∆∞·ª£c Ph·ª• thu·ªôc (Dependency Inversion) b·∫±ng c√°ch ƒë·ªãnh nghƒ©a c√°c interface cho m·ªói service. ƒêi·ªÅu n√†y gi√∫p h·ªá th·ªëng tr·ªü n√™n linh ho·∫°t v√† d·ªÖ ki·ªÉm th·ª≠.

- **V√≠ d·ª• th·ª±c ti·ªÖn:** `IAuthService` ƒë·ªãnh nghƒ©a c√°c h·ª£p ƒë·ªìng cho nghi·ªáp v·ª• x√°c th·ª±c, trong khi `AuthService` l√† l·ªõp tri·ªÉn khai c·ª• th·ªÉ.

  _Interface ƒë·ªãnh nghƒ©a h·ª£p ƒë·ªìng:_

  ```csharp
  // File: src/MyShop.Server/Services/Interfaces/IAuthService.cs

  public interface IAuthService
  {
      Task<CreateUserResponse> RegisterAsync(CreateUserRequest request);
      Task<LoginResponse> LoginAsync(LoginRequest request);
      Task<UserInfoResponse?> GetMeAsync();
  }
  ```

  _L·ªõp Service tri·ªÉn khai nghi·ªáp v·ª• v√† ph·ª• thu·ªôc v√†o c√°c Abstraction c·ªßa t·∫ßng DAL:_

  ```csharp
  // File: src/MyShop.Server/Services/Implementations/AuthService.cs

  public class AuthService : IAuthService
  {
      private readonly IUserRepository _userRepository; // Ph·ª• thu·ªôc v√†o Interface, kh√¥ng ph·∫£i l·ªõp c·ª• th·ªÉ
      private readonly IJwtService _jwtService;
      private readonly ILogger<AuthService> _logger;

      public AuthService(IUserRepository userRepository, IJwtService jwtService, ...)
      {
          _userRepository = userRepository;
          _jwtService = jwtService;
          //...
      }

      public async Task<LoginResponse> LoginAsync(LoginRequest request)
      {
          // 1. T√¨m ng∆∞·ªùi d√πng
          var user = await _userRepository.GetByUsernameAsync(request.UsernameOrEmail)
                  ?? await _userRepository.GetByEmailAsync(request.UsernameOrEmail);

          if (user == null) { throw new UnauthorizedAccessException(...); }

          // 2. X√°c th·ª±c m·∫≠t kh·∫©u
          if (!BCrypt.Net.BCrypt.Verify(request.Password, user.Password))
          {
              throw new UnauthorizedAccessException(...);
          }

          // 3. T·∫°o token
          var token = await _jwtService.GenerateAccessTokenAsync(user);

          // 4. √Ånh x·∫° sang DTO v√† tr·∫£ v·ªÅ
          return new LoginResponse { /* ... */ };
      }
  }
  ```

#### 4.2.3. Data Access Layer

T·∫ßng n√†y ch·ªãu tr√°ch nhi·ªám ho√†n to√†n v·ªÅ vi·ªác t∆∞∆°ng t√°c v·ªõi c∆° s·ªü d·ªØ li·ªáu, bao g·ªìm vi·ªác l∆∞u tr·ªØ v√† truy xu·∫•t d·ªØ li·ªáu. N√≥ tr·ª´u t∆∞·ª£ng h√≥a c√°c chi ti·∫øt v·ªÅ c∆° s·ªü d·ªØ li·ªáu kh·ªèi t·∫ßng nghi·ªáp v·ª•.

**Repository Pattern**: S·ª≠ d·ª•ng m·∫´u thi·∫øt k·∫ø Repository ƒë·ªÉ ƒë√≥ng g√≥i logic truy c·∫≠p d·ªØ li·ªáu. M·ªói Repository ho·∫°t ƒë·ªông nh∆∞ m·ªôt b·ªô s∆∞u t·∫≠p c√°c ƒë·ªëi t∆∞·ª£ng trong b·ªô nh·ªõ, gi√∫p che gi·∫•u c√°c chi ti·∫øt truy v·∫•n c·ªßa Entity Framework Core kh·ªèi t·∫ßng BLL.

- **V√≠ d·ª• th·ª±c ti·ªÖn:** `IUserRepository` v√† `UserRepository`.

  _Interface c·ªßa Repository:_

  ```csharp
  // File: src/MyShop.Data/Repositories/Interfaces/IUserRepository.cs

  public interface IUserRepository
  {
      Task<User?> GetByIdAsync(Guid id);
      Task<User?> GetByUsernameAsync(string username);
      Task<User> CreateAsync(User user);
      Task<bool> ExistsAsync(string username, string email);
  }
  ```

  _Tri·ªÉn khai Repository s·ª≠ d·ª•ng EF Core:_

  ```csharp
  // File: src/MyShop.Data/Repositories/UserRepository.cs

  public class UserRepository : IUserRepository
  {
      private readonly ShopContext _context; // DbContext ƒë∆∞·ª£c inject v√†o

      public UserRepository(ShopContext context)
      {
          _context = context;
      }

      public async Task<User?> GetByUsernameAsync(string username)
      {
          // S·ª≠ d·ª•ng LINQ ƒë·ªÉ truy v·∫•n, EF Core s·∫Ω d·ªãch n√≥ th√†nh SQL
          return await _context.Users
              .Include(u => u.Roles) // T·∫£i k√®m d·ªØ li·ªáu li√™n quan (eager loading)
              .FirstOrDefaultAsync(u => u.Username == username);
      }

      //... c√°c ph∆∞∆°ng th·ª©c kh√°c
  }
  ```

**Database Context (ShopContext)**: ƒê√¢y l√† tr√°i tim c·ªßa vi·ªác t∆∞∆°ng t√°c v·ªõi CSDL b·∫±ng EF Core. ShopContext ƒë·∫°i di·ªán cho m·ªôt phi√™n l√†m vi·ªác v·ªõi c∆° s·ªü d·ªØ li·ªáu, cho ph√©p truy v·∫•n v√† l∆∞u d·ªØ li·ªáu.

- **V√≠ d·ª• th·ª±c ti·ªÖn:** Trong `ShopContext.cs` ƒë·ªãnh nghƒ©a c√°c `DbSet` v√† c·∫•u h√¨nh c√°c m·ªëi quan h·ªá.

  ```csharp
  // File: src/MyShop.Data/ShopContext.cs

  public class ShopContext : DbContext
  {
      public DbSet<User> Users { get; set; }
      public DbSet<Role> Roles { get; set; }
      public DbSet<Product> Products { get; set; }
      //...

      protected override void OnModelCreating(ModelBuilder modelBuilder)
      {
          base.OnModelCreating(modelBuilder);

          // C·∫•u h√¨nh quan h·ªá nhi·ªÅu-nhi·ªÅu gi·ªØa User v√† Role
          modelBuilder.Entity<User>()
              .HasMany(u => u.Roles)
              .WithMany(r => r.Users)
              .UsingEntity(j => j.ToTable("user_roles"));

          // Thi·∫øt l·∫≠p r√†ng bu·ªôc duy nh·∫•t (unique constraint) cho c·ªôt Username
          modelBuilder.Entity<User>()
              .HasIndex(u => u.Username)
              .IsUnique();
      }
  }
  ```

**Entities:** L√† c√°c l·ªõp C# thu·∫ßn t√∫y (POCO) √°nh x·∫° tr·ª±c ti·∫øp ƒë·∫øn c√°c b·∫£ng trong c∆° s·ªü d·ªØ li·ªáu PostgreSQL. Ch√∫ng ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a trong MyShop.Data/Entities.

- **V√≠ d·ª• th·ª±c ti·ªÖn:** Entity User.cs v·ªõi c√°c thu·ªôc t√≠nh v√† c√°c m·ªëi quan h·ªá.

  ```csharp
  // File: src/MyShop.Data/Entities/User.cs

  public class User
  {
      public Guid Id { get; set; }

      [Required]
      [MaxLength(100)]
      public string Username { get; set; } = string.Empty;

      [Required]
      public string Password { get; set; } = string.Empty;

      // ... c√°c thu·ªôc t√≠nh kh√°c

      // Navigation Property ƒë·ªÉ ƒë·ªãnh nghƒ©a m·ªëi quan h·ªá v·ªõi Role
      public ICollection<Role> Roles { get; set; } = new List<Role>();
  }
  ```

### 4.3. MVVM Pattern (Frontend)

**[PH√ÇN C√îNG: FRONTEND DEVELOPER]**
**Framework:** WinUI 3 + CommunityToolkit.Mvvm
**Nguy√™n t·∫Øc:** Separation of Concerns ‚Äì m·ªói l·ªõp c√≥ m·ªôt tr√°ch nhi·ªám duy nh·∫•t (Single Responsibility ‚Äì SOLID)

#### 4.3.1. Model

#### Data Models

C√°c l·ªõp **Model** ƒë·∫°i di·ªán cho d·ªØ li·ªáu nghi·ªáp v·ª• ch√≠nh c·ªßa h·ªá th·ªëng.
M·ªói model √°nh x·∫° tr·ª±c ti·∫øp v·ªõi c√°c b·∫£ng ho·∫∑c entity trong c∆° s·ªü d·ªØ li·ªáu ho·∫∑c API tr·∫£ v·ªÅ.

C·∫•u tr√∫c th∆∞ m·ª•c:

```
MyShop/
 ‚îú‚îÄ Models/
 ‚îÇ   ‚îú‚îÄ ProductModel.cs
 ‚îÇ   ‚îú‚îÄ OrderModel.cs
 ‚îÇ   ‚îú‚îÄ OrderItemModel.cs
 ‚îÇ   ‚îú‚îÄ CategoryModel.cs
 ‚îÇ   ‚îú‚îÄ UserModel.cs
 ‚îÇ   ‚îú‚îÄ ReportModel.cs
 ‚îÇ   ‚îî‚îÄ AuthModel.cs
```

M·∫´u:

```csharp
public class ProductModel
{
    public int Id { get; set; }
    public string SKU { get; set; }
    public string Name { get; set; }
    public string Category { get; set; }
    public decimal ImportPrice { get; set; }
    public decimal SalePrice { get; set; }
    public int Stock { get; set; }
    public double Rating { get; set; }
    public string ImageUrl { get; set; }
}
```

**ƒê·∫∑c ƒëi·ªÉm ƒë·ªÉ ·ª©ng d·ª•ng:**

- Thu·∫ßn d·ªØ li·ªáu, kh√¥ng ch·ª©a logic x·ª≠ l√Ω.
- D·ªÖ serial h√≥a/deserial h√≥a (JSON <-> C# object).
- D√πng chung cho c·∫£ binding v√† request API.

---

#### API Models

C√°c l·ªõp model trung gian ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ mapping d·ªØ li·ªáu gi·ªØa API v√† UI.
M·∫´u:

```csharp
public class ProductResponse
{
    public List<ProductModel> Data { get; set; }
    public int TotalCount { get; set; }
    public int CurrentPage { get; set; }
}
```

- T√°ch bi·ªát r√µ d·ªØ li·ªáu hi·ªÉn th·ªã (`ProductModel`) v√† d·ªØ li·ªáu ph·∫£n h·ªìi (`ProductResponse`).
- Gi√∫p x·ª≠ l√Ω d·ªÖ h∆°n v·ªõi ph√¢n trang, l·ªçc, v√† response meta-data.
- ƒê∆∞·ª£c ƒë·ªãnh nghƒ©a trong `Models/API/` ƒë·ªÉ d·ªÖ m·ªü r·ªông.

---

#### 4.3.2. View

#### XAML Views

Th∆∞ m·ª•c `Views/` ch·ª©a to√†n b·ªô giao di·ªán ng∆∞·ªùi d√πng (.xaml + .xaml.cs).
M·ªói View t∆∞∆°ng ·ª©ng v·ªõi 1 ViewModel theo nguy√™n t·∫Øc **1‚Äì1 binding**.

M·∫´u c·∫•u tr√∫c:

```
Views/
 ‚îú‚îÄ DashboardPage.xaml
 ‚îú‚îÄ ProductsPage.xaml
 ‚îú‚îÄ OrdersPage.xaml
 ‚îú‚îÄ ReportsPage.xaml
 ‚îú‚îÄ UsersPage.xaml
 ‚îú‚îÄ SettingsPage.xaml
 ‚îú‚îÄ LoginPage.xaml
 ‚îî‚îÄ RegisterPage.xaml
```

**ƒê·∫∑c ƒëi·ªÉm:**

- Kh√¥ng ch·ª©a logic x·ª≠ l√Ω, ch·ªâ d√πng ƒë·ªÉ hi·ªÉn th·ªã.
- K·∫øt n·ªëi d·ªØ li·ªáu b·∫±ng **DataContext** t·ªõi ViewModel t∆∞∆°ng ·ª©ng.
- S·ª≠ d·ª•ng **Binding**, **Converters**, **DataTemplate** v√† **ItemsRepeater** ƒë·ªÉ hi·ªÉn th·ªã danh s√°ch ƒë·ªông.

M·∫´u (ProductsPage.xaml):

```xml
<ListView ItemsSource="{x:Bind ViewModel.Products, Mode=OneWay}">
    <ListView.ItemTemplate>
        <DataTemplate x:DataType="models:ProductModel">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="{x:Bind Name}" FontWeight="SemiBold"/>
                <TextBlock Text="{x:Bind SalePrice, Mode=OneWay, StringFormat='{}{0:C}'}"/>
            </StackPanel>
        </DataTemplate>
    </ListView.ItemTemplate>
</ListView>
```

---

#### User Controls

C√°c component t√°i s·ª≠ d·ª•ng (n√∫t, card, dialog, topbar, sidebar) ƒë∆∞·ª£c t√°ch ri√™ng trong:

```
Views/Components/
 ‚îú‚îÄ ProductCard.xaml
 ‚îú‚îÄ OrderRow.xaml
 ‚îú‚îÄ DashboardCard.xaml
 ‚îú‚îÄ Sidebar.xaml
 ‚îú‚îÄ Topbar.xaml
 ‚îî‚îÄ ModalDialog.xaml
```

- M·ªói control c√≥ **DependencyProperty** ƒë·ªÉ bind d·ªØ li·ªáu ƒë·ªông.
- Cho ph√©p truy·ªÅn **Command** t·ª´ ViewModel cha ƒë·ªÉ x·ª≠ l√Ω s·ª± ki·ªán (VD: m·ªü modal, x√≥a s·∫£n ph·∫©m,‚Ä¶).

---

#### Data Binding

MyShop s·ª≠ d·ª•ng **Two-Way Binding** (hai chi·ªÅu) gi·ªØa View ‚Üî ViewModel.

V√≠ d·ª•:

```xml
<TextBox Text="{x:Bind ViewModel.SearchKeyword, Mode=TwoWay}" PlaceholderText="Search products..." />
<Button Command="{x:Bind ViewModel.SearchCommand}" Content="Search" />
```

Khi ng∆∞·ªùi d√πng nh·∫≠p v√†o TextBox, gi√° tr·ªã t·ª± ƒë·ªông c·∫≠p nh·∫≠t trong ViewModel.
Ng∆∞·ª£c l·∫°i, n·∫øu ViewModel thay ƒë·ªïi, UI c≈©ng t·ª± ƒë·ªông ph·∫£n √°nh l·∫°i.

---

#### 4.3.3. ViewModel

#### ViewModels

M·ªói trang (View) c√≥ ViewModel t∆∞∆°ng ·ª©ng trong th∆∞ m·ª•c `ViewModels/`.

C·∫•u tr√∫c:

```
ViewModels/
 ‚îú‚îÄ DashboardViewModel.cs
 ‚îú‚îÄ ProductsViewModel.cs
 ‚îú‚îÄ OrdersViewModel.cs
 ‚îú‚îÄ ReportsViewModel.cs
 ‚îú‚îÄ UsersViewModel.cs
 ‚îú‚îÄ SettingsViewModel.cs
 ‚îú‚îÄ LoginViewModel.cs
 ‚îî‚îÄ RegisterViewModel.cs
```

**Ch·ª©c nƒÉng ch√≠nh:**

- Ch·ª©a logic x·ª≠ l√Ω UI (fetch API, validate, filter, sort, paging).
- Gi·ªØ tr·∫°ng th√°i c·ªßa trang (selected item, filters, loading, error‚Ä¶).
- Kh√¥ng thao t√°c tr·ª±c ti·∫øp v·ªõi UI (ch·ªâ th√¥ng qua Binding).

M·∫´u:

```csharp
public partial class ProductsViewModel : ObservableObject
{
    private readonly ApiClient _api;

    [ObservableProperty]
    private ObservableCollection<ProductModel> products;

    [ObservableProperty]
    private string searchKeyword;

    public IRelayCommand SearchCommand { get; }

    public ProductsViewModel(ApiClient api)
    {
        _api = api;
        Products = new ObservableCollection<ProductModel>();
        SearchCommand = new RelayCommand(async () => await SearchProducts());
    }

    private async Task SearchProducts()
    {
        var data = await _api.GetProductsAsync(searchKeyword);
        Products.Clear();
        foreach (var p in data) Products.Add(p);
    }
}
```

---

#### Commands

To√†n b·ªô thao t√°c ng∆∞·ªùi d√πng (Add, Delete, Filter, Export, v.v.) ƒë∆∞·ª£c √°nh x·∫° qua `ICommand`.

- D√πng **RelayCommand / AsyncRelayCommand** ƒë·ªÉ r√†ng bu·ªôc s·ª± ki·ªán.
- M·ªói command ƒë∆∞·ª£c ƒë·ªãnh nghƒ©a r√µ h√†nh vi, d·ªÖ test v√† d·ªÖ b·∫£o tr√¨.

M·∫´u:

```csharp
public IRelayCommand AddProductCommand { get; }

AddProductCommand = new RelayCommand(OpenAddProductDialog);
```

Khi nh·∫•n n√∫t:

```xml
<Button Content="Add Product" Command="{x:Bind ViewModel.AddProductCommand}" />
```

---

#### ObservableCollection

D√πng ƒë·ªÉ binding danh s√°ch d·ªØ li·ªáu (list/table) v√† ph·∫£n ·ª©ng t·ª± ƒë·ªông khi c√≥ thay ƒë·ªïi.

V√≠ d·ª•:

```csharp
public ObservableCollection<ProductModel> Products { get; set; }
```

- Khi th√™m, x√≥a, c·∫≠p nh·∫≠t ph·∫ßn t·ª≠ ‚Üí UI t·ª± ƒë·ªông refresh.
- T·ªëi ∆∞u khi hi·ªÉn th·ªã qua **ItemsRepeater**, **ListView**, ho·∫∑c **DataGrid**.

---

#### 4.3.4. MVVM Toolkit Usage

#### CommunityToolkit.Mvvm

S·ª≠ d·ª•ng th∆∞ vi·ªán **CommunityToolkit.Mvvm** c·ªßa Microsoft ƒë·ªÉ gi·∫£m boilerplate v√† tƒÉng t√≠nh an to√†n.

C√°c namespace ch√≠nh:

```csharp
using CommunityToolkit.Mvvm.ComponentModel;
using CommunityToolkit.Mvvm.Input;
using CommunityToolkit.Mvvm.Messaging;
```

L·ª£i √≠ch:

- H·ªó tr·ª£ `ObservableObject`, `ObservableProperty`, `RelayCommand`, `AsyncRelayCommand`.
- Gi·∫£m 80% code l·∫∑p (`INotifyPropertyChanged`).
- D·ªÖ d√†ng unit test ViewModel (kh√¥ng ph·ª• thu·ªôc UI).

---

#### RelayCommand

```csharp
public partial class DashboardViewModel : ObservableObject
{
    [RelayCommand]
    private void RefreshDashboard()
    {
        LoadDashboardData();
    }
}
```

Trong XAML:

```xml
<Button Content="Refresh" Command="{x:Bind ViewModel.RefreshDashboardCommand}" />
```

> `RelayCommand` t·ª± ƒë·ªông sinh command t∆∞∆°ng ·ª©ng cho ph∆∞∆°ng th·ª©c c√≥ `[RelayCommand]`.

---

#### ObservableObject

```csharp
public partial class UserModel : ObservableObject
{
    [ObservableProperty]
    private string name;

    [ObservableProperty]
    private bool isActive;
}
```

Khi `IsActive` thay ƒë·ªïi ‚Üí UI t·ª± ƒë·ªông c·∫≠p nh·∫≠t (kh√¥ng c·∫ßn vi·∫øt th·ªß c√¥ng `OnPropertyChanged`).

---

## 5. DESIGN PATTERNS

**[PH√ÇN C√îNG: T·∫§T C·∫¢ - M·ªñI NG∆Ø·ªúI 1 PATTERN]**

**B√™n d∆∞·ªõi l√† c√°c m·∫´u pattern c√≥ th·ªÉ s·ª≠ d·ª•ng v√† n√™u th√™m n·∫øu c·∫ßn thi·∫øt ƒë·∫∑t bi·ªát l√† frontend c·∫ßn t√¨m hi·ªÉu k·ªπ h∆°n v·ªÅ ph·∫ßn n√†y, pattern n√†y t√πy v√†o s·∫Ω d√πng chung n√™n s·∫Ω c√≥ th·ªÉ l·∫∑p l·∫°i n√™n c√≥ th·ªÉ n√™u r√µ l√† pattern n√†o ƒë∆∞·ª£c l√†m chung**

Vi·ªác l·ª±a ch·ªçn v√† √°p d·ª•ng c√°c m·∫´u thi·∫øt k·∫ø ph√π h·ª£p l√† y·∫øu t·ªë then ch·ªët ƒë·ªÉ x√¢y d·ª±ng m·ªôt h·ªá th·ªëng ph·∫ßn m·ªÅm c√≥ c·∫•u tr√∫c t·ªët, d·ªÖ b·∫£o tr√¨ v√† m·ªü r·ªông. Trong d·ª± √°n n√†y, nh√≥m ƒë√£ ch·ªß ƒë·ªông t√≠ch h·ª£p m·ªôt s·ªë m·∫´u thi·∫øt k·∫ø kinh ƒëi·ªÉn v√† hi·ªáu qu·∫£.

### 5.1. Repository Pattern (Backend)

**[PH√ÇN C√îNG: BACKEND DEVELOPER]**

- **M·ª•c ƒë√≠ch:** T·∫°o m·ªôt l·ªõp tr·ª´u t∆∞·ª£ng (abstraction layer) gi·ªØa t·∫ßng Business Logic v√† t·∫ßng Data Access. Repository Pattern ƒë√≥ng g√≥i logic truy c·∫≠p d·ªØ li·ªáu, cung c·∫•p m·ªôt giao di·ªán gi·ªëng nh∆∞ m·ªôt b·ªô s∆∞u t·∫≠p c√°c ƒë·ªëi t∆∞·ª£ng trong b·ªô nh·ªõ, gi√∫p che gi·∫•u c√°c chi ti·∫øt k·ªπ thu·∫≠t c·ªßa vi·ªác truy v·∫•n c∆° s·ªü d·ªØ li·ªáu.

- **Implementation:**

  - M·ªói entity ch√≠nh trong mi·ªÅn d·ªØ li·ªáu (User, Role, Profile) ƒë·ªÅu c√≥ m·ªôt c·∫∑p Interface v√† Repository t∆∞∆°ng ·ª©ng.

```mermaid
classDiagram
    direction LR
    class IAuthService {
        <<interface>>
        +LoginAsync(request)
    }
    class AuthService {
        -IUserRepository userRepository
        +LoginAsync(request)
    }
    class IUserRepository {
        <<interface>>
        +GetByUsernameAsync(username)
    }
    class UserRepository {
        -ShopContext context
        +GetByUsernameAsync(username)
    }
    IAuthService <|.. AuthService
    AuthService o-- IUserRepository
    IUserRepository <|.. UserRepository
```

- T·∫ßng Business Logic (AuthService) ch·ªâ c·∫ßn bi·∫øt v·ªÅ s·ª± t·ªìn t·∫°i c·ªßa `IUserRepository` v√† c√°c ph∆∞∆°ng th·ª©c c·ªßa n√≥. N√≥ kh√¥ng c·∫ßn quan t√¢m li·ªáu d·ªØ li·ªáu ƒë∆∞·ª£c l·∫•y t·ª´ PostgreSQL, SQL Server hay m·ªôt file JSON.

```csharp
// File: src/MyShop.Server/Services/Implementations/AuthService.cs
public async Task<LoginResponse> LoginAsync(LoginRequest request)
{
    // AuthService ch·ªâ g·ªçi ph∆∞∆°ng th·ª©c t·ª´ interface
    var user = await _userRepository.GetByUsernameAsync(request.UsernameOrEmail);
    // ...
}
```

- Trong khi ƒë√≥, UserRepository l√† n∆°i th·ª±c s·ª± tri·ªÉn khai logic truy v·∫•n b·∫±ng Entity Framework Core.

```csharp
// File: src/MyShop.Data/Repositories/UserRepository.cs
public async Task<User?> GetByUsernameAsync(string username)
{
    // Chi ti·∫øt tri·ªÉn khai b·∫±ng EF Core ƒë∆∞·ª£c ƒë√≥ng g√≥i t·∫°i ƒë√¢y
    return await _context.Users
        .Include(u => u.Roles)
        .FirstOrDefaultAsync(u => u.Username == username);
}
```

- **L·ª£i √≠ch:**

  - T√°ch bi·ªát m·ªëi quan t√¢m: Logic nghi·ªáp v·ª• v√† logic truy c·∫≠p d·ªØ li·ªáu ƒë∆∞·ª£c t√°ch b·∫°ch.

  - T·∫≠p trung h√≥a logic truy v·∫•n: Gi√∫p d·ªÖ d√†ng qu·∫£n l√Ω, t·ªëi ∆∞u h√≥a v√† tr√°nh tr√πng l·∫∑p m√£ truy v·∫•n.

  - TƒÉng kh·∫£ nƒÉng ki·ªÉm th·ª≠: Cho ph√©p unit test c√°c Service m√† kh√¥ng c·∫ßn k·∫øt n·ªëi ƒë·∫øn c∆° s·ªü d·ªØ li·ªáu th·ª±c.

### 5.2. Service Registry Pattern (Th√¥ng qua DI Container) (Backend)

D·ª± √°n kh√¥ng tri·ªÉn khai m·∫´u Registry c·ªï ƒëi·ªÉn m√† thay v√†o ƒë√≥, t·∫≠n d·ª•ng Dependency Injection (DI) Container c√≥ s·∫µn c·ªßa ASP.NET Core nh∆∞ m·ªôt Service Registry hi·ªán ƒë·∫°i v√† m·∫°nh m·∫Ω. ƒê√¢y l√† m·ªôt c√°ch ti·∫øp c·∫≠n ti√™n ti·∫øn, gi√∫p qu·∫£n l√Ω c√°c th√†nh ph·∫ßn c·ªßa h·ªá th·ªëng m·ªôt c√°ch linh ho·∫°t v√† c√≥ t·ªï ch·ª©c.

- **M·ª•c d√≠ch:**

  - T·∫≠p trung h√≥a vi·ªác qu·∫£n l√Ω ph·ª• thu·ªôc: Cung c·∫•p m·ªôt n∆°i duy nh·∫•t (Program.cs) ƒë·ªÉ "ƒëƒÉng k√Ω" v√† c·∫•u h√¨nh t·∫•t c·∫£ c√°c d·ªãch v·ª•, repository, v√† c√°c th√†nh ph·∫ßn kh√°c trong ·ª©ng d·ª•ng. ƒêi·ªÅu n√†y gi√∫p h·ªá th·ªëng c√≥ m·ªôt c√°i nh√¨n t·ªïng quan r√µ r√†ng v·ªÅ ki·∫øn tr√∫c v√† c√°c m·ªëi quan h·ªá.

  - Gi·∫£m s·ª± k·∫øt d√≠nh (Decoupling): T√°ch bi·ªát c√°c l·ªõp kh·ªèi vi·ªác ph·∫£i t·ª± t·∫°o ra c√°c ƒë·ªëi t∆∞·ª£ng ph·ª• thu·ªôc c·ªßa ch√∫ng. C√°c l·ªõp ch·ªâ c·∫ßn bi·∫øt v·ªÅ interface (h·ª£p ƒë·ªìng) m√† ch√∫ng c·∫ßn, ch·ª© kh√¥ng c·∫ßn bi·∫øt v·ªÅ l·ªõp tri·ªÉn khai c·ª• th·ªÉ.

  - Th√∫c ƒë·∫©y nguy√™n t·∫Øc ƒê·∫£o ng∆∞·ª£c ƒêi·ªÅu khi·ªÉn (Inversion of Control - IoC): Chuy·ªÉn giao tr√°ch nhi·ªám t·∫°o v√† qu·∫£n l√Ω v√≤ng ƒë·ªùi c·ªßa c√°c ƒë·ªëi t∆∞·ª£ng t·ª´ c√°c l·ªõp ri√™ng l·∫ª cho m·ªôt th·ª±c th·ªÉ trung t√¢m (DI Container), gi√∫p m√£ ngu·ªìn tr·ªü n√™n s·∫°ch s·∫Ω v√† d·ªÖ qu·∫£n l√Ω h∆°n.

- **Implementation:** Qu√° tr√¨nh c√†i ƒë·∫∑t v√† s·ª≠ d·ª•ng ƒë∆∞·ª£c chia th√†nh hai giai ƒëo·∫°n ch√≠nh: ƒêƒÉng k√Ω (Registration) v√† Ph√¢n gi·∫£i (Resolution).

  - **ƒêƒÉng k√Ω D·ªãch v·ª• (Service Registration)**: khai b√°o t·∫•t c·∫£ c√°c "c·∫∑p" interface v√† implementation trong file Program.cs. ƒê√¢y ch√≠nh l√† qu√° tr√¨nh x√¢y d·ª±ng "s·ªï ƒëƒÉng k√Ω" cho to√†n b·ªô ·ª©ng d·ª•ng.

  ```csharp
  // File: src/MyShop.Server/Program.cs

  var builder = WebApplication.CreateBuilder(args);

  // ...

  // ƒêƒÉng k√Ω c√°c Repository v·ªõi v√≤ng ƒë·ªùi Scoped
  builder.Services.AddScoped<IUserRepository, UserRepository>(); //
  builder.Services.AddScoped<IRoleRepository, RoleRepository>(); //

  // ƒêƒÉng k√Ω c√°c Service
  builder.Services.AddScoped<IAuthService, AuthService>(); //
  builder.Services.AddScoped<IJwtService, JwtService>(); //
  builder.Services.AddScoped<ICurrentUserService, CurrentUserService>(); //

  // ...
  ```

  _B·∫±ng c√°ch n√†y, DI container ƒë√£ bi·∫øt r·∫±ng khi m·ªôt th√†nh ph·∫ßn n√†o ƒë√≥ c·∫ßn ƒë·∫øn IUserRepository, n√≥ s·∫Ω ph·∫£i cung c·∫•p m·ªôt th·ªÉ hi·ªán c·ªßa l·ªõp UserRepository._

  - **Ph√¢n gi·∫£i Ph·ª• thu·ªôc qua Constructor Injection**: Thay v√¨ c√°c l·ªõp ph·∫£i ch·ªß ƒë·ªông truy v·∫•n registry, ch√∫ng ch·ªâ c·∫ßn khai b√°o c√°c ph·ª• thu·ªôc trong h√†m kh·ªüi t·∫°o. DI container s·∫Ω t·ª± ƒë·ªông "ti√™m" c√°c th·ªÉ hi·ªán c·∫ßn thi·∫øt v√†o.

  ```csharp
  // File: src/MyShop.Server/Controllers/AuthController.cs

  public class AuthController : ControllerBase
  {
      private readonly IAuthService _authService;

      // DI Container s·∫Ω t·ª± ƒë·ªông t√¨m v√† "ti√™m" m·ªôt instance c·ªßa AuthService v√†o ƒë√¢y
      public AuthController(IAuthService authService, ILogger<AuthController> logger) //
      {
          _authService = authService;
          // ...
      }

      [HttpPost("login")]
      public async Task<ActionResult<ApiResponse<LoginResponse>>> Login([FromBody] LoginRequest request)
      {
          // S·ª≠ d·ª•ng service ƒë√£ ƒë∆∞·ª£c ti√™m v√†o
          var response = await _authService.LoginAsync(request); //
          return Ok(ApiResponse<LoginResponse>.SuccessResponse(response, "Login successful", 200)); //
      }
  }
  ```

  _Qu√° tr√¨nh n√†y di·ªÖn ra theo m·ªôt chu·ªói: AuthController c·∫ßn IAuthService, AuthService l·∫°i c·∫ßn IUserRepository v√† IJwtService, v√† DI container s·∫Ω ph√¢n gi·∫£i t·∫•t c·∫£ c√°c ph·ª• thu·ªôc n√†y m·ªôt c√°ch ƒë·ªá quy ƒë·ªÉ t·∫°o ra ƒë·ªëi t∆∞·ª£ng ho√†n ch·ªânh._

- **L·ª£i √≠ch:**

  - **M√£ ngu·ªìn s·∫°ch v√† d·ªÖ b·∫£o tr√¨**: C√°c l·ªõp tr·ªü n√™n g·ªçn g√†ng h∆°n v√¨ ch√∫ng kh√¥ng c√≤n ch·ª©a logic kh·ªüi t·∫°o c√°c ƒë·ªëi t∆∞·ª£ng ph·ª• thu·ªôc. C√°c m·ªëi quan h·ªá gi·ªØa c√°c th√†nh ph·∫ßn ƒë∆∞·ª£c th·ªÉ hi·ªán r√µ r√†ng qua c√°c h√†m kh·ªüi t·∫°o.

  - **TƒÉng c∆∞·ªùng kh·∫£ nƒÉng ki·ªÉm th·ª≠ (Testability)**: ƒê√¢y l√† m·ªôt trong nh·ªØng l·ª£i √≠ch quan tr·ªçng nh·∫•t. Khi vi·∫øt unit test cho `AuthController`, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng t·∫°o ra m·ªôt phi√™n b·∫£n gi·∫£ (mock) c·ªßa `IAuthService` v√† truy·ªÅn v√†o, cho ph√©p ki·ªÉm tra logic c·ªßa Controller m·ªôt c√°ch ho√†n to√†n ƒë·ªôc l·∫≠p m√† kh√¥ng b·ªã ·∫£nh h∆∞·ªüng b·ªüi logic ph·ª©c t·∫°p b√™n trong `AuthService` th·∫≠t.

  - **Linh ho·∫°t v√† d·ªÖ d√†ng thay th·∫ø**: N·∫øu trong t∆∞∆°ng lai, ch√∫ng t√¥i mu·ªën thay ƒë·ªïi c√°ch bƒÉm m·∫≠t kh·∫©u ho·∫∑c c√°ch t·∫°o token, ch√∫ng t√¥i ch·ªâ c·∫ßn t·∫°o m·ªôt l·ªõp tri·ªÉn khai m·ªõi cho IJwtService v√† thay ƒë·ªïi m·ªôt d√≤ng duy nh·∫•t trong Program.cs. To√†n b·ªô ph·∫ßn c√≤n l·∫°i c·ªßa h·ªá th·ªëng kh√¥ng c·∫ßn ch·ªânh s·ª≠a.

  - **Qu·∫£n l√Ω v√≤ng ƒë·ªùi hi·ªáu qu·∫£**: DI container t·ª± ƒë·ªông qu·∫£n l√Ω vi·ªác t·∫°o v√† h·ªßy c√°c ƒë·ªëi t∆∞·ª£ng theo v√≤ng ƒë·ªùi ƒë√£ ƒë∆∞·ª£c c·∫•u h√¨nh (Scoped, Singleton, Transient), gi√∫p t·ªëi ∆∞u h√≥a vi·ªác s·ª≠ d·ª•ng t√†i nguy√™n v√† tr√°nh c√°c v·∫•n ƒë·ªÅ v·ªÅ r√≤ r·ªâ b·ªô nh·ªõ.

### 5.3. Command Pattern (Frontend)

**[PH√ÇN C√îNG: FRONTEND DEVELOPER]**

#### **M·ª•c ƒë√≠ch**

- **T√°ch bi·ªát logic x·ª≠ l√Ω s·ª± ki·ªán (event handling) kh·ªèi View (UI).**
  ‚Üí Gi√∫p View kh√¥ng ph·∫£i x·ª≠ l√Ω click, submit, hay c√°c h√†nh ƒë·ªông tr·ª±c ti·∫øp, m√† thay v√†o ƒë√≥ g·ªçi m·ªôt **Command** trong ViewModel.

- **ƒê·∫£m b·∫£o nguy√™n t·∫Øc MVVM:**

  - View: ch·ªâ hi·ªÉn th·ªã d·ªØ li·ªáu.
  - ViewModel: ch·ª©a logic.
  - Command: l√† c·∫ßu n·ªëi gi·ªØa h√†nh ƒë·ªông ng∆∞·ªùi d√πng v√† logic trong ViewModel.

- **TƒÉng t√≠nh t√°i s·ª≠ d·ª•ng v√† test ƒë∆∞·ª£c (testability).**

---

#### **Implementation**

ƒê·ªì √°n s·ª≠ d·ª•ng **Command Pattern** th√¥ng qua **`RelayCommand`** v√† **`AsyncRelayCommand`** c·ªßa th∆∞ vi·ªán **CommunityToolkit.Mvvm**, ƒë∆∞·ª£c d√πng trong to√†n b·ªô c√°c ViewModel nh∆∞ `DashboardViewModel`, `ProductsViewModel`, `OrdersViewModel`, v.v.

##### C·∫•u tr√∫c:

```
ViewModels/
 ‚îú‚îÄ DashboardViewModel.cs
 ‚îú‚îÄ ProductsViewModel.cs
 ‚îú‚îÄ OrdersViewModel.cs
 ‚îú‚îÄ ...
```

##### V√≠ d·ª• 1 ‚Äì Command x·ª≠ l√Ω ƒë·ªìng b·ªô:

```csharp
public partial class DashboardViewModel : ObservableObject
{
    [RelayCommand]
    private void RefreshDashboard()
    {
        LoadData();
    }

    private void LoadData()
    {
        // G·ªçi API ho·∫∑c service ƒë·ªÉ l·∫•y d·ªØ li·ªáu m·ªõi
        Console.WriteLine("Dashboard refreshed at " + DateTime.Now);
    }
}
```

> `[RelayCommand]` t·ª± ƒë·ªông sinh ra `ICommand` t√™n l√† `RefreshDashboardCommand` ‚Üí c√≥ th·ªÉ bind tr·ª±c ti·∫øp trong XAML.

##### V√≠ d·ª• 2 ‚Äì Command x·ª≠ l√Ω b·∫•t ƒë·ªìng b·ªô (AsyncRelayCommand):

```csharp
public partial class ProductsViewModel : ObservableObject
{
    private readonly ApiClient _api;

    [ObservableProperty]
    private ObservableCollection<ProductModel> products = new();

    [RelayCommand]
    private async Task LoadProductsAsync()
    {
        var data = await _api.GetProductsAsync();
        Products.Clear();
        foreach (var item in data)
            Products.Add(item);
    }
}
```

##### Trong XAML:

```xml
<Button Content="Reload"
        Command="{x:Bind ViewModel.LoadProductsAsyncCommand}"
        HorizontalAlignment="Right"
        Margin="0,0,10,0" />
```

---

#### **L·ª£i √≠ch**

| L·ª£i √≠ch                       | Gi·∫£i th√≠ch                                                                |
| ----------------------------- | ------------------------------------------------------------------------- |
| **T√°ch bi·ªát logic v√† UI**     | View ch·ªâ hi·ªÉn th·ªã v√† bind Command, kh√¥ng x·ª≠ l√Ω s·ª± ki·ªán trong code-behind. |
| **TƒÉng kh·∫£ nƒÉng t√°i s·ª≠ d·ª•ng** | M·ªôt Command c√≥ th·ªÉ bind cho nhi·ªÅu UI elements (Buttons, MenuItems, v.v.). |
| **D·ªÖ ki·ªÉm th·ª≠**               | C√≥ th·ªÉ test ri√™ng logic command m√† kh√¥ng c·∫ßn ch·∫°y giao di·ªán WinUI.        |
| **Gi·∫£m code-behind**          | Tr√°nh t√¨nh tr·∫°ng code UI d√†y ƒë·∫∑c event handler.                           |
| **H·ªó tr·ª£ async/await**        | `AsyncRelayCommand` gi√∫p tr√°nh block UI thread khi g·ªçi API.               |

---

### 5.4. Observer Pattern (Frontend)

**[PH√ÇN C√îNG: FRONTEND DEVELOPER]**

#### **M·ª•c ƒë√≠ch**

- **Quan s√°t (observe)** v√† **ph·∫£n ·ª©ng (react)** v·ªõi s·ª± thay ƒë·ªïi d·ªØ li·ªáu trong ViewModel.
- Gi√∫p View t·ª± ƒë·ªông c·∫≠p nh·∫≠t khi d·ªØ li·ªáu trong Model ho·∫∑c ViewModel thay ƒë·ªïi m√† **kh√¥ng c·∫ßn can thi·ªáp th·ªß c√¥ng**.
- ƒê∆∞·ª£c s·ª≠ d·ª•ng ch√≠nh th·ª©c trong MyShop2025 th√¥ng qua c∆° ch·∫ø **`INotifyPropertyChanged`** (ƒë∆∞·ª£c hi·ªán th·ª±c s·∫µn trong `ObservableObject` c·ªßa CommunityToolkit.Mvvm).

---

#### **Implementation**

##### C·∫•u tr√∫c s·ª≠ d·ª•ng trong d·ª± √°n:

```
Models/
 ‚îî‚îÄ ProductModel.cs
ViewModels/
 ‚îî‚îÄ ProductsViewModel.cs
```

##### V√≠ d·ª• 1 ‚Äì S·ª≠ d·ª•ng `ObservableObject` (ƒë√£ implement INotifyPropertyChanged):

```csharp
public partial class ProductModel : ObservableObject
{
    [ObservableProperty]
    private string name;

    [ObservableProperty]
    private double price;

    [ObservableProperty]
    private int stock;
}
```

> Khi gi√° tr·ªã c·ªßa `Name`, `Price`, ho·∫∑c `Stock` thay ƒë·ªïi,
> s·ª± ki·ªán `PropertyChanged` t·ª± ƒë·ªông k√≠ch ho·∫°t v√† **UI ƒë∆∞·ª£c c·∫≠p nh·∫≠t t·ª©c th√¨**.

---

##### V√≠ d·ª• 2 ‚Äì Trong ViewModel:

```csharp
public partial class ProductsViewModel : ObservableObject
{
    [ObservableProperty]
    private string searchKeyword;

    [ObservableProperty]
    private ObservableCollection<ProductModel> products = new();

    public ProductsViewModel()
    {
        // V√≠ d·ª•: Khi kh·ªüi t·∫°o s·∫Ω load d·ªØ li·ªáu mock
        LoadMockProducts();
    }

    private void LoadMockProducts()
    {
        Products.Add(new ProductModel { Name = "Laptop Lenovo", Price = 1500, Stock = 8 });
        Products.Add(new ProductModel { Name = "Iphone 15", Price = 1200, Stock = 5 });
    }
}
```

---

##### Trong XAML:

```xml
<ListView ItemsSource="{x:Bind ViewModel.Products, Mode=OneWay}">
    <ListView.ItemTemplate>
        <DataTemplate x:DataType="models:ProductModel">
            <StackPanel Orientation="Horizontal" Spacing="12">
                <TextBlock Text="{x:Bind Name, Mode=OneWay}" />
                <TextBlock Text="{x:Bind Price, Mode=OneWay, StringFormat='{}{0:C}'}" />
                <TextBlock Text="{x:Bind Stock, Mode=OneWay}" />
            </StackPanel>
        </DataTemplate>
    </ListView.ItemTemplate>
</ListView>
```

N·∫øu trong ViewModel:

```csharp
Products[0].Stock--;
```

‚Üí View **t·ª± ƒë·ªông c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng t·ªìn kho m√† kh√¥ng c·∫ßn reload l·∫°i to√†n trang**.

---

#### **L·ª£i √≠ch**

| L·ª£i √≠ch                         | Gi·∫£i th√≠ch                                                               |
| ------------------------------- | ------------------------------------------------------------------------ |
| **Realtime UI update**          | UI t·ª± ƒë·ªông ph·∫£n ·ª©ng khi d·ªØ li·ªáu thay ƒë·ªïi.                                |
| **Gi·∫£m code x·ª≠ l√Ω UI th·ªß c√¥ng** | Kh√¥ng c·∫ßn vi·∫øt l·∫°i `OnTextChanged` ho·∫∑c event handler.                   |
| **TƒÉng t√≠nh ƒë·ªìng b·ªô d·ªØ li·ªáu**   | Model v√† View lu√¥n ƒë·ªìng b·ªô th√¥ng qua binding.                            |
| **T·ªëi ∆∞u performance**          | Ch·ªâ c·∫≠p nh·∫≠t ph·∫ßn t·ª≠ thay ƒë·ªïi thay v√¨ render l·∫°i to√†n b·ªô UI.             |
| **D·ªÖ debug v√† maintain**        | D·ªØ li·ªáu lu√¢n chuy·ªÉn c√≥ th·ªÉ theo d√µi th√¥ng qua s·ª± ki·ªán `PropertyChanged`. |

---

### 5.5. Factory Pattern _(Frontend: d√πng trong t·∫°o ViewModel ho·∫∑c Dialog)_

**M·ª•c ƒë√≠ch:**
T·∫°o ra c√°c ƒë·ªëi t∆∞·ª£ng (ViewModel, Dialog, ho·∫∑c API service) m√† kh√¥ng c·∫ßn l·ªô c√°ch kh·ªüi t·∫°o c·ª• th·ªÉ.

**·ª®ng d·ª•ng:**

- Factory t·∫°o ViewModel ƒë√∫ng lo·∫°i (AdminViewModel, SalesViewModel, UserViewModel).
- Factory t·∫°o dialog t∆∞∆°ng ·ª©ng v·ªõi ch·ª©c nƒÉng (ProductDialog, OrderDialog...).
- Factory t·∫°o `Refit ApiClient` theo role hi·ªán t·∫°i.

---

**Implementation:**

```csharp
public interface IViewModelFactory
{
    BaseViewModel CreateViewModel(UserRole role);
}

public class ViewModelFactory : IViewModelFactory
{
    public BaseViewModel CreateViewModel(UserRole role)
    {
        return role switch
        {
            UserRole.Admin => new AdminDashboardViewModel(),
            UserRole.SalesAgent => new SalesDashboardViewModel(),
            _ => new CustomerDashboardViewModel(),
        };
    }
}
```

**L·ª£i √≠ch:**

- Gi·∫£m ph·ª• thu·ªôc ch√©o gi·ªØa Views v√† ViewModels.
- D·ªÖ m·ªü r·ªông (th√™m role m·ªõi kh√¥ng c·∫ßn ƒë·ªïi code c≈©).
- √Åp d·ª•ng t·ªët v·ªõi Dependency Injection.

---

### 5.6. Dependency Injection Pattern (Frontend: WinUI + Refit Services)

**M·ª•c ƒë√≠ch:**
Cung c·∫•p dependency (nh∆∞ `ApiClient`, `NavigationService`, `DialogService`) cho c√°c ViewModel m√† **kh√¥ng c·∫ßn kh·ªüi t·∫°o tr·ª±c ti·∫øp**.

**·ª®ng d·ª•ng ch√≠nh:**

- ƒêƒÉng k√Ω service trong `App.xaml.cs` ho·∫∑c `Bootstrapper.cs`.
- Inject v√†o ViewModel qua constructor.
- S·ª≠ d·ª•ng th∆∞ vi·ªán **Microsoft.Extensions.DependencyInjection** (chu·∫©n .NET).

---

**Implementation:**

```csharp
// App.xaml.cs
public partial class App : Application
{
    public static IServiceProvider Services { get; private set; }

    public App()
    {
        var services = new ServiceCollection();
        services.AddSingleton<ApiClient>();
        services.AddSingleton<NavigationService>();
        services.AddTransient<ProductsViewModel>();
        Services = services.BuildServiceProvider();
    }
}
```

**L·ª£i √≠ch:**

- Gi·∫£m coupling, tƒÉng testability.
- D·ªÖ mock dependency khi vi·∫øt unit test.
- Qu·∫£n l√Ω v√≤ng ƒë·ªùi ƒë·ªëi t∆∞·ª£ng r√µ r√†ng (`Transient`, `Singleton`, `Scoped`).

---

### 5.7. State Pattern _(Frontend: cho Login, Role, Theme, ho·∫∑c Navigation State)_

**M·ª•c ƒë√≠ch:**
Cho ph√©p h·ªá th·ªëng **thay ƒë·ªïi h√†nh vi ƒë·ªông** khi tr·∫°ng th√°i ·ª©ng d·ª•ng thay ƒë·ªïi (user login/logout, role ƒë·ªïi, theme ƒë·ªïi).

**·ª®ng d·ª•ng:**

- Khi ng∆∞·ªùi d√πng login ‚Üí state chuy·ªÉn sang `AuthenticatedState`.
- Khi user ƒë·ªïi theme ‚Üí ViewModel ph√°t t√≠n hi·ªáu ƒë·ªïi UI.
- Khi role l√† `Admin` ‚Üí hi·ªÉn th·ªã nhi·ªÅu menu h∆°n.

---

**Implementation:**

```csharp
public abstract class UserState
{
    public abstract void Navigate();
}

public class GuestState : UserState
{
    public override void Navigate() => NavigationService.GoTo("/Login");
}

public class AuthenticatedState : UserState
{
    public override void Navigate() => NavigationService.GoTo("/Dashboard");
}
```

> AppState gi·ªØ bi·∫øn `CurrentState` v√† chuy·ªÉn ƒë·ªïi gi·ªØa c√°c state.

**L·ª£i √≠ch:**

- M·ªói state c√≥ h√†nh vi ri√™ng ‚Üí code r√µ r√†ng, tr√°nh if/else l·ªìng nhau.
- T·ªëi ∆∞u UI ƒë·ªông (·∫©n/hi·ªán n√∫t theo role).
- M·ªü r·ªông d·ªÖ d√†ng khi c√≥ th√™m vai tr√≤ m·ªõi.

---

### 5.8. Template Method Pattern _(Frontend: trong BaseViewModel v√† BasePage)_

**M·ª•c ƒë√≠ch:**
ƒê·ªãnh nghƒ©a khung x·ª≠ l√Ω chung cho c√°c ViewModel, cho ph√©p subclass override t·ª´ng b∆∞·ªõc c·ª• th·ªÉ.

**·ª®ng d·ª•ng:**

- T·∫°o `BaseViewModel` c√≥ c√°c ph∆∞∆°ng th·ª©c ·∫£o nh∆∞ `OnLoadAsync()`, `OnNavigatedTo()`, `OnRefresh()`.
- M·ªói ViewModel k·∫ø th·ª´a v√† override t√πy nhu c·∫ßu.

---

**Implementation:**

```csharp
public abstract class BaseViewModel : ObservableObject
{
    public virtual Task OnNavigatedToAsync() => Task.CompletedTask;
    public virtual Task OnLoadAsync() => Task.CompletedTask;
}

public class ProductsViewModel : BaseViewModel
{
    public override async Task OnLoadAsync()
    {
        await LoadProductsAsync();
    }
}
```

**L·ª£i √≠ch:**

- Chu·∫©n h√≥a quy tr√¨nh kh·ªüi t·∫°o ViewModel.
- D·ªÖ ki·ªÉm so√°t lifecycle (navigated, refresh, unload).
- Gi·∫£m l·∫∑p code kh·ªüi t·∫°o.

---

### 5.9. Adapter Pattern _(Frontend: trong API Layer ‚Äì Refit mapping)_

**M·ª•c ƒë√≠ch:**
Chuy·ªÉn ƒë·ªïi d·ªØ li·ªáu t·ª´ t·∫ßng API (DTO) sang Model n·ªôi b·ªô c·ªßa ViewModel m√† kh√¥ng l√†m thay ƒë·ªïi logic g·ªçi API.

**·ª®ng d·ª•ng:**

- T·∫ßng API Client (Refit) tr·∫£ v·ªÅ DTO ‚Üí chuy·ªÉn th√†nh `ProductModel` ƒë·ªÉ hi·ªÉn th·ªã.
- ƒê·∫£m b·∫£o UI kh√¥ng ph·ª• thu·ªôc tr·ª±c ti·∫øp v√†o c·∫•u tr√∫c backend.

---

**Implementation:**

```csharp
public class ProductAdapter
{
    public static ProductModel FromDto(ProductDto dto)
    {
        return new ProductModel
        {
            Id = dto.Id,
            Name = dto.Name,
            Price = dto.Price,
            Stock = dto.StockLevel,
            Rating = dto.Rating
        };
    }
}
```

**L·ª£i √≠ch:**

- Gi·∫£m coupling gi·ªØa frontend v√† backend contract.
- D·ªÖ thay ƒë·ªïi API m√† kh√¥ng ·∫£nh h∆∞·ªüng UI.
- D·ªÖ test d·ªØ li·ªáu tr∆∞·ªõc khi bind.

---

### 5.10. Strategy Pattern (AI)

**[PH√ÇN C√îNG: AI DEVELOPER]**

- **M·ª•c ƒë√≠ch:**

  - T√°ch r·ªùi prediction kh·ªèi UI/Business logic.

  - Cho ph√©p ho√°n ƒë·ªïi/ƒëi·ªÅu h∆∞·ªõng nhi·ªÅu chi·∫øn l∆∞·ª£c d·ª± b√°o v√† fallback t·ª± ƒë·ªông khi l·ªói.
  - D·ªÖ m·ªü r·ªông, test, v√† b·∫£o tr√¨ theo t·ª´ng chi·∫øn l∆∞·ª£c model kh√°c nhau.

- **Implementation:**

  - Client Side (C#):

  ```C#
  public interface ISalesPredictionStrategy
  {
      Task<float> PredictAsync(PredictionRequest req);
      Task<bool> IsAvailableAsync();
      string Name { get; }
  }

  public class DnnStrategy : ISalesPredictionStrategy
  {
      // Implementation
  }
  public class PredictionContext
  {
      // Implementation
  }
  ```

  - Server Side (Python):

  ```python
  # api.py
  from fastapi import FastAPI
  from pydantic import BaseModel

  app = FastAPI()

  class PredictionRequest(BaseModel):
      store: int
      dept: int
      date: str
      is_holiday: bool

  class PredictionResponse(BaseModel):
      weekly_sales: float
      store: int
      dept: int
      date: str
      message: str = "success"

  @app.get("/health")
  def health():
      pass

  @app.post("/predict", response_model=PredictionResponse)
  def predict(req: PredictionRequest):
      pass
  ```

- **L·ª£i √≠ch:**
  - T√≠nh linh ho·∫°t: d·ªÖ th√™m/chuy·ªÉn strategy kh√¥ng ·∫£nh h∆∞·ªüng UI.
  - S·ª± tin c·∫≠y: c√≥ fallback khi API ch√≠nh l·ªói ho·∫∑c kh√¥ng s·∫µn s√†ng.
  - T√°ch bi·ªát: client-side Strategy qu·∫£n l√Ω g·ªçi API; server-side m·ªói model c√≥ endpoint r√µ r√†ng.

---

## 6. ƒê·∫¢M B·∫¢O CH·∫§T L∆Ø·ª¢NG

**[PH√ÇN C√îNG: T·∫§T C·∫¢ THEO CHUY√äN M√îN]**

### 6.1. Coding Conventions

#### 6.1.1. Naming Conventions (Backend)

**[PH√ÇN C√îNG: BACKEND]**

Tham kh·∫£o: [Microsoft C# Identifier Conventions](https://learn.microsoft.com/vi-vn/dotnet/csharp/fundamentals/coding-style/identifier-names)

Vi·ªác ƒë·∫∑t t√™n nh·∫•t qu√°n l√† y·∫øu t·ªë c∆° b·∫£n nh·∫•t ƒë·ªÉ t·∫°o ra m√£ ngu·ªìn d·ªÖ hi·ªÉu. Nh√≥m tu√¢n theo c√°c quy ∆∞·ªõc ƒë·∫∑t t√™n chu·∫©n c·ªßa Microsoft cho ng√¥n ng·ªØ C#.

- **Projects v√† Namespaces**: S·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng `PascalCase`. T√™n namespace ph·∫£i ph·∫£n √°nh c·∫•u tr√∫c th∆∞ m·ª•c c·ªßa d·ª± √°n.

  - V√≠ d·ª•: T√™n project `MyShop.Server`, `MyShop.Data`. Namespace `MyShop.Server.Services.Implementations`.

- **Classes, Interfaces, Enums, Records**: S·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng `PascalCase`. Ri√™ng ƒë·ªëi v·ªõi interface, lu√¥n c√≥ ti·ªÅn t·ªë `I`.

  - V√≠ d·ª•:

    - Class: `public class AuthService : IAuthService`

    - Interface: `public interface IUserRepository`

    - DTO: `public class CreateUserRequest`

- **Ph∆∞∆°ng th·ª©c (Methods)**: S·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng `PascalCase`. ƒê·ªëi v·ªõi c√°c ph∆∞∆°ng th·ª©c b·∫•t ƒë·ªìng b·ªô (asynchronous), lu√¥n ph·∫£i c√≥ h·∫≠u t·ªë `Async` ƒë·ªÉ d·ªÖ ph√¢n bi·ªát.

  - V√≠ d·ª•:

    - `public async Task<LoginResponse> LoginAsync(LoginRequest request)`

    - `private async Task<string> ReadAndProcessTemplateAsync(...)`

- **Thu·ªôc t√≠nh (Properties) v√† tr∆∞·ªùng c√¥ng khai (Public Fields)**: S·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng `PascalCase`.

  - V√≠ d·ª•: `public string Username { get; set; }` trong l·ªõp `User`.

- **Tr∆∞·ªùng ri√™ng t∆∞ (Private Fields)**: S·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng `_camelCase` (c√≥ ti·ªÅn t·ªë g·∫°ch d∆∞·ªõi \_). ƒêi·ªÅu n√†y gi√∫p ph√¢n bi·ªát r√µ r√†ng gi·ªØa bi·∫øn c·ª•c b·ªô v√† tr∆∞·ªùng c·ªßa l·ªõp.

  - V√≠ d·ª•: Trong l·ªõp `AuthService`, c√°c tr∆∞·ªùng private ƒë∆∞·ª£c khai b√°o nh∆∞ sau:

    ```csharp
    // File: src/MyShop.Server/Services/Implementations/AuthService.cs
    public class AuthService : IAuthService
    {
        private readonly IUserRepository _userRepository;
        private readonly IJwtService _jwtService;
        private readonly ILogger<AuthService> _logger;
        //...
    }
    ```

- **Bi·∫øn c·ª•c b·ªô (Local Variables) v√† Tham s·ªë ph∆∞∆°ng th·ª©c (Parameters)**: S·ª≠ d·ª•ng ƒë·ªãnh d·∫°ng `camelCase`.

  - V√≠ d·ª•:

    ```csharp
    // File: src/MyShop.Server/Services/Implementations/JwtService.cs
    public async Task<string> GenerateAccessTokenAsync(User user) // 'user' l√† parameter
    {
        var claims = new List<Claim> { ... }; // 'claims' l√† bi·∫øn c·ª•c b·ªô
        var key = new SymmetricSecurityKey(...); // 'key' l√† bi·∫øn c·ª•c b·ªô
        // ...
    }
    ```

#### 6.1.2. ƒê·ªãnh D·∫°ng v√† Phong C√°ch M√£ (Formatting & Style)

- **D·∫•u ngo·∫∑c nh·ªçn `{}`**: S·ª≠ d·ª•ng phong c√°ch _Allman_, t·ª©c l√† d·∫•u ngo·∫∑c nh·ªçn m·ªü lu√¥n ƒë∆∞·ª£c ƒë·∫∑t tr√™n m·ªôt d√≤ng m·ªõi. ƒêi·ªÅu n√†y gi√∫p tƒÉng c∆∞·ªùng t√≠nh r√µ r√†ng c·ªßa c√°c kh·ªëi m√£.

  - V√≠ d·ª•:

    ```csharp
    // File: src/MyShop.Server/Controllers/AuthController.cs
    public class AuthController : ControllerBase
    {
        [HttpPost("register")]
        public async Task<ActionResult<ApiResponse<CreateUserResponse>>> Register([FromBody] CreateUserRequest request)
        {
            if (!ModelState.IsValid)
            {
                // ...
            }
            // ...
        }
    }
    ```

- **Th·ª•t l·ªÅ (Indentation)**: S·ª≠ d·ª•ng **4 spaces** cho m·ªói c·∫•p th·ª•t l·ªÅ, gi√∫p m√£ ngu·ªìn r√µ r√†ng & d·ªÖ debug.

- **T·ª´ kh√≥a `var`**: Khuy·∫øn kh√≠ch s·ª≠ d·ª•ng t·ª´ kh√≥a `var` khi ki·ªÉu d·ªØ li·ªáu c·ªßa bi·∫øn c√≥ th·ªÉ ƒë∆∞·ª£c suy ra m·ªôt c√°ch r√µ r√†ng t·ª´ v·∫ø ph·∫£i c·ªßa ph√©p g√°n. ƒêi·ªÅu n√†y gi√∫p m√£ ngu·ªìn ng·∫Øn g·ªçn h∆°n m√† kh√¥ng l√†m m·∫•t ƒëi t√≠nh d·ªÖ ƒë·ªçc.

  - V√≠ d·ª•:

    ```csharp
    // R√µ r√†ng 'key' l√† m·ªôt SymmetricSecurityKey
    var key = new SymmetricSecurityKey(Encoding.UTF8.GetBytes(_jwtSettings.SecretKey));

    // R√µ r√†ng 'roles' l√† m·ªôt List<Role>
    var roles = new List<Role>();
    ```

- **Khai b√°o `using`**: T·∫•t c·∫£ c√°c khai b√°o `using` ph·∫£i ƒë∆∞·ª£c ƒë·∫∑t ·ªü ƒë·∫ßu file, b√™n ngo√†i `namespace`.

#### 6.1.3. Quy ∆Ø·ªõc v·ªÅ Ki·∫øn Tr√∫c

- **L·∫≠p tr√¨nh b·∫•t ƒë·ªìng b·ªô (`async/await`)**: M·ªçi thao t√°c I/O-bound (nh∆∞ truy v·∫•n c∆° s·ªü d·ªØ li·ªáu, g·ªçi API b√™n ngo√†i, ƒë·ªçc/ghi file) b·∫Øt bu·ªôc ph·∫£i ƒë∆∞·ª£c tri·ªÉn khai b·∫•t ƒë·ªìng b·ªô b·∫±ng `async` v√† `await`. ƒêi·ªÅu n√†y gi√∫p gi·∫£i ph√≥ng lu·ªìng x·ª≠ l√Ω (thread) trong khi ch·ªù ƒë·ª£i t√°c v·ª• ho√†n th√†nh, tƒÉng kh·∫£ nƒÉng ƒë√°p ·ª©ng v√† m·ªü r·ªông c·ªßa m√°y ch·ªß.

  - V√≠ d·ª•: Ph∆∞∆°ng th·ª©c `GetByUsernameAsync` trong `UserRepository` minh h·ªça r√µ r√†ng quy ∆∞·ªõc n√†y.

    ```csharp
    // File: src/MyShop.Data/Repositories/UserRepository.cs
    public async Task<User?> GetByUsernameAsync(string username)
    {
        return await _context.Users
            .Include(u => u.Roles)
            .FirstOrDefaultAsync(u => u.Username == username);
    }
    ```

- **C·∫•u tr√∫c Ph·∫£n h·ªìi API (API Response Structure)**: M·ªçi endpoint trong Controller ƒë·ªÅu ph·∫£i tr·∫£ v·ªÅ ƒë·ªëi t∆∞·ª£ng `ApiResponse<T>`. ƒêi·ªÅu n√†y ƒë·∫£m b·∫£o r·∫±ng t·∫•t c·∫£ c√°c ph·∫£n h·ªìi t·ª´ API ƒë·ªÅu c√≥ m·ªôt c·∫•u tr√∫c nh·∫•t qu√°n, gi√∫p ph√≠a client d·ªÖ d√†ng x·ª≠ l√Ω k·∫øt qu·∫£ (th√†nh c√¥ng ho·∫∑c th·∫•t b·∫°i) m·ªôt c√°ch ƒë·ªìng b·ªô.

  - V√≠ d·ª•:

    ```csharp
    // File: src/MyShop.Server/Controllers/RoleController.cs
    [HttpGet]
    public async Task<ActionResult<ApiResponse<IEnumerable<RoleResponse>>>> GetRoles()
    {
        var roles = await _roleService.GetAllRolesAsync();

        // Lu√¥n tr·∫£ v·ªÅ c·∫•u tr√∫c ApiResponse chu·∫©n
        return Ok(ApiResponse<IEnumerable<RoleResponse>>.SuccessResponse(roles, ...));
    }
    ```

- **X·ª≠ l√Ω L·ªói v√† Ghi Log (Error Handling & Logging):**

  - **Exception Handling**: S·ª≠ d·ª•ng c√°c kh·ªëi `try-catch` ·ªü c√°c t·∫ßng ngo√†i c√πng c·ªßa logic (th∆∞·ªùng l√† trong Controller ho·∫∑c Service) ƒë·ªÉ b·∫Øt v√† x·ª≠ l√Ω c√°c ngo·∫°i l·ªá. ƒêi·ªÅu n√†y ngƒÉn ch·∫∑n vi·ªác r√≤ r·ªâ c√°c th√¥ng tin nh·∫°y c·∫£m (nh∆∞ stack trace) ra client v√† cho ph√©p tr·∫£ v·ªÅ m·ªôt th√¥ng b√°o l·ªói th√¢n thi·ªán.

  - **Logging**: S·ª≠ d·ª•ng `ILogger` ƒë∆∞·ª£c cung c·∫•p b·ªüi ASP.NET Core ƒë·ªÉ ghi l·∫°i c√°c s·ª± ki·ªán quan tr·ªçng, c·∫£nh b√°o, v√† l·ªói. Vi·ªác ghi log c√≥ c·∫•u tr√∫c (structured logging) ƒë∆∞·ª£c √°p d·ª•ng ƒë·ªÉ d·ªÖ d√†ng truy v·∫•n v√† ph√¢n t√≠ch sau n√†y. V√≠ d·ª•: Trong `AuthService`, c√°c th√¥ng tin v·ªÅ y√™u c·∫ßu, th√†nh c√¥ng, hay th·∫•t b·∫°i ƒë·ªÅu ƒë∆∞·ª£c ghi l·∫°i.

    ```csharp
    // File: src/MyShop.Server/Services/Implementations/AuthService.cs
    public async Task<LoginResponse> LoginAsync(LoginRequest request)
    {
        try
        {
            _logger.LogInformation("‚úÖ Login request received for: {UsernameOrEmail}", request.UsernameOrEmail);

            // ...
            if (user == null)
            {
                _logger.LogWarning("‚ö†Ô∏è Login failed - User not found: {UsernameOrEmail}", request.UsernameOrEmail);
                throw new UnauthorizedAccessException(...);
            }
            // ...
        }
        catch (Exception ex)
        {
            _logger.LogError(ex, "‚ùå Error during user login for {UsernameOrEmail}", request.UsernameOrEmail);
            throw;
        }
    }
    ```

#### 6.1.4. Quy T·∫Øc v·ªÅ T√†i Li·ªáu H√≥a M√£ (Documentation)

- **XML Documentation Comments**: M·ªçi `public class`, `interface`, `method`, v√† `property` ƒë·ªÅu ph·∫£i ƒë∆∞·ª£c t√†i li·ªáu h√≥a b·∫±ng c√°ch s·ª≠ d·ª•ng comment XML (`///`). ƒêi·ªÅu n√†y kh√¥ng ch·ªâ gi√∫p c√°c th√†nh vi√™n trong nh√≥m hi·ªÉu r√µ m·ª•c ƒë√≠ch c·ªßa t·ª´ng th√†nh ph·∫ßn m√† c√≤n ƒë∆∞·ª£c t√≠ch h·ª£p v√†o IntelliSense c·ªßa Visual Studio v√† c√≥ th·ªÉ ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ t·ª± ƒë·ªông t·∫°o t√†i li·ªáu API.

  - V√≠ d·ª•:

    ```csharp
    // File: src/MyShop.Server/Services/Interfaces/IUserAuthorityService.cs

    /// <summary>
    /// Interface cho service qu·∫£n l√Ω quy·ªÅn h·∫°n c·ªßa user.
    /// </summary>
    public interface IUserAuthorityService
    {
        /// <summary>
        /// L·∫•y danh s√°ch quy·ªÅn h·∫°n hi·ªáu l·ª±c c·ªßa user (sau khi tr·ª´ ƒëi quy·ªÅn b·ªã lo·∫°i b·ªè).
        /// </summary>
        /// <param name="userId">ID c·ªßa user</param>
        /// <returns>Danh s√°ch t√™n quy·ªÅn h·∫°n hi·ªáu l·ª±c</returns>
        Task<IEnumerable<string>> GetEffectiveAuthoritiesAsync(Guid userId);
    }
    ```

#### 6.1.5. WinUI Specific Conventions:

[Frontend Developer ƒëi·ªÅn th√™m]

##### XAML & Binding
- ∆Øu ti√™n `x:Bind` thay cho `Binding` (hi·ªáu nƒÉng + ki·ªÉm tra bi√™n d·ªãch). Ch·ªâ d√πng `Binding` khi `DataContext` thay ƒë·ªïi ƒë·ªông.
- M·∫∑c ƒë·ªãnh `Mode=OneWay`; v·ªõi input d√πng `Mode=TwoWay` v√† `UpdateSourceTrigger=PropertyChanged` khi c·∫ßn c·∫≠p nh·∫≠t t·ª©c th·ªùi.
- ƒê·∫∑t t√™n ph·∫ßn t·ª≠ PascalCase + h·∫≠u t·ªë r√µ nghƒ©a: `LoginButton`, `UsernameTextBox`, `RootGrid`.
- H·∫°n ch·∫ø logic ·ªü code-behind; ch·ªâ x·ª≠ l√Ω wiring UI.
- D√πng `x:Load`/`DeferLoadStrategy="Lazy"` cho UI n·∫∑ng, √≠t xu·∫•t hi·ªán.

##### Converters
- L∆∞u t·∫°i `Views/Converters`, t√™n k·∫øt th√∫c `Converter` (v√≠ d·ª•: `StringToVisibilityConverter`).
- Khai b√°o trong `App.xaml` v·ªõi `x:Key` ng·∫Øn g·ªçn, m√¥ t·∫£ ƒë√∫ng ch·ª©c nƒÉng (v√≠ d·ª•: `StringToVisibilityConverter`, `BoolNegationConverter`, `BoolToVisibilityConverter`, `ValidationErrorConverter`).
- Ch·ªâ d√πng khi kh√¥ng th·ªÉ gi·∫£i quy·∫øt b·∫±ng `x:Bind`, `TargetNullValue`, `FallbackValue`, `StringFormat`.

##### MVVM (CommunityToolkit.Mvvm)
- ViewModel: PascalCase + h·∫≠u t·ªë `ViewModel` (m·ªói `Page` m·ªôt VM). Thu·ªôc t√≠nh d√πng `[ObservableProperty]`, l·ªánh d√πng `[RelayCommand]`. L·ªánh async h·∫≠u t·ªë `Async`.
- Tr√°nh `async void` (tr·ª´ event UI). Ph∆∞∆°ng th·ª©c public tr·∫£ `Task/Task<T>`.
- DI: Resolve VM qua `App.Current.Services.GetRequiredService<TViewModel>()`. Kh√¥ng inject service tr·ª±c ti·∫øp v√†o `Page` ngo√†i m·ª•c ƒë√≠ch kh·ªüi t·∫°o VM.
- Ph√¢n t√°ch service g·ªçi API ra l·ªõp ri√™ng, kh√¥ng ƒë·∫∑t trong VM.

##### ƒêi·ªÅu h∆∞·ªõng (Navigation)
- T·∫≠p trung ho√° qua `INavigationService`. Kh√¥ng g·ªçi `Frame.Navigate` tr·ª±c ti·∫øp ngo√†i service.
- ƒêi·ªÅu h∆∞·ªõng b·∫±ng ki·ªÉu trang + tham s·ªë: `NavigateTo(typeof(TargetPage), param)`.
- Trang nh·∫≠n tham s·ªë trong `OnNavigatedTo` (ho·∫∑c pattern `INavigationAware`), validate null/ki·ªÉu.
- `NavigationCacheMode`: `Required` cho dashboard/stateful; c√≤n l·∫°i `Default`.

##### Dialogs, Popups & Windows
- Tr∆∞·ªõc khi `ShowAsync()` v·ªõi `ContentDialog`, lu√¥n g√°n `XamlRoot` t·ª´ `Window.Content.XamlRoot`. T·∫≠n d·ª•ng `ToastHelper` ƒë·ªÉ th·ªëng nh·∫•t hi·ªÉn th·ªã (v√≠ d·ª•: `Initialize`, `ShowSuccess/Error/Info`, `ShowConnectionErrorAsync`).
- Kh√¥ng ch·∫∑n UI thread; m·ªçi dialog ƒë·ªÅu `await`.
- V·ªõi nhi·ªÅu c·ª≠a s·ªï, qu·∫£n l√Ω v√≤ng ƒë·ªùi tr√°nh r√≤ r·ªâ; g√°n `XamlRoot` ƒë√∫ng c·ª≠a s·ªï ƒëang ho·∫°t ƒë·ªông.

##### T√†i nguy√™n, Styles & Theming
- Gi·ªØ `XamlControlsResources` trong `App.xaml`.
- T√°ch `ResourceDictionary` theo nh√≥m: `Resources/Colors.xaml`, `Resources/Brushes.xaml`, `Resources/Styles.xaml`, `Resources/Converters.xaml`; merge m·ªôt l·∫ßn ·ªü `App.xaml`.
- D√πng `ThemeDictionaries` h·ªó tr·ª£ Light/Dark/HighContrast. Tr√°nh hard-code m√†u; ∆∞u ti√™n `ThemeResource`.

##### C·∫•u tr√∫c & ƒê·∫∑t t√™n
- Th∆∞ m·ª•c: `Views/Pages`, `Views/Controls`, `Views/Converters`, `ViewModels`, `Services` (`Interfaces`/`Implementations`), `Resources`.
- T√™n:
  - Page k·∫øt th√∫c `Page` (v√≠ d·ª•: `LoginPage`); UserControl k·∫øt th√∫c `Control`.
  - Interface b·∫Øt ƒë·∫ßu `I` (v√≠ d·ª•: `INavigationService`, `IToastHelper`).
  - Service k·∫øt th√∫c `Service`, Helper k·∫øt th√∫c `Helper`, Converter k·∫øt th√∫c `Converter`.
- T√™n t·ªáp tr√πng t√™n l·ªõp/ki·ªÉu.

##### Hi·ªáu nƒÉng
- ∆Øu ti√™n `x:Bind`, tr√°nh binding ph·ª©c t·∫°p trong `ItemsPanel`.
- Danh s√°ch d√†i: b·∫≠t ·∫£o ho√° (ListView/GridView) ho·∫∑c `ItemsRepeater`.
- Gi·∫£m ƒë·ªô s√¢u c√¢y visual; d√πng `Spacing` thay v√¨ `Margin` ch·ªìng ch√©o.
- C√¥ng vi·ªác n·∫∑ng: n·ªÅn (`Task.Run`) v√† c·∫≠p nh·∫≠t UI qua `DispatcherQueue.TryEnqueue`.

##### X√°c th·ª±c & Hi·ªÉn th·ªã l·ªói
- Bi·ªÉu m·∫´u: thu·ªôc t√≠nh l·ªói trong VM (v√≠ d·ª•: `UsernameError`) ho·∫∑c `INotifyDataErrorInfo` cho quy m√¥ l·ªõn.
- Th√¥ng ƒëi·ªáp l·ªói ng·∫Øn g·ªçn, g·∫ßn control; th·ªëng nh·∫•t m√†u/icon.
- T·∫≠n d·ª•ng converters s·∫µn c√≥ nh∆∞ trong `App.xaml`.

##### Tr·ª£ nƒÉng (Accessibility) & N·ªôi ƒë·ªãa ho√° (Localization)
- Th√™m `AutomationProperties.Name/HelpText` cho control t∆∞∆°ng t√°c; th·ª© t·ª± Tab h·ª£p l√Ω, c√≥ `AccessKey` cho h√†nh ƒë·ªông ch√≠nh.
- Localization qua `x:Uid`; chu·ªói trong `Resources.resw`. Kh√¥ng hard-code text trong XAML/C#.

##### M·∫°ng & API
- D√πng `HttpClientFactory` + Refit (`Refit.HttpClientFactory`, `Refit.Newtonsoft.Json`). C·∫•u h√¨nh `HttpClient` trong DI, kh√¥ng t·∫°o m·ªõi th·ªß c√¥ng.
- Thi·∫øt l·∫≠p timeout, ph√¢n lo·∫°i l·ªói (network/server/validation) v√† hi·ªÉn th·ªã nh·∫•t qu√°n qua `ToastHelper`.
- Retry/circuit-breaker n·∫øu c·∫ßn: ƒë·∫∑t ·ªü Service layer (c√≥ th·ªÉ d√πng Polly).

##### V√≤ng ƒë·ªùi ·ª©ng d·ª•ng
- `OnLaunched` t·ªëi gi·∫£n: kh·ªüi t·∫°o DI, ƒëi·ªÅu h∆∞·ªõng trang ƒë·∫ßu ti√™n. B·∫Øt l·ªói v√† ghi log.
- Thi·∫øt l·∫≠p theme, Backdrop, TitleBar ·ªü `MainWindow`, tr√°nh c·∫•u h√¨nh l·∫∑p l·∫°i per-page.
- L∆∞u/kh√¥i ph·ª•c tr·∫°ng th√°i ph√π h·ª£p v·ªõi `NavigationCacheMode`.

##### Logging & Ch·∫©n ƒëo√°n
- D√πng `ILogger<T>` cho log c√≥ c·∫•u tr√∫c. Kh√¥ng log d·ªØ li·ªáu nh·∫°y c·∫£m.
- M·ª©c log: `Information` cho lu·ªìng ch√≠nh, `Warning/Error` cho s·ª± c·ªë.
- ƒê∆∞·ªùng ƒëi x·ª≠ l√Ω l·ªói UI th·ªëng nh·∫•t (toast + optional ƒëi·ªÅu h∆∞·ªõng trang h·ªó tr·ª£).

##### Ki·ªÉm th·ª≠ th·ªß c√¥ng & Checklist PR
- Ki·ªÉm Light/Dark/HighContrast, back navigation, d·ªØ li·ªáu tham s·ªë ƒëi·ªÅu h∆∞·ªõng, localization.
- PR checklist:
  - [ ] Theo style XAML/C#
  - [ ] Kh√¥ng logic nghi·ªáp v·ª• trong View
  - [ ] Kh√¥ng `async void` (tr·ª´ event)
  - [ ] Kh√¥ng block UI
  - [ ] Log ph√π h·ª£p

##### Chu·∫©n m√£ C#
- `PascalCase` cho public, `camelCase` cho tham s·ªë, `_camelCase` cho tr∆∞·ªùng `private readonly`.
- D√πng `var` khi ki·ªÉu r√µ r√†ng.
- Nullable b·∫≠t (`<Nullable>enable</Nullable>`). Async h·∫≠u t·ªë `Async`, tr·∫£ `Task/Task<T>`.

#### 6.1.6. Python Conventions (AI)

**[PH√ÇN C√îNG: AI DEVELOPER]**

Tham kh·∫£o: [PEP 8 Style Guide](https://peps.python.org/pep-0008/)

- **Naming Conventions:**

  ```python
      class ProductRecommender:
        pass  # TODO
  ```

- Functions/Variables ‚Äì snake_case
  ```python
  def get_recommendations():
      product_list = []  # TODO
      return product_list
  ```
- Constants ‚Äì UPPER_CASE
  ```python
  MAX_RECOMMENDATIONS = 10
  ```
- **Code Style:** - Indentation: 4 spaces; kh√¥ng tr·ªôn tabs/spaces. - Line length: ‚â§ 79 k√Ω t·ª± cho code; docstrings/comments ‚â§ 72. - Imports: tr√™n c√πng file; th·ª© t·ª± stdlib ‚Üí third-party ‚Üí local; m·ªói nh√≥m c√°ch 1 d√≤ng; d√πng absolute imports. - Whitespace: - D·∫•u ph·∫©y sau ph·∫ßn t·ª≠; kh√¥ng space tr∆∞·ªõc d·∫•u ph·∫©y/ngo·∫∑c. - To√°n t·ª≠ nh·ªã ph√¢n: 1 space hai b√™n (tr·ª´ khi nh√≥m theo ng·ªØ nghƒ©a). - Kh√¥ng d∆∞ space trong ngo·∫∑c tr√≤n/vu√¥ng/nh·ªçn. - Docstrings: d√πng triple quotes theo PEP 257; m√¥ t·∫£ ng·∫Øn 1 d√≤ng + chi ti·∫øt (n·∫øu c·∫ßn). - Typing: d√πng type hints cho h√†m/public API. - Strings: ∆∞u ti√™n f-strings; nh·∫•t qu√°n ' ho·∫∑c ". - Comparisons: - V·ªõi None: d√πng `is`/`is not`. - Boolean: tr√°nh `== True/False`. - Exceptions: b·∫Øt ngo·∫°i l·ªá c·ª• th·ªÉ. - Collections: ∆∞u ti√™n list/dict/set comprehensions. - Defaults: tr√°nh mutable default args (d√πng `None` + kh·ªüi t·∫°o b√™n trong). - Visibility: internal d√πng `_prefix`; ‚Äúprivate‚Äù m·∫°nh d√πng `__name` n·∫øu th·∫≠t s·ª± c·∫ßn. - Modules/packages: t√™n snake_case ng·∫Øn g·ªçn. - Logging: d√πng `logging` thay v√¨ `print`.

### 6.2. Testing Strategy

#### 6.2.1. Manual Testing (Frontend)

**[PH√ÇN C√îNG: FRONTEND DEVELOPER]**

##### **UI Testing Approach**

M·ª•c ti√™u c·ªßa manual testing l√† **ƒë·∫£m b·∫£o giao di·ªán ng∆∞·ªùi d√πng (UI)** v√† **lu·ªìng thao t√°c (UX)** ho·∫°t ƒë·ªông ƒë√∫ng nh∆∞ thi·∫øt k·∫ø Figma Make, ƒë·ªìng th·ªùi x√°c nh·∫≠n c√°c binding d·ªØ li·ªáu, command v√† navigation ho·∫°t ƒë·ªông ·ªïn ƒë·ªãnh trong m√¥ h√¨nh **MVVM**.
Vi·ªác test ƒë∆∞·ª£c th·ª±c hi·ªán tr·ª±c ti·∫øp tr√™n ·ª©ng d·ª•ng WinUI 3 build b·∫±ng ch·∫ø ƒë·ªô Debug.

**Ph∆∞∆°ng ph√°p th·ª±c hi·ªán:**

1. **Ki·ªÉm th·ª≠ th·ªß c√¥ng theo module (Manual Module Testing):**

   - M·ªói module (Login, Dashboard, Products, Orders, Reports, Settings) ƒë∆∞·ª£c ki·ªÉm th·ª≠ ri√™ng bi·ªát.
   - T·∫≠p trung v√†o kh·∫£ nƒÉng t∆∞∆°ng t√°c (click, nh·∫≠p d·ªØ li·ªáu, load data) v√† t√≠nh nh·∫•t qu√°n UI.

2. **Ki·ªÉm th·ª≠ theo lu·ªìng ng∆∞·ªùi d√πng (User Flow Testing):**

   - M√¥ ph·ªèng h√†nh vi th·∫≠t c·ªßa 3 role ch√≠nh:
     `Admin`, `SalesAgent`, `Customer`.
   - ƒê·∫£m b·∫£o c√°c m√†n h√¨nh, ch·ª©c nƒÉng, quy·ªÅn h·∫°n hi·ªÉn th·ªã ƒë√∫ng theo role.

3. **Ki·ªÉm th·ª≠ tr·∫°ng th√°i (State Testing):**

   - Test giao di·ªán khi login, logout, switch role, thay ƒë·ªïi theme.
   - ƒê·∫£m b·∫£o d·ªØ li·ªáu hi·ªÉn th·ªã ƒë√∫ng theo tr·∫°ng th√°i ƒëƒÉng nh·∫≠p v√† `AppState`.

4. **Ki·ªÉm th·ª≠ k·∫øt n·ªëi API gi·∫£ l·∫≠p (Mock API Testing):**

   - D√πng mock data thay cho API th·∫≠t ƒë·ªÉ test logic hi·ªÉn th·ªã.
   - Sau khi backend ho√†n thi·ªán, test l·∫°i b·∫±ng `Refit ApiClient`.

---

##### **Test Cases cho c√°c lu·ªìng ch√≠nh**

| **STT** | **Module**          | **Ch·ª©c nƒÉng ki·ªÉm th·ª≠**     | **M√¥ t·∫£ ki·ªÉm th·ª≠ / K·∫øt qu·∫£ mong ƒë·ª£i**                               |
| ------- | ------------------- | -------------------------- | ------------------------------------------------------------------- |
| 1       | Login               | ƒêƒÉng nh·∫≠p th√†nh c√¥ng       | Nh·∫≠p username/password ƒë√∫ng, hi·ªÉn th·ªã dashboard t∆∞∆°ng ·ª©ng v·ªõi role. |
| 2       | Login               | ƒêƒÉng nh·∫≠p th·∫•t b·∫°i         | Nh·∫≠p sai password ‚Üí hi·ªán toast ‚ÄúLogin failed‚Äù.                      |
| 3       | Register            | ƒêƒÉng k√Ω m·ªõi                | G·ª≠i form ƒë·∫ßy ƒë·ªß, nh·∫≠n th√¥ng b√°o success v√† chuy·ªÉn h∆∞·ªõng v·ªÅ login.   |
| 4       | Dashboard (Admin)   | Th·ªëng k√™ t·ªïng quan         | C√°c widget hi·ªÉn th·ªã ƒë√∫ng s·ªë l∆∞·ª£ng s·∫£n ph·∫©m, ƒë∆°n h√†ng, doanh thu.    |
| 5       | Product (Admin)     | L·ªçc s·∫£n ph·∫©m               | L·ªçc theo gi√° ti·ªÅn [min,max] v√† theo t√™n ho·∫°t ƒë·ªông ƒë√∫ng.             |
| 6       | Product (Admin)     | CRUD                       | Add/Edit/Delete s·∫£n ph·∫©m ‚Üí hi·ªÉn th·ªã c·∫≠p nh·∫≠t ngay tr√™n b·∫£ng.        |
| 7       | Orders (SalesAgent) | Xem ƒë∆°n h√†ng c·ªßa m√¨nh      | Ch·ªâ hi·ªÉn th·ªã ƒë∆°n h√†ng thu·ªôc SalesAgent hi·ªán t·∫°i.                    |
| 8       | Orders (Admin)      | Xem t·∫•t c·∫£ ƒë∆°n h√†ng        | Hi·ªÉn th·ªã to√†n b·ªô danh s√°ch ƒë∆°n h√†ng, c√≥ th·ªÉ l·ªçc theo tr·∫°ng th√°i.    |
| 9       | Reports             | Bi·ªÉu ƒë·ªì th·ªëng k√™           | Bi·ªÉu ƒë·ªì doanh thu, t·ªâ l·ªá kh√°ch h√†ng, top rating ho·∫°t ƒë·ªông ƒë√∫ng.     |
| 10      | Settings/Profile    | Thay ƒë·ªïi th√¥ng tin c√° nh√¢n | C·∫≠p nh·∫≠t th√†nh c√¥ng, l∆∞u state, hi·ªÉn th·ªã th√¥ng b√°o success.         |
| 11      | Theme Switching     | ƒê·ªïi theme s√°ng/t·ªëi         | Giao di·ªán ƒë·ªïi theme m∆∞·ª£t, l∆∞u tr·∫°ng th√°i theme v√†o AppState.        |
| 12      | Navigation          | Chuy·ªÉn trang               | Sidebar ho·∫°t ƒë·ªông, menu icon toggle ƒë∆∞·ª£c tr√™n mobile view.          |

---

##### **Checklist UI/UX Testing**

| **Ti√™u ch√≠**       | **Y√™u c·∫ßu ki·ªÉm th·ª≠**                                           |
| ------------------ | -------------------------------------------------------------- |
| Layout consistency | Ki·ªÉm tra cƒÉn l·ªÅ, spacing, padding gi·ªØa c√°c components.         |
| Typography         | Font Inter/Roboto, k√≠ch th∆∞·ªõc v√† m√†u ch·ªØ th·ªëng nh·∫•t.           |
| Color scheme       | M√†u ch·ªß ƒë·∫°o `#1A4D8F` (navy) v√† accent `#00AEEF` √°p d·ª•ng ƒë√∫ng. |
| Responsive         | Layout sidebar + topbar hi·ªÉn th·ªã ƒë√∫ng tr√™n desktop v√† mobile.  |
| Navigation         | Sidebar toggle ho·∫°t ƒë·ªông tr∆°n tru, hover states r√µ r√†ng.       |
| Iconography        | S·ª≠ d·ª•ng icon h·ª£p l√Ω, ƒë·ªìng b·ªô, r√µ nghƒ©a.                        |
| Feedback           | Toast/Dialog hi·ªÉn th·ªã ƒë√∫ng l√∫c l·ªói ho·∫∑c h√†nh ƒë·ªông th√†nh c√¥ng.  |
| Loading states     | Hi·ªÉn th·ªã progress ring khi ch·ªù API (Refit call).               |
| Accessibility      | Text contrast ƒë·∫°t ti√™u chu·∫©n, c√≥ focus states khi tab.         |
| Localization       | H·ªó tr·ª£ chuy·ªÉn ƒë·ªïi ng√¥n ng·ªØ (n·∫øu c√≥).                           |

---

##### **Ghi ch√∫ quy tr√¨nh test:**

- To√†n b·ªô test ƒë∆∞·ª£c ghi l·∫°i b·∫±ng **Microsoft Test & Feedback Extension** ho·∫∑c **ScreenToGif** ƒë·ªÉ b√°o l·ªói UI.
- Khi test l·ªói UI, developer ghi l·∫°i _Screenshot + Reproduce steps + Expected vs Actual_ ƒë·ªÉ c·∫≠p nh·∫≠t backlog.
- M·ªói l·∫ßn refactor UI ho·∫∑c thay ƒë·ªïi API field ‚Üí test l·∫°i to√†n b·ªô c√°c flow b·ªã ·∫£nh h∆∞·ªüng.

---

#### 6.2.2. Unit Testing (Backend)

**[PH√ÇN C√îNG: BACKEND DEVELOPER]**

ƒê·ªÉ ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng, s·ª± ·ªïn ƒë·ªãnh v√† ƒë·ªô tin c·∫≠y c·ªßa h·ªá th·ªëng, d·ª± √°n ƒë√£ x√¢y d·ª±ng v√† √°p d·ª•ng m·ªôt chi·∫øn l∆∞·ª£c ki·ªÉm th·ª≠ ƒë∆°n v·ªã (Unit Testing) b√†i b·∫£n cho t·∫ßng backend. M·ª•c ti√™u c·ªßa Unit Test l√† x√°c minh r·∫±ng m·ªói "ƒë∆°n v·ªã" (unit) m√£ ngu·ªìn ri√™ng l·∫ª‚Äîth∆∞·ªùng l√† m·ªôt ph∆∞∆°ng th·ª©c trong m·ªôt l·ªõp‚Äîho·∫°t ƒë·ªông ƒë√∫ng nh∆∞ mong ƒë·ª£i trong m·ªôt m√¥i tr∆∞·ªùng b·ªã c√¥ l·∫≠p.

---

##### **6.2.2.1. M·ª•c Ti√™u v√† T·∫ßm Quan Tr·ªçng**

- **ƒê·∫£m b·∫£o t√≠nh ƒë√∫ng ƒë·∫Øn:** X√°c minh r·∫±ng logic nghi·ªáp v·ª• trong c√°c service ho·∫°t ƒë·ªông ch√≠nh x√°c theo t·ª´ng tr∆∞·ªùng h·ª£p s·ª≠ d·ª•ng (use case), bao g·ªìm c·∫£ c√°c k·ªãch b·∫£n th√†nh c√¥ng, th·∫•t b·∫°i v√† c√°c tr∆∞·ªùng h·ª£p bi√™n (edge cases).
- **Ph√°t hi·ªán s·ªõm l·ªói (Regression Prevention):** Khi c√≥ s·ª± thay ƒë·ªïi ho·∫∑c b·ªï sung m√£ ngu·ªìn m·ªõi, vi·ªác ch·∫°y l·∫°i b·ªô unit test gi√∫p nhanh ch√≥ng ph√°t hi·ªán c√°c l·ªói h·ªìi quy (regression bugs)‚Äînh·ªØng l·ªói ph√°t sinh ·ªü ch·ª©c nƒÉng c≈© do s·ª± thay ƒë·ªïi m·ªõi.
- **H·ªó tr·ª£ t√°i c·∫•u tr√∫c (Refactoring):** Cung c·∫•p m·ªôt "l∆∞·ªõi an to√†n", cho ph√©p l·∫≠p tr√¨nh vi√™n t·ª± tin t√°i c·∫•u tr√∫c ho·∫∑c t·ªëi ∆∞u h√≥a m√£ ngu·ªìn m√† kh√¥ng s·ª£ l√†m h·ªèng c√°c ch·ª©c nƒÉng hi·ªán c√≥.
- **T√†i li·ªáu s·ªëng (Living Documentation):** C√°c unit test t·ª± n√≥ ƒë√£ l√† m·ªôt d·∫°ng t√†i li·ªáu k·ªπ thu·∫≠t. B·∫±ng c√°ch ƒë·ªçc c√°c test case, m·ªôt l·∫≠p tr√¨nh vi√™n m·ªõi c√≥ th·ªÉ hi·ªÉu r√µ c√°c y√™u c·∫ßu v√† h√†nh vi mong ƒë·ª£i c·ªßa m·ªôt ph∆∞∆°ng th·ª©c m√† kh√¥ng c·∫ßn ƒë·ªçc m√£ ngu·ªìn tri·ªÉn khai chi ti·∫øt.

---

##### **6.2.2.2. C√¥ng C·ª• v√† N·ªÅn T·∫£ng**

D·ª± √°n s·ª≠ d·ª•ng b·ªô c√¥ng c·ª• ti√™u chu·∫©n v√† ph·ªï bi·∫øn trong h·ªá sinh th√°i .NET ƒë·ªÉ tri·ªÉn khai unit test:

- **xUnit:** L√† m·ªôt framework ki·ªÉm th·ª≠ m√£ ngu·ªìn m·ªü, mi·ªÖn ph√≠ v√† h∆∞·ªõng c·ªông ƒë·ªìng cho .NET. **xUnit** c√≥ c√∫ ph√°p hi·ªán ƒë·∫°i, r√µ r√†ng v√† kh·∫£ nƒÉng ch·∫°y song song c√°c test case, gi√∫p tƒÉng t·ªëc qu√° tr√¨nh ki·ªÉm th·ª≠.
- **Moq:** L√† m·ªôt th∆∞ vi·ªán "mocking" (t·∫°o ƒë·ªëi t∆∞·ª£ng gi·∫£) m·∫°nh m·∫Ω v√† linh ho·∫°t. Moq cho ph√©p t·∫°o ra c√°c phi√™n b·∫£n gi·∫£ c·ªßa c√°c ƒë·ªëi t∆∞·ª£ng ph·ª• thu·ªôc (dependencies), v√≠ d·ª• nh∆∞ c√°c repository. ƒêi·ªÅu n√†y l√† t·ªëi quan tr·ªçng ƒë·ªÉ c√¥ l·∫≠p ƒë∆°n v·ªã ƒëang ƒë∆∞·ª£c ki·ªÉm th·ª≠.
- **Microsoft.NET.Test.Sdk:** Cung c·∫•p h·∫° t·∫ßng c·∫ßn thi·∫øt ƒë·ªÉ Visual Studio v√† c√°c c√¥ng c·ª• d√≤ng l·ªánh c√≥ th·ªÉ ph√°t hi·ªán v√† th·ª±c thi c√°c b√†i ki·ªÉm th·ª≠.

---

##### **6.2.2.3. Ph∆∞∆°ng Ph√°p Ti·∫øp C·∫≠n: M·∫´u Arrange-Act-Assert (AAA)**

T·∫•t c·∫£ c√°c unit test trong d·ª± √°n ƒë·ªÅu tu√¢n th·ªß nghi√™m ng·∫∑t theo m·∫´u **Arrange-Act-Assert (AAA)**. C·∫•u tr√∫c n√†y gi√∫p c√°c b√†i ki·ªÉm th·ª≠ tr·ªü n√™n nh·∫•t qu√°n, d·ªÖ ƒë·ªçc v√† d·ªÖ hi·ªÉu.

- **Arrange (S·∫Øp ƒë·∫∑t):** Giai ƒëo·∫°n n√†y chu·∫©n b·ªã m·ªçi th·ª© c·∫ßn thi·∫øt cho b√†i ki·ªÉm th·ª≠. Bao g·ªìm:

  - Kh·ªüi t·∫°o ƒë·ªëi t∆∞·ª£ng ƒëang ƒë∆∞·ª£c ki·ªÉm th·ª≠ (System Under Test - SUT).
  - T·∫°o c√°c ƒë·ªëi t∆∞·ª£ng gi·∫£ (mocks) cho c√°c ph·ª• thu·ªôc c·ªßa SUT.
  - Thi·∫øt l·∫≠p h√†nh vi cho c√°c mocks (v√≠ d·ª•: "khi ph∆∞∆°ng th·ª©c `GetByUsernameAsync` ƒë∆∞·ª£c g·ªçi v·ªõi username 'test', h√£y tr·∫£ v·ªÅ m·ªôt ƒë·ªëi t∆∞·ª£ng `User` c·ª• th·ªÉ").

- **Act (H√†nh ƒë·ªông):** Giai ƒëo·∫°n n√†y th·ª±c thi ph∆∞∆°ng th·ª©c c·∫ßn ki·ªÉm th·ª≠ v·ªõi c√°c tham s·ªë ƒë√£ ƒë∆∞·ª£c chu·∫©n b·ªã ·ªü b∆∞·ªõc Arrange. ƒê√¢y l√† h√†nh ƒë·ªông duy nh·∫•t ƒë∆∞·ª£c th·ª±c hi·ªán trong m·ªôt test case.

- **Assert (X√°c minh):** Giai ƒëo·∫°n cu·ªëi c√πng, gi√∫p ki·ªÉm tra xem k·∫øt qu·∫£ c·ªßa h√†nh ƒë·ªông ·ªü b∆∞·ªõc Act c√≥ kh·ªõp v·ªõi k·∫øt qu·∫£ mong ƒë·ª£i hay kh√¥ng.

---

##### **6.2.2.4. L·ª£i √çch v√† ƒê·ªãnh H∆∞·ªõng T∆∞∆°ng Lai**

- **L·ª£i √≠ch ƒë√£ ƒë·∫°t ƒë∆∞·ª£c**:

  - **TƒÉng ƒë·ªô tin c·∫≠y**: C√°c logic nghi·ªáp v·ª• c·ªët l√µi nh∆∞ ƒëƒÉng nh·∫≠p, ƒëƒÉng k√Ω ho·∫°t ƒë·ªông ƒë√∫ng nh∆∞ thi·∫øt k·∫ø.

  - **Gi·∫£m th·ªùi gian g·ª° l·ªói**: L·ªói ƒë∆∞·ª£c ph√°t hi·ªán ngay ·ªü giai ƒëo·∫°n ph√°t tri·ªÉn, gi√∫p gi·∫£m ƒë√°ng k·ªÉ th·ªùi gian v√† chi ph√≠ cho vi·ªác g·ª° l·ªói sau n√†y.

  - **ƒê·ªãnh h∆∞·ªõng t∆∞∆°ng lai**:

    - **TƒÉng ƒë·ªô bao ph·ªß (Test Coverage)**: Ti·∫øp t·ª•c vi·∫øt unit test cho c√°c service c√≤n l·∫°i v√† c√°c k·ªãch b·∫£n ph·ª©c t·∫°p h∆°n.

    - **T√≠ch h·ª£p v√†o CI/CD**: T·ª± ƒë·ªông h√≥a vi·ªác ch·∫°y to√†n b·ªô b·ªô test trong quy tr√¨nh T√≠ch h·ª£p li√™n t·ª•c/Tri·ªÉn khai li√™n t·ª•c (CI/CD). B·∫•t k·ª≥ thay ƒë·ªïi n√†o l√†m h·ªèng test s·∫Ω b·ªã t·ª´ ch·ªëi, ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng m√£ ngu·ªìn tr√™n nh√°nh ch√≠nh lu√¥n ·ªü m·ª©c cao nh·∫•t.

#### 6.2.3. AI Model Testing (AI)

**[PH√ÇN C√îNG: AI DEVELOPER]**

- **Accuracy Metrics:**
  - MAE: sai s·ªë tuy·ªát ƒë·ªëi trung b√¨nh (ƒë∆°n v·ªã $)
  - RMSE: ph·∫°t sai s·ªë l·ªõn m·∫°nh h∆°n; b·ªï tr·ª£ MAE
  - R¬≤: t·ªâ l·ªá ph∆∞∆°ng sai ƒë∆∞·ª£c gi·∫£i th√≠ch (0‚Äì1)
  - MSE: T·ªïng b√¨nh ph∆∞∆°ng sai s·ªë
- **Testing Dataset:**
  - Split (Time-based):
    - **Train**: 2010-02-05 ‚Üí 2012-06
    - **Validation**: 2012-07 ‚Üí 2012-09
    - **Test**: 2012-10
  - Cross-validation
    - TimeSeriesSplit (k-fold th·ªùi gian) khi ph√π h·ª£p
    - L·∫∑p 2‚Äì3 folds; b√°o c√°o mean ¬± std

#### 6.2.4. Automated UI Testing

**[PH√ÇN C√îNG: CHUNG]**

- **Tool:** [Selenium/Playwright/CodedUI]
- **Test Cases:** [Li·ªát k√™ test cases t·ª± ƒë·ªông]

---

## 7. C√ÅC T√çNH NƒÇNG N√ÇNG CAO

**[PH√ÇN C√îNG: T·∫§T C·∫¢ - M·ªñI NG∆Ø·ªúI 1 T√çNH NƒÇNG]**
**M·ªói ng∆∞·ªùi m·ªôt c√°i ƒëi v·ªÅ sau tui s·∫Ω n√™u th√™m**

### 7.1. Authentication - Authorization

**[PH√ÇN C√îNG: LEADER]**

- **M√¥ t·∫£:** Th·ª±c hi·ªán x√°c th·ª±c ng∆∞·ªùi d√πng b·∫±ng `JWT token` (JSON Web Token). Token ƒë∆∞·ª£c build t·ª± ƒë·ªông ch·ª©a c√°c th√¥ng tin c∆° b·∫£n c·ªßa user (ID, username, email) v√† `dynamic roles + authorities` ƒë·ªÉ nh·∫≠n bi·∫øt account n√†y c√≥ quy·ªÅn th·ª±c hi·ªán c√°c ch·ª©c nƒÉng g√¨. H·ªá th·ªëng h·ªó tr·ª£ `fine-grained permission control` v·ªõi kh·∫£ nƒÉng lo·∫°i b·ªè quy·ªÅn c·ª• th·ªÉ m√† kh√¥ng c·∫ßn thay ƒë·ªïi role.
- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**
  - Microsoft.AspNetCore.Authentication.JwtBearer (9.0) - JWT authentication middleware cho ASP.NET Core
  - System.IdentityModel.Tokens.Jwt - Token generation v√† validation
  - Microsoft.IdentityModel.Tokens - Cryptographic operations
  - HMAC SHA256 - Token signing algorithm
  - BCrypt.Net-Next - Password hashing
  - Claims-based Authorization - Role v√† authority management
  - .NET 9 v·ªõi C# 13
- **Implementation:**

  1. C·∫•u h√¨nh JWT Settings
     - ƒê·ªãnh nghƒ©a c√°c tham s·ªë JWT trong appsettings.json bao g·ªìm:
     - SecretKey: Kh√≥a b√≠ m·∫≠t t·ªëi thi·ªÉu 32 k√Ω t·ª± ƒë·ªÉ k√Ω token b·∫±ng HMAC SHA256
     - Issuer: Server ph√°t h√†nh token ("MyShop.Server")
     - Audience: Client nh·∫≠n token ("MyShop.Client")
     - ExpiryInMinutes: Th·ªùi gian token h·∫øt h·∫°n (5 ph√∫t)
     - RefreshTokenExpiryInDays: Th·ªùi gian refresh token h·∫øt h·∫°n (1 ng√†y)
  2. T·∫°o JWT Service
     - Implement IJwtService interface v·ªõi c√°c ph∆∞∆°ng th·ª©c:
     - GenerateAccessTokenAsync: T·∫°o JWT token cho user
     - GenerateRefreshToken: T·∫°o refresh token ng·∫´u nhi√™n
     - ValidateToken: X√°c th·ª±c v√† gi·∫£i m√£ token
  3. Quy tr√¨nh t·∫°o Token

     - B∆∞·ªõc 1: Khi user login th√†nh c√¥ng, l·∫•y th√¥ng tin user t·ª´ database

     - B∆∞·ªõc 2: G·ªçi `UserAuthorityService.GetEffectiveAuthoritiesDetailAsync()` ƒë·ªÉ t√≠nh to√°n quy·ªÅn hi·ªáu l·ª±c:

       - L·∫•y t·∫•t c·∫£ authorities t·ª´ roles c·ªßa user
       - Tr·ª´ ƒëi c√°c authorities ƒë√£ b·ªã lo·∫°i b·ªè
       - K·∫øt qu·∫£: Quy·ªÅn th·ª±c t·∫ø user ƒë∆∞·ª£c ph√©p s·ª≠ d·ª•ng

     - B∆∞·ªõc 3: Build danh s√°ch Claims:

       - `nameid`: User ID (GUID)
       - `unique_name`: Username
       - `email`: Email address
       - `role`: Danh s√°ch roles (Admin, Manager, User...)
       - `authority`: Danh s√°ch quy·ªÅn hi·ªáu l·ª±c (POST, DELETE, ALL...)
       - `jti`: Token ID duy nh·∫•t
       - `iat`: Th·ªùi ƒëi·ªÉm ph√°t h√†nh

     - B∆∞·ªõc 4: T·∫°o `SecurityTokenDescriptor` v·ªõi:

       - `Subject` ch·ª©a ClaimsIdentity
       - `Expiration` time (UTC + 5 ph√∫t)
       - `SigningCredentials` (HMAC SHA256 + SecretKey)
       - `Issuer v√† Audience`

     - B∆∞·ªõc 5: S·ª≠ d·ª•ng `JwtSecurityTokenHandler` ƒë·ªÉ:
       - CreateToken t·ª´ descriptor
       - WriteToken th√†nh chu·ªói JWT string
     - B∆∞·ªõc 6: Tr·∫£ v·ªÅ token string cho client

  4. C·∫•u h√¨nh Authentication Middleware

     - ƒêƒÉng k√Ω `JWT Bearer Authentication` trong `Program.cs`:
     - Set `DefaultAuthenticateScheme` v√† `DefaultChallengeScheme`
     - Configure TokenValidationParameters:

       - `ValidateIssuer/Audience/Lifetime/IssuerSigningKey` = true
       - `IssuerSigningKey` t·ª´ SecretKey

       - `ClockSkew` = TimeSpan.Zero (kh√¥ng cho ph√©p sai l·ªách th·ªùi gian)
       - `Set MapInboundClaims` = false ƒë·ªÉ gi·ªØ nguy√™n t√™n claims
       - `Configure events` ƒë·ªÉ log authentication success/failure

- **L·ª£i √≠ch:**
  - Security:
    - Server kh√¥ng l∆∞u session, d·ªÖ scale
    - HMAC SHA256 ƒë·∫£m b·∫£o integrity
    - BCrypt v·ªõi salt t·ª± ƒë·ªông
    - Token expire sau 5 ph√∫t
    - Verify token source
    - Th·ªùi gian token ƒë∆∞·ª£c refresh t·ªëi ƒëa 1 ng√†y
  - Flexible Authorization:
    - Thay ƒë·ªïi authorities m√† kh√¥ng c·∫ßn thay ƒë·ªïi role
    - D·ªÖ d√†ng th√™m b·ªõt x√≥a role c·ªßa account

### 7.2. [C√°c t√≠nh nƒÉng n√¢ng cao thu·ªôc Frontend]

**[PH√ÇN C√îNG: FRONTEND DEVELOPER]**

#### 7.2.1. **Dynamic Role-Based Navigation System**

- **M√¥ t·∫£:**
  ·ª®ng d·ª•ng t·ª± ƒë·ªông hi·ªÉn th·ªã navigation menu v√† quy·ªÅn truy c·∫≠p t∆∞∆°ng ·ª©ng theo **vai tr√≤ ƒëƒÉng nh·∫≠p (Admin / SalesAgent / Customer)**.
  Khi ƒëƒÉng nh·∫≠p, h·ªá th·ªëng ƒë·ªçc th√¥ng tin role t·ª´ token ho·∫∑c API login, sau ƒë√≥ c·∫≠p nh·∫≠t UI ƒë·ªông th√¥ng qua `NavigationService` v√† `AppState`.

- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**

  - WinUI 3 NavigationView
  - MVVM Toolkit (`ObservableObject`, `RelayCommand`)
  - Dynamic Binding & Role-based TemplateSelector

- **Implementation:**

  ```csharp
  if (AppState.CurrentUser.Role == UserRole.Admin)
      NavigationItems = AdminRoutes;
  else if (AppState.CurrentUser.Role == UserRole.SalesAgent)
      NavigationItems = SalesRoutes;
  else
      NavigationItems = CustomerRoutes;
  ```

- **L·ª£i √≠ch:**

  - Tr√°nh hard-code navigation gi·ªØa c√°c role.
  - Gi·∫£m l·ªói ph√¢n quy·ªÅn, tƒÉng t√≠nh linh ho·∫°t khi th√™m role m·ªõi.
  - M√¥ ph·ªèng th·ª±c t·∫ø h·ªá th·ªëng SaaS c√≥ ph√¢n quy·ªÅn ƒë·ªông.

---

#### 7.2.2. **Dialog & Toast Notification System**

- **M√¥ t·∫£:**
  X√¢y d·ª±ng h·ªá th·ªëng th√¥ng b√°o t√°i s·ª≠ d·ª•ng (reusable component) g·ªìm:

  - Toast message (hi·ªÉn th·ªã l·ªói, c·∫£nh b√°o, th√†nh c√¥ng)
  - Modal dialog (x√°c nh·∫≠n tr∆∞·ªõc khi x√≥a ho·∫∑c c·∫≠p nh·∫≠t d·ªØ li·ªáu)

- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**

  - `ContentDialog`, `TeachingTip` (WinUI 3)
  - MVVM Command Binding
  - Custom `DialogService`

- **Implementation:**

  ```csharp
  await DialogService.ShowConfirmDialogAsync(
      "Confirm delete",
      "Are you sure you want to delete this item?");
  ```

- **L·ª£i √≠ch:**

  - Gi·∫£m tr√πng l·∫∑p khi g·ªçi dialog trong nhi·ªÅu ViewModel.
  - Th·ªëng nh·∫•t phong c√°ch th√¥ng b√°o tr√™n to√†n h·ªá th·ªëng.
  - N√¢ng cao UX, ƒë·∫£m b·∫£o thao t√°c an to√†n.

---

#### 7.2.3. **Mock API Integration (Offline Mode)**

- **M√¥ t·∫£:**
  Tr∆∞·ªõc khi backend ho√†n thi·ªán, frontend c√≥ th·ªÉ test logic b·∫±ng **mock data JSON**.
  Cho ph√©p chuy·ªÉn ƒë·ªïi gi·ªØa mock mode v√† live mode ch·ªâ b·∫±ng c·∫•u h√¨nh.

- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**

  - Custom `IApiClient` interface
  - Strategy Pattern (`MockApiClient` vs `RealApiClient`)
  - `AppSettings.UseMockApi` flag

- **Implementation:**

  ```csharp
  IApiClient api = AppSettings.UseMockApi
      ? new MockApiClient()
      : new RealApiClient();
  ```

- **L·ª£i √≠ch:**

  - Cho ph√©p dev frontend l√†m vi·ªác ƒë·ªôc l·∫≠p v·ªõi backend.
  - TƒÉng t·ªëc ti·∫øn ƒë·ªô ph√°t tri·ªÉn, gi·∫£m dependency ch√©o gi·ªØa team.

---

#### 7.2.4. **DataGrid Sorting, Filtering, and Paging**

- **M√¥ t·∫£:**
  X√¢y d·ª±ng `DataGrid` h·ªó tr·ª£ **s·∫Øp x·∫øp (sort)**, **l·ªçc (filter)**, v√† **ph√¢n trang (paging)** tr·ª±c ti·∫øp tr√™n UI.
  T·ª± ƒë·ªông c·∫≠p nh·∫≠t danh s√°ch khi ng∆∞·ªùi d√πng thay ƒë·ªïi ƒëi·ªÅu ki·ªán t√¨m ki·∫øm.

- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**

  - WinUI `DataGrid` + `CollectionViewSource`
  - `ObservableCollection`
  - LINQ Filter binding

- **Implementation:**

  ```csharp
  var filtered = AllProducts
      .Where(p => p.Price >= MinPrice && p.Price <= MaxPrice)
      .OrderByDescending(p => p.Rating);
  ```

- **L·ª£i √≠ch:**

  - Giao di·ªán qu·∫£n tr·ªã tr·ª±c quan, th√¢n thi·ªán.
  - Cho ph√©p x·ª≠ l√Ω nhanh tr∆∞·ªõc khi g·ª≠i request th·∫≠t v·ªÅ backend.

---

#### 7.2.5. **Chart Visualization (Reports & Dashboard)**

- **M√¥ t·∫£:**
  T√≠ch h·ª£p bi·ªÉu ƒë·ªì ƒë·ªông ƒë·ªÉ hi·ªÉn th·ªã **doanh thu**, **t·ª∑ l·ªá kh√°ch h√†ng**, **ƒë√°nh gi√° s·∫£n ph·∫©m**, v.v.
  Bi·ªÉu ƒë·ªì thay ƒë·ªïi theo kho·∫£ng th·ªùi gian ho·∫∑c b·ªô l·ªçc d·ªØ li·ªáu.

- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**

  - LiveCharts2 ho·∫∑c WinUI Chart Controls
  - MVVM Binding v·ªõi `ObservableCollection<ChartData>`
  - Custom color palette (`#1A4D8F`, `#00AEEF`, `#93C5FD`)

- **Implementation:**

  ```csharp
  RevenueSeries = new ObservableCollection<ChartSeries>
  {
      new ColumnSeries { Values = new double[] {120, 340, 560}, Name = "Revenue" }
  };
  ```

- **L·ª£i √≠ch:**

  - Gi√∫p admin d·ªÖ theo d√µi KPI, xu h∆∞·ªõng b√°n h√†ng.
  - Bi·ªÉu ƒë·ªì sinh ƒë·ªông, mang t√≠nh tr·ª±c quan cao.

---

#### 7.2.6. **Local Caching Layer**

- **M√¥ t·∫£:**
  Khi t·∫£i d·ªØ li·ªáu s·∫£n ph·∫©m ho·∫∑c ƒë∆°n h√†ng, app s·∫Ω l∆∞u b·∫£n sao c·ª•c b·ªô trong `LocalStorage`.
  L·∫ßn truy c·∫≠p sau s·∫Ω l·∫•y d·ªØ li·ªáu cache n·∫øu ch∆∞a qu√° h·∫°n.

- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**

  - `ApplicationData.Current.LocalFolder`
  - JSON Serialization (System.Text.Json)
  - Strategy Pattern cho cache TTL (time-to-live)

- **Implementation:**

  ```csharp
  var cacheFile = Path.Combine(LocalFolder, "products.json");
  if (File.Exists(cacheFile))
      Products = JsonSerializer.Deserialize<Product[]>(File.ReadAllText(cacheFile));
  ```

- **L·ª£i √≠ch:**

  - TƒÉng t·ªëc load data cho user.
  - Gi·∫£m t·∫£i API call, ƒë·∫∑c bi·ªát khi kh√¥ng c√≥ internet.

---

#### 7.2.7. **Command Routing System**

- **M√¥ t·∫£:**
  M·ªçi thao t√°c ng∆∞·ªùi d√πng (n√∫t, icon, toggle, dialog) ƒë∆∞·ª£c x·ª≠ l√Ω qua `RelayCommand` trong ViewModel thay v√¨ code-behind.
  Gi√∫p to√†n b·ªô UI t∆∞∆°ng t√°c th√¥ng qua Command Binding.

- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**

  - `RelayCommand` (CommunityToolkit.Mvvm.Input)
  - Delegate Command pattern

- **Implementation:**

  ```csharp
  public IRelayCommand AddProductCommand => new RelayCommand(AddProduct);
  ```

- **L·ª£i √≠ch:**

  - Gi·∫£m logic trong code-behind.
  - TƒÉng kh·∫£ nƒÉng test, d·ªÖ m·ªü r·ªông, d·ªÖ b·∫£o tr√¨.

---

### 7.3. X√¢y D·ª±ng H·ªá Th·ªëng Identity User (Backend)

**M·ª•c ti√™u:** Thay v√¨ s·ª≠ d·ª•ng gi·∫£i ph√°p c√≥ s·∫µn nh∆∞ **ASP.NET Core Identity**, nh√≥m quy·∫øt ƒë·ªãnh t·ª± x√¢y d·ª±ng h·ªá th·ªëng qu·∫£n l√Ω **User** (Ng∆∞·ªùi d√πng), **Role** (Vai tr√≤), v√† **Authority** (Quy·ªÅn h·∫°n) t·ª´ ƒë·∫ßu. M·ª•c ti√™u ch√≠nh l√† ƒë·ªÉ c√≥ ƒë∆∞·ª£c **to√†n quy·ªÅn ki·ªÉm so√°t (full control)** ƒë·ªëi v·ªõi l∆∞·ª£c ƒë·ªì c∆° s·ªü d·ªØ li·ªáu v√† logic nghi·ªáp v·ª•, gi√∫p h·ªá th·ªëng linh ho·∫°t v√† t·ªëi ∆∞u h∆°n cho c√°c y√™u c·∫ßu ƒë·∫∑c th√π c·ªßa d·ª± √°n.

**C√†i ƒë·∫∑t:**
Ki·∫øn tr√∫c n√†y ƒë∆∞·ª£c tri·ªÉn khai nh·∫•t qu√°n theo m√¥ h√¨nh 3 l·ªõp:

1.  **T·∫ßng Data Access:**

    - **Entities:** ƒê·ªãnh nghƒ©a c√°c l·ªõp `User`, `Role`, `Authority`, `RoleAuthorities`, v√† `RemovedAuthorities` trong `MyShop.Data/Entities`. C√°c l·ªõp n√†y cho ph√©p t√πy ch·ªânh m·ªçi thu·ªôc t√≠nh (v√≠ d·ª•: `IsTrialActive` trong `User`) v√† c√°c m·ªëi quan h·ªá ph·ª©c t·∫°p, nh∆∞ quan h·ªá nhi·ªÅu-nhi·ªÅu gi·ªØa User-Role v√† Role-Authority.
      ```csharp
      // File: src/MyShop.Data/Entities/User.cs
      public class User
      {
          public Guid Id { get; set; }
          public string Username { get; set; } = string.Empty;
          public string Password { get; set; } = string.Empty; // M·∫≠t kh·∫©u ƒë∆∞·ª£c bƒÉm
          public bool IsTrialActive { get; set; } = false;
          // Navigation property
          public ICollection<Role> Roles { get; set; } = new List<Role>();
      }
      ```
    - **Repository Pattern:** C√°c repository nh∆∞ `UserRepository` v√† `RoleRepository` ƒë√≥ng g√≥i ho√†n to√†n logic truy v·∫•n c∆° s·ªü d·ªØ li·ªáu b·∫±ng Entity Framework Core, cung c·∫•p c√°c ph∆∞∆°ng th·ª©c t∆∞·ªùng minh nh∆∞ `GetByUsernameAsync`, `ExistsAsync`.

2.  **T·∫ßng Business Logic:**

    - **Service Layer:** L·ªõp `AuthService` ch·ª©a logic nghi·ªáp v·ª• ch√≠nh. V√≠ d·ª•, trong ph∆∞∆°ng th·ª©c `RegisterAsync`, thay v√¨ g·ªçi c√°c ph∆∞∆°ng th·ª©c c·ªßa Identity, ta th·ª±c hi·ªán th·ªß c√¥ng c√°c b∆∞·ªõc: ki·ªÉm tra s·ª± t·ªìn t·∫°i c·ªßa ng∆∞·ªùi d√πng, bƒÉm m·∫≠t kh·∫©u b·∫±ng `BCrypt.Net`, v√† g√°n vai tr√≤ m·∫∑c ƒë·ªãnh.

      ```csharp
      // File: src/MyShop.Server/Services/Implementations/AuthService.cs
      public async Task<CreateUserResponse> RegisterAsync(CreateUserRequest request)
      {
          // 1. Ki·ªÉm tra ng∆∞·ªùi d√πng ƒë√£ t·ªìn t·∫°i ch∆∞a
          if (await _userRepository.ExistsAsync(request.Username, request.Email))
          {
              throw new InvalidOperationException("Username or email already exists");
          }

          // 2. L·∫•y vai tr√≤ m·∫∑c ƒë·ªãnh
          var defaultRole = await _roleRepository.GetByNameAsync("User");
          // ...

          // 3. T·∫°o ƒë·ªëi t∆∞·ª£ng User v√† bƒÉm m·∫≠t kh·∫©u
          var user = new User
          {
              Username = request.Username,
              Password = BCrypt.Net.BCrypt.HashPassword(request.Password),
              Email = request.Email,
              Roles = new List<Role> { defaultRole }
          };

          // 4. L∆∞u v√†o CSDL th√¥ng qua repository
          var createdUser = await _userRepository.CreateAsync(user);
          // ...
      }
      ```

3.  **T·∫ßng Presentation:**
    - `AuthController` ƒë√≥ng vai tr√≤ l√† ƒëi·ªÉm cu·ªëi API, ti·∫øp nh·∫≠n c√°c DTOs v√† g·ªçi ƒë·∫øn `AuthService`.

**L·ª£i √≠ch:**

- **To√†n quy·ªÅn ki·ªÉm so√°t Schema:** Ch√∫ng t√¥i c√≥ th·ªÉ t·ª± do th√™m, b·ªõt, ho·∫∑c s·ª≠a ƒë·ªïi c√°c c·ªôt trong b·∫£ng `Users`, `Roles` m√† kh√¥ng b·ªã r√†ng bu·ªôc b·ªüi c·∫•u tr√∫c c·ªßa **ASP.NET Core Identity**.
- **Logic nghi·ªáp v·ª• linh ho·∫°t:** Cho ph√©p tri·ªÉn khai c√°c logic ph·ª©c t·∫°p nh∆∞ qu·∫£n l√Ω quy·ªÅn h·∫°n chi ti·∫øt (authorities), c∆° ch·∫ø "blacklist" quy·ªÅn (`RemovedAuthorities`), v√† c√°c tr·∫°ng th√°i ng∆∞·ªùi d√πng t√πy ch·ªânh (`IsTrialActive`).
- **T·ªëi ∆∞u h√≥a hi·ªáu nƒÉng:** Ch·ªâ truy v·∫•n nh·ªØng d·ªØ li·ªáu th·ª±c s·ª± c·∫ßn thi·∫øt, tr√°nh ƒë∆∞·ª£c overhead t·ª´ c√°c t√≠nh nƒÉng kh√¥ng s·ª≠ d·ª•ng c·ªßa m·ªôt framework l·ªõn nh∆∞ Identity.
- **TƒÉng c∆∞·ªùng ki·∫øn th·ª©c n·ªÅn t·∫£ng:** Vi·ªác t·ª± x√¢y d·ª±ng gi√∫p ƒë·ªôi ng≈© hi·ªÉu s√¢u h∆°n v·ªÅ c√°ch ho·∫°t ƒë·ªông c·ªßa m·ªôt h·ªá th·ªëng x√°c th·ª±c v√† ph√¢n quy·ªÅn hi·ªán ƒë·∫°i.

### 7.4. `ICurrentUserService`: T√°ch Bi·ªát Logic L·∫•y Th√¥ng Tin Ng∆∞·ªùi D√πng Hi·ªán T·∫°i (Backend)

**M·ª•c ti√™u:** Trong nhi·ªÅu nghi·ªáp v·ª•, ch√∫ng ta c·∫ßn truy c·∫≠p th√¥ng tin c·ªßa ng∆∞·ªùi d√πng ƒëang th·ª±c hi·ªán y√™u c·∫ßu (v√≠ d·ª•: ID, username). M·ªôt c√°ch ti·∫øp c·∫≠n ph·ªï bi·∫øn l√† inject `IHttpContextAccessor` v√†o m·ªói service v√† t·ª± ph√¢n t√≠ch `ClaimsPrincipal`. Tuy nhi√™n, c√°ch l√†m n√†y d·∫´n ƒë·∫øn tr√πng l·∫∑p m√£ v√† l√†m cho c√°c service ph·ª• thu·ªôc v√†o m·ªôt th√†nh ph·∫ßn c·ªßa t·∫ßng web (`HttpContext`).

ƒê·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ n√†y, nh√≥m ƒë√£ t·∫°o ra `ICurrentUserService`‚Äîm·ªôt service chuy√™n bi·ªát tu√¢n th·ªß **nguy√™n t·∫Øc T√°ch bi·ªát M·ªëi quan t√¢m (Separation of Concerns)**.

**C√†i ƒë·∫∑t:**

1.  **Interface (`ICurrentUserService`):** ƒê·ªãnh nghƒ©a m·ªôt h·ª£p ƒë·ªìng ƒë∆°n gi·∫£n ƒë·ªÉ l·∫•y c√°c th√¥ng tin c·∫ßn thi·∫øt c·ªßa ng∆∞·ªùi d√πng hi·ªán t·∫°i.
    ```csharp
    // File: src/MyShop.Server/Services/Interfaces/ICurrentUserService.cs
    public interface ICurrentUserService
    {
        Guid? UserId { get; }
        string? Username { get; }
        string? Email { get; }
    }
    ```
2.  **Implementation (`CurrentUserService`):** L·ªõp n√†y ch·ª©a to√†n b·ªô logic ph·ª©c t·∫°p c·ªßa vi·ªác t∆∞∆°ng t√°c v·ªõi `IHttpContextAccessor` v√† tr√≠ch xu·∫•t th√¥ng tin t·ª´ c√°c `Claim` trong JWT token. N√≥ c≈©ng x·ª≠ l√Ω c√°c tr∆∞·ªùng h·ª£p kh√°c nhau c·ªßa t√™n claim do c·∫•u h√¨nh `MapInboundClaims`.

    ```csharp
    // File: src/MyShop.Server/Services/Implementations/CurrentUserService.cs
    public class CurrentUserService : ICurrentUserService
    {
        private readonly IHttpContextAccessor _httpContextAccessor;

        public CurrentUserService(IHttpContextAccessor httpContextAccessor)
        {
            _httpContextAccessor = httpContextAccessor;
        }

        public Guid? UserId
        {
            get
            {
                // Logic ph·ª©c t·∫°p ƒë·ªÉ th·ª≠ nhi·ªÅu lo·∫°i claim kh√°c nhau ƒë∆∞·ª£c ƒë√≥ng g√≥i t·∫°i ƒë√¢y
                var userIdClaim = _httpContextAccessor.HttpContext?.User.FindFirst(ClaimTypes.NameIdentifier)?.Value
                               ?? _httpContextAccessor.HttpContext?.User.FindFirst("sub")?.Value
                               ?? _httpContextAccessor.HttpContext?.User.FindFirst("nameid")?.Value;

                return Guid.TryParse(userIdClaim, out var id) ? id : null;
            }
        }
        // ... c√°c thu·ªôc t√≠nh kh√°c
    }
    ```

3.  **S·ª≠ d·ª•ng:** B·∫•t k·ª≥ service n√†o c·∫ßn th√¥ng tin ng∆∞·ªùi d√πng hi·ªán t·∫°i ch·ªâ c·∫ßn inject `ICurrentUserService` m·ªôt c√°ch g·ªçn g√†ng.

    ```csharp
    // File: src/MyShop.Server/Services/Implementations/UserService.cs
    public class UserService : IUserService
    {
        private readonly ICurrentUserService _currentUser;
        // ...

        public UserService(ICurrentUserService currentUserService, ...)
        {
            _currentUser = currentUserService;
        }

        public async Task<ActivateUserResponse> ActivateUserAsync(string activateCode)
        {
            var userId = _currentUser.UserId; // S·ª≠ d·ª•ng m·ªôt c√°ch ƒë∆°n gi·∫£n v√† r√µ r√†ng

            if (!userId.HasValue)
            {
                throw new UnauthorizedAccessException("Invalid JWT: userId claim is missing.");
            }
            // ...
        }
    }
    ```

**L·ª£i √≠ch:**

- **M√£ ngu·ªìn s·∫°ch h∆°n:** Lo·∫°i b·ªè vi·ªác l·∫∑p l·∫°i logic tr√≠ch xu·∫•t claim ·ªü nhi·ªÅu n∆°i.
- **T√°ch bi·ªát m·ªëi quan t√¢m:** Logic nghi·ªáp v·ª• (`UserService`) kh√¥ng c√≤n ph·ª• thu·ªôc tr·ª±c ti·∫øp v√†o `HttpContext`, gi√∫p n√≥ ƒë·ªôc l·∫≠p h∆°n v·ªõi t·∫ßng web.
- **D·ªÖ ki·ªÉm th·ª≠:** Khi unit test `UserService`, ch√∫ng ta c√≥ th·ªÉ d·ªÖ d√†ng mock `ICurrentUserService` ƒë·ªÉ gi·∫£ l·∫≠p m·ªôt ng∆∞·ªùi d√πng ƒëang ƒëƒÉng nh·∫≠p m√† kh√¥ng c·∫ßn ph·∫£i mock c·∫£ `HttpContext` ph·ª©c t·∫°p.

### 7.5. H·ªá Th·ªëng X√°c Th·ª±c Email B·∫±ng Token B·∫£o M·∫≠t

**M·ª•c ti√™u:** X√¢y d·ª±ng m·ªôt quy tr√¨nh x√°c th·ª±c email an to√†n, ƒë·∫£m b·∫£o ch·ªâ ch·ªß s·ªü h·ªØu th·ª±c s·ª± c·ªßa ƒë·ªãa ch·ªâ email m·ªõi c√≥ th·ªÉ k√≠ch ho·∫°t t√†i kho·∫£n. H·ªá th·ªëng s·ª≠ d·ª•ng token d·ª±a tr√™n JWT, c√≥ th·ªùi h·∫°n v√† m·ª•c ƒë√≠ch s·ª≠ d·ª•ng r√µ r√†ng.

**C√†i ƒë·∫∑t:**
Quy tr√¨nh ƒë∆∞·ª£c chia th√†nh 3 b∆∞·ªõc ch√≠nh, ƒë∆∞·ª£c ƒëi·ªÅu ph·ªëi b·ªüi `EmailVerificationService`:

1.  **T·∫°o Token v√† G·ª≠i Email:**
    Khi ng∆∞·ªùi d√πng y√™u c·∫ßu x√°c th·ª±c, `EmailVerificationService` s·∫Ω:

    - T·∫°o m·ªôt **JWT token ƒë·∫∑c bi·ªát** ch·ªâ d√†nh cho m·ª•c ƒë√≠ch x√°c th·ª±c email. Token n√†y ch·ª©a c√°c claim quan tr·ªçng: `userId`, `purpose: "email_verification"`, v√† th·ªùi gian h·∫øt h·∫°n (v√≠ d·ª•: 24 gi·ªù). Vi·ªác k√Ω token b·∫±ng `SecretKey` c·ªßa ·ª©ng d·ª•ng ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn v√† ch·ªëng gi·∫£ m·∫°o.
      ```csharp
      // File: src/MyShop.Server/Services/Implementations/EmailVerificationService.cs
      public string GenerateVerificationToken(Guid userId)
      {
          var tokenDescriptor = new SecurityTokenDescriptor
          {
              Subject = new ClaimsIdentity(new[]
              {
                  new Claim("userId", userId.ToString()),
                  new Claim("purpose", "email_verification"), // NgƒÉn token b·ªã d√πng cho m·ª•c ƒë√≠ch kh√°c
              }),
              Expires = DateTime.UtcNow.AddHours(TokenExpirationHours),
              // ... k√Ω token
          };
          // ...
      }
      ```
    - T·∫°o m·ªôt URL x√°c th·ª±c duy nh·∫•t ch·ª©a token n√†y.
    - S·ª≠ d·ª•ng `IEmailNotificationService` ƒë·ªÉ g·ª≠i email t·ªõi ng∆∞·ªùi d√πng. Email ch·ª©a URL n√†y d∆∞·ªõi d·∫°ng m·ªôt li√™n k·∫øt c√≥ th·ªÉ nh·∫•p v√†o.

2.  **X·ª≠ L√Ω Y√™u C·∫ßu X√°c Th·ª±c:**

    - Khi ng∆∞·ªùi d√πng nh·∫•p v√†o li√™n k·∫øt trong email, m·ªôt y√™u c·∫ßu `GET` s·∫Ω ƒë∆∞·ª£c g·ª≠i ƒë·∫øn endpoint `api/v1/email-verification/verify`.

      ```csharp
      // File: src/MyShop.Server/Controllers/EmailVerificationController.cs
      [HttpGet("verify")]
      [AllowAnonymous] // Endpoint n√†y ph·∫£i c√¥ng khai ƒë·ªÉ ng∆∞·ªùi d√πng ch∆∞a ƒëƒÉng nh·∫≠p c√≥ th·ªÉ truy c·∫≠p
      public async Task<IActionResult> VerifyEmail([FromQuery] string token, CancellationToken cancellationToken)
      {
          var result = await _emailVerificationService.VerifyEmailAsync(token, cancellationToken);

          if (result.IsSuccess)
          {
              // Chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang th√†nh c√¥ng
              return Redirect(_configuration["EmailVerification:SuccessRedirectUrl"]);
          }
          // Chuy·ªÉn h∆∞·ªõng ƒë·∫øn trang l·ªói
          return Redirect(_configuration["EmailVerification:ErrorRedirectUrl"]);
      }
      ```

3.  **X√°c th·ª±c Token v√† C·∫≠p nh·∫≠t Tr·∫°ng th√°i:**

    - `EmailVerificationService` nh·∫≠n token t·ª´ controller v√† th·ª±c hi·ªán x√°c th·ª±c:
      - Ki·ªÉm tra ch·ªØ k√Ω (signature) ƒë·ªÉ ƒë·∫£m b·∫£o token kh√¥ng b·ªã thay ƒë·ªïi.
      - Ki·ªÉm tra th·ªùi gian h·∫øt h·∫°n (expiration).
      - Ki·ªÉm tra claim `purpose` ph·∫£i l√† `"email_verification"`.
    - N·∫øu token h·ª£p l·ªá, service s·∫Ω tr√≠ch xu·∫•t `userId`, t√¨m ng∆∞·ªùi d√πng trong c∆° s·ªü d·ªØ li·ªáu v√† c·∫≠p nh·∫≠t tr∆∞·ªùng `IsEmailVerified` th√†nh `true`.

      ```csharp
      // File: src/MyShop.Server/Services/Implementations/EmailVerificationService.cs
      public async Task<ServiceResult> VerifyEmailAsync(string token, CancellationToken cancellationToken = default)
      {
          var userId = ValidateVerificationToken(token); // X√°c th·ª±c token
          if (userId == null)
          {
              return ServiceResult.Failure("Invalid or expired verification token");
          }

          var user = await _userRepository.GetByIdAsync(userId.Value);
          if (user == null) { /* ... */ }

          user.IsEmailVerified = true; // C·∫≠p nh·∫≠t tr·∫°ng th√°i
          user.UpdatedAt = DateTime.UtcNow;

          await _userRepository.UpdateAsync(user); // L∆∞u thay ƒë·ªïi

          return ServiceResult.Success("Email verified successfully");
      }
      ```

**L·ª£i √≠ch:**

- **B·∫£o m·∫≠t:** Token ƒë∆∞·ª£c k√Ω v√† c√≥ th·ªùi h·∫°n, ngƒÉn ch·∫∑n c√°c cu·ªôc t·∫•n c√¥ng gi·∫£ m·∫°o ho·∫∑c s·ª≠ d·ª•ng l·∫°i token c≈©.
- **Tr·∫£i nghi·ªám ng∆∞·ªùi d√πng t·ªët:** Quy tr√¨nh t·ª± ƒë·ªông v√† li·ªÅn m·∫°ch, ng∆∞·ªùi d√πng ch·ªâ c·∫ßn m·ªôt c√∫ nh·∫•p chu·ªôt ƒë·ªÉ x√°c th·ª±c.
- **To√†n v·∫πn d·ªØ li·ªáu:** ƒê·∫£m b·∫£o r·∫±ng m·ªói t√†i kho·∫£n ƒë∆∞·ª£c li√™n k·∫øt v·ªõi m·ªôt ƒë·ªãa ch·ªâ email c√≥ th·∫≠t v√† c√≥ th·ªÉ truy c·∫≠p ƒë∆∞·ª£c.

### 7.6. Weekly Sales Forecast

**[PH√ÇN C√îNG: AI DEVELOPER]**

- M√¥ t·∫£:

  - H·ªá th·ªëng d·ª± b√°o doanh s·ªë theo tu·∫ßn cho t·ª´ng Store‚ÄìDept, h·ªó tr·ª£ d·ªãp l·ªÖ, c√≥ c∆° ch·∫ø fallback chi·∫øn l∆∞·ª£c d·ª± b√°o v√† ph·ª•c v·ª• real-time qua API.
  - T√°ch r·ªùi m√¥ h√¨nh AI kh·ªèi UI/backend th√¥ng qua Strategy Pattern, d·ªÖ ho√°n ƒë·ªïi gi·ªØa DNN v√† c√°c m√¥ h√¨nh kh√°c.

- C√¥ng ngh·ªá s·ª≠ d·ª•ng:

  - FastAPI (Python) cho inference service
  - Keras/TensorFlow (DNN), LightGBM (baseline/backup)
  - tf2onnx/ONNX Runtime (t√πy ch·ªçn, chu·∫©n h√≥a m√¥ h√¨nh ƒëa n·ªÅn t·∫£ng)
  - Feature engineering n√¢ng cao: cyclic time features, holiday features, economic indicators
  - Time-aware validation (TimeSeriesSplit)
  - Strategy Pattern (C# WinUI3) cho client-side AI routing

- Implementation:

  - Data pipeline:
    - Merge `stores.csv` (Type, Size), `features.csv` (Temperature, Fuel_Price, CPI, Unemployment, MarkDown1‚Äì5)
    - T·∫°o features: Year/Month/Week, Total_MarkDown, Dept one-hot (top-8), holiday flags, aggregate stats (max/min/mean/median/std theo Store‚ÄìDept)
    - Impute th√¥ng minh khi ng√†y t∆∞∆°ng lai thi·∫øu external features (median)
  - Model:
    - DNN (Keras): 64‚Üí32‚Üí1, MAE loss; training tr√™n d·ªØ li·ªáu 2010‚Äì2012, holiday-aware
    - LightGBM: d√πng l√†m fallback/ƒë·ªëi ch·ª©ng, t·ªëi ∆∞u MAE/WMAE
  - Service:
    - FastAPI: `/health`, `/predict`, c√≥ th·ªÉ th√™m `/predict/lgbm`
    - Chu·∫©n h√≥a input 4 tr∆∞·ªùng: store, dept, date, is_holiday ‚Üí build vector 23 features theo ƒë√∫ng th·ª© t·ª±
  - Client (WinUI3, C#):
    - Strategy Pattern: `ISalesPredictionStrategy` + `PredictionContext` th·ª≠ l·∫ßn l∆∞·ª£t DNN ‚Üí LightGBM ‚Üí Cached
    - API contract th·ªëng nh·∫•t (request/response), d·ªÖ thay ƒë·ªïi model m√† kh√¥ng ƒë·ªïi UI

- L·ª£i √≠ch:
  - D·ª± b√°o ch√≠nh x√°c theo tu·∫ßn, ∆∞u ti√™n d·ªãp l·ªÖ (gi·∫£m sai s·ªë kinh doanh th·ª±c t·∫ø)
  - T√≠nh linh ho·∫°t cao (ho√°n ƒë·ªïi m√¥ h√¨nh, m·ªü r·ªông nhanh), tƒÉng ƒë·ªô s·∫µn s√†ng (fallback)
  - T√°ch bi·ªát r√µ r√†ng AI service kh·ªèi UI/backend, d·ªÖ b·∫£o tr√¨ v√† tri·ªÉn khai
  - Ph√π h·ª£p m·ªü r·ªông production: logging/monitoring, retraining ƒë·ªãnh k·ª≥, A/B testing chi·∫øn l∆∞·ª£c model

### 7.7. Website for selling activation codes

**[LEADER]**

- **M√¥ t·∫£:** Website b√°n m√£ k√≠ch ho·∫°t (activation codes) cho ·ª©ng d·ª•ng MyShop v·ªõi 2 lo·∫°i m√£:

  - Trial:
    - Mi·ªÖn ph√≠ cho ng∆∞·ªùi d√πng m·ªõi
    - Th·ªùi h·∫°n: 15 ng√†y
    - Gi·ªõi h·∫°n: 1 m√£/CCCD (CƒÉn c∆∞·ªõc c√¥ng d√¢n)
    - T·ª± ƒë·ªông t·∫°o v√† g·ª≠i email ngay l·∫≠p t·ª©c
  - Premium:
    - Thanh to√°n qua c·ªïng MoMo
    - Vƒ©nh vi·ªÖn, kh√¥ng gi·ªõi h·∫°n th·ªùi gian
    - T√≠ch h·ª£p payment gateway MoMo Test Environment
    - X·ª≠ l√Ω callback t·ª´ MoMo (IPN & Redirect) v√† g·ª≠i code qua email

- **C√¥ng ngh·ªá s·ª≠ d·ª•ng:**
  - Backend:
    - **Node.js + Express.js**: REST API server
    - **PostgreSQL (NeonDB)**: Database cloud-based
    - **MoMo Payment Gateway**: C·ªïng thanh to√°n ƒëi·ªán t·ª≠
    - **SendinBlue**: D·ªãch v·ª• g·ª≠i email transactional
  - Frontend:
    - **React.js + Vite**: Single Page Application
    - **React Router**: Client-side routing
    - **Tailwind CSS**: Responsive UI framework
    - **Vercel**: Hosting & deployment platform
  - DevOps & Security:
    - **Render.com**: Backend hosting
    - **GitHub**: Version control & CI/CD
    - **Environment Variables**: B·∫£o m·∫≠t th√¥ng tin nh·∫°y c·∫£m
    - **CORS Configuration**: B·∫£o m·∫≠t API endpoints
- **Implementation:**

  - Ki·∫øn tr√∫c s·ª≠ d·ª•ng:
    ![image](https://hackmd.io/_uploads/S1MTlcykbx.png)

- **L·ª£i √≠ch:**
  - Fully automated:
    - Kh√¥ng c·∫ßn can thi·ªáp th·ªß c√¥ng
    - T·∫°o code t·ª± ƒë·ªông
    - G·ª≠i email t·ª± ƒë·ªông
    - X·ª≠ l√Ω thanh to√°n t·ª± ƒë·ªông
  - High security
    - Code kh√¥ng l·ªô tr√™n URL/frontend
    - M·ªói CCCD ch·ªâ 1 trial code (ch·ªëng abuse)
    - Transaction tracking ƒë·∫ßy ƒë·ªß
    - Environment variables cho secrets
  - Good user experience
    - Giao di·ªán hi·ªán ƒë·∫°i, responsive
    - Thanh to√°n nhanh qua MoMo
    - Nh·∫≠n code qua email ngay l·∫≠p t·ª©c
    - H∆∞·ªõng d·∫´n r√µ r√†ng t·ª´ng b∆∞·ªõc

### 7.8. MOMO Payment

- S·ª≠ d·ª•ng `MOMO-WALLET` c·ªßa momo ƒë·ªÉ c√≥ giao di·ªán v√† c√≥ orderId t·ª´ momo, th·ª±c hi·ªán tri·ªÉn khai api ƒë·ªÉ s·ª≠ d·ª•ng v√† ƒëo√°n callback t·ª´ momo g·ª≠i v·ªÅ sau ƒë√≥ x·ª≠ l√≠ vi·ªác `generate code` v√† `send code` t·ªõi email. ƒê√¢y l√† ph·∫ßn ƒë√£ ƒë∆∞·ª£c tri·ªÉn khai r√µ trong `Web b√°n code`

---

## 8. K·∫æ HO·∫†CH TH·ª∞C HI·ªÜN

**[PH√ÇN C√îNG: LEADER + BACKEND h·ªó tr·ª£]**

### 8.1. Timeline Overview

D·ª± √°n MyShop2025 ƒë∆∞·ª£c tri·ªÉn khai t·ª´ **01/10/2025 ƒë·∫øn 02/11/2025**, chia th√†nh 5 giai ƒëo·∫°n ch√≠nh v·ªõi c√°c m·ªëc quan tr·ªçng ƒë∆∞·ª£c theo d√µi qua Trello Board. Nh∆∞ng m√† Trello ch·ªâ giao c√°c task l·ªõn c√≤n m√¥ t·∫£ chi ti·∫øt s·∫Ω ƒë∆∞·ª£c m√¥ t·∫£ trong markdown files

**T·ªïng quan timeline:**

- Tu·∫ßn 1 (01-05/10): Planning & Research (L√∫c n√†y team ch·ªâ c√≥ 2 ng∆∞·ªùi)

- Tu·∫ßn 2 (06-12/10): Team Formation & Foundation (Team ƒë√£ c√≥ 4 ng∆∞·ªùi - th√™m 2 Frontend)

- Tu·∫ßn 3 (13-19/10): Foundation Setup (Team ƒë·∫ßy ƒë·ªß 5 ng∆∞·ªùi)

- Tu·∫ßn 4 (20-26/10): Core Development V1

- Tu·∫ßn 5 (27/10-02/11): Core Development V2 & Finalization

### 8.2. Chi ti·∫øt c√°c giai ƒëo·∫°n

#### Giai ƒëo·∫°n 1: Planning & Research (01/10 - 05/10) - L√∫c n√†y ch·ªâ c√≥ 2 ng∆∞·ªùi

**Th√†nh vi√™n tham gia:** Leader, Backend Developer (2 ng∆∞·ªùi)

**M·ª•c ti√™u:** L·∫≠p k·∫ø ho·∫°ch v√† nghi√™n c·ª©u ki·∫øn tr√∫c h·ªá th·ªëng

**C√¥ng vi·ªác ƒë√£ ho√†n th√†nh:**

- Th·ª±c hi·ªán th·∫£o lu·∫≠n v·ªÅ √Ω t∆∞·ªüng d·ª± √°n
- Leader t√¨m hi·ªÉu v√† thi·∫øt k·∫ø ki·∫øn tr√∫c t·ªïng th·ªÉ
- H·ªèi th·∫ßy v·ªÅ ki·∫øn tr√∫c c√≥ ƒë∆∞·ª£c ch·∫•p thu·∫≠n kh√¥ng
- Nghi√™n c·ª©u c√¥ng ngh·ªá v√† c√¥ng c·ª• s·∫Ω s·ª≠ d·ª•ng
- L·∫≠p k·∫ø ho·∫°ch ph√¢n c√¥ng cho c√°c giai ƒëo·∫°n ti·∫øp theo

**Deliverables:**

- Document ki·∫øn tr√∫c h·ªá th·ªëng ban ƒë·∫ßu
- Technology stack ƒë√£ ƒë∆∞·ª£c x√°c ƒë·ªãnh
- Roadmap d·ª± √°n s∆° b·ªô

**Tr·∫°ng th√°i:** **Ho√†n th√†nh**

---

#### Giai ƒëo·∫°n 2: Team Formation & Foundation (06/10 - 12/10) - ƒê√£ c√≥ 4 ng∆∞·ªùi

**Th√†nh vi√™n tham gia:** Leader, Backend Developer, 2 Frontend Developers (4 ng∆∞·ªùi)

**M·ª•c ti√™u:** M·ªü r·ªông team v√† thi·∫øt l·∫≠p n·ªÅn t·∫£ng k·ªπ thu·∫≠t

**C√¥ng vi·ªác ƒë√£ ho√†n th√†nh:**

- Th·ª±c hi·ªán meet ƒë·ªÉ th·∫£o lu·∫≠n idea ƒë√£ th·ªëng nh·∫•t t·ª´ tr∆∞·ªõc (th√™m ho·∫∑c b·ªè b·ªõt)
- Th·ª±c hi·ªán chia team nh·ªè ra
- Leader t·∫°o c√°c ki·∫øn tr√∫c c·∫ßn thi·∫øt cho repo v√† ƒëƒÉng l√™n GitHub
- Thi·∫øt l·∫≠p c√°c c√¥ng c·ª• li√™n l·∫°c, giao nhi·ªám v·ª•, ph√¢n vi·ªác
- Team Frontend b·∫Øt ƒë·∫ßu l√†m quen v·ªõi WinUI 3
- Team Backend thi·∫øt l·∫≠p Clean Architecture

**Deliverables:**

- GitHub repository ƒë√£ ƒë∆∞·ª£c setup
- Trello workspace cho qu·∫£n l√Ω task
- Communication channels (Zalo, Meet)
- Workflow documentation V1

**Tr·∫°ng th√°i:** **Ho√†n th√†nh**

---

#### Giai ƒëo·∫°n 3: Foundation Setup (13/10 - 19/10) - Team ƒë·∫ßy ƒë·ªß 5 ng∆∞·ªùi

**Th√†nh vi√™n tham gia:** Full team (5 ng∆∞·ªùi) - Th√™m AI Developer

**Timeline:** Sprint 1 trong proposal

**Backend Team (C√¥ng, Th·ªãnh):**

- **Ho√†n th√†nh:** X√¢y d·ª±ng database v·ªõi b·∫£ng Profile
- **Ho√†n th√†nh:** Implement Authentication & Authorization APIs
- **Ho√†n th√†nh:** Email Service v√† API send-mail-verify v·ªõi HTML templates
- **Ho√†n th√†nh:** APIs: profiles/get, profiles/create, profiles/update
- **Ho√†n th√†nh:** APIs: users/activate-trial, users/verify-email, users/change-password
- **Ho√†n th√†nh:** Follow Clean Architecture pattern

**Frontend Team (Hi·ªáp, H√≤a):**

- **Ho√†n th√†nh:** Thi·∫øt k·∫ø v√† ho√†n thi·ªán UI Login/Register
- **Ho√†n th√†nh:** T√≠ch h·ª£p n√∫t Login v·ªõi Google
- **Ho√†n th√†nh:** Setup ApiServer folder v·ªõi Refit
- **Ho√†n th√†nh:** Dependency Injection configuration
- **Ho√†n th√†nh:** Implement ch·ª©c nƒÉng Register/Login
- **Ho√†n th√†nh:** JWT token storage v·ªõi Windows PasswordVault

**AI Team (Huy Ho√†ng):**

- **Ho√†n th√†nh:** Ng√†y 15/10: Nh·∫≠n th√™m 1 th√†nh vi√™n chuy√™n v·ªÅ AI
- **Ho√†n th√†nh:** Th·ª±c hi·ªán giao task (ƒë·ªÉ xu·∫•t c√°c feature AI d·ª± ki·∫øn)
- **Ho√†n th√†nh:** Nghi√™n c·ª©u Gemini Flash / GPT API
- **Ho√†n th√†nh:** Thi·∫øt k·∫ø prompt templates
- **Ho√†n th√†nh:** X√°c ƒë·ªãnh data requirements t·ª´ backend

**Leader:**

- **Ho√†n th√†nh:** Giao task (frontend + backend) n·ªôi dung ƒë∆∞·ª£c t·ªïng h·ª£p trong file readme ver1
- **Ho√†n th√†nh:** Review v√† h·ªó tr·ª£ c√°c team
- **Ho√†n th√†nh:** Qu·∫£n l√Ω ti·∫øn ƒë·ªô

**Deliverables:**

- Authentication system ho√†n ch·ªânh
- Email verification service
- Login/Register UI working
- AI research report v√† data requirements
- README documentation V1

**Deadline:** 17-18/10/2025

**Tr·∫°ng th√°i:** **Ho√†n th√†nh**

---

#### Giai ƒëo·∫°n 4: Core Development V1 (20/10 - 26/10)

**Timeline:** B·∫Øt ƒë·∫ßu Sprint 2

**Backend Team:**

- **Ho√†n th√†nh:** Ti·∫øp t·ª•c th·ª±c hi·ªán ho√†n th√†nh task c·ªßa ver1
- **Ho√†n th√†nh:** Logic default role User khi register
- **Ho√†n th√†nh:** API admin th√™m role SalesAgent
- **Ho√†n th√†nh:** API k√≠ch ho·∫°t account l√™n Admin b·∫±ng code
- **Ho√†n th√†nh:** Email Service ho√†n th√†nh
- **ƒêang th·ª±c hi·ªán:** B·∫Øt ƒë·∫ßu tri·ªÉn khai Product APIs
- **ƒêang th·ª±c hi·ªán:** Order management APIs

**Frontend Team:**

- **Ho√†n th√†nh:** Th·ª±c hi·ªán giao task (frontend + backend) ver2
- **ƒêang th·ª±c hi·ªán:** Admin Dashboard layout v·ªõi widgets
- **ƒêang th·ª±c hi·ªán:** Product management UI (list, add, edit, delete)
- **ƒêang th·ª±c hi·ªán:** Charts v√† visualization
- **ƒêang th·ª±c hi·ªán:** Mock data testing

**AI Team:**

- **Ho√†n th√†nh:** Meet nghe b√°o c√°o t·ª´ AI backend
- **ƒêang th·ª±c hi·ªán:** Implement AI Chatbot t∆∞ v·∫•n kinh doanh
- **Ho√†n th√†nh:** Revenue prediction model - MVP ho√†n th√†nh v·ªõi 5 metrics ‚â• 96%
- **ƒêang th·ª±c hi·ªán:** G·ª£i √Ω s·∫£n ph·∫©m gi·∫£m gi√°

**Leader:**

- **Ho√†n th√†nh:** Ph√°t tri·ªÉn Website b√°n Code (Full-stack)
  - Frontend: React + Vite + Tailwind
  - Backend: Node.js + Express + PostgreSQL
  - Payment: MoMo integration
  - Email: SendinBlue integration
  - Deployment: Vercel (FE) + Render (BE)
- **ƒêang th·ª±c hi·ªán:** Review code c√°c team
- **ƒêang th·ª±c hi·ªán:** Support blocking issues

**Deliverables:**

- Website b√°n code (deployed & working)
- Revenue prediction model v·ªõi accuracy cao
- Product management APIs (partial)
- Admin Dashboard UI (partial)

**Deadline:** 20-26/10/2025

**Tr·∫°ng th√°i:** **ƒêang th·ª±c hi·ªán**

---

#### Giai ƒëo·∫°n 5: Core Development V2 & Finalization (27/10 - 02/11)

**Timeline:** Ho√†n th√†nh Sprint 2 v√† chu·∫©n b·ªã Sprint 3

**Backend Team:**

- **ƒêang th·ª±c hi·ªán:** Ho√†n thi·ªán Product CRUD APIs
  - GET: Danh s√°ch v·ªõi ph√¢n trang, s·ªë ƒë∆°n h√†ng, doanh thu
  - Filter: gi√°, thi·∫øt b·ªã, t√™n
  - Sort: rating, gi√°
  - Export Excel/Access
- **ƒêang th·ª±c hi·ªán:** Order APIs ho√†n ch·ªânh
  - Th·ªëng k√™ t·ªïng ƒë∆°n, doanh thu
  - Top s·∫£n ph·∫©m doanh thu cao
  - L·ªçc theo ng√†y, lo·∫°i, tr·∫°ng th√°i
- **ƒêang th·ª±c hi·ªán:** Admin authorization

**Frontend Team:**

- **ƒêang th·ª±c hi·ªán:** Ho√†n thi·ªán Admin Dashboard
  - Hi·ªÉn th·ªã products v·ªõi ph√¢n trang
  - S·ªë ƒë∆°n h√†ng v√† doanh thu trong ng√†y
  - Page s·∫£n ph·∫©m s·ªë l∆∞·ª£ng < 10
  - Bi·ªÉu ƒë·ªì th·ªëng k√™
  - Top s·∫£n ph·∫©m ∆∞u chu·ªông
- **ƒêang th·ª±c hi·ªán:** Product Management UI ho√†n ch·ªânh
  - Dialog th√™m/s·ª≠a/x√≥a
  - Filtering v√† sorting controls
  - Export functionality
- **ƒêang th·ª±c hi·ªán:** Order Management views

**AI Team:**

- **ƒêang th·ª±c hi·ªán:** Ti·∫øp t·ª•c th·ª±c hi·ªán ver 2
- **ƒêang th·ª±c hi·ªán:** Testing & validation models
- **ƒêang th·ª±c hi·ªán:** T√≠ch h·ª£p v·ªõi Admin Dashboard
- **ƒêang th·ª±c hi·ªán:** Performance optimization
- **ƒêang th·ª±c hi·ªán:** Ho√†n thi·ªán chatbot v√† recommendation

**Leader:**

- **Theo k·∫ø ho·∫°ch:** Deadline 29-30/10: Th·ª±c hi·ªán giao task ƒë·ªÉ vi·∫øt proposal
- **Theo k·∫ø ho·∫°ch:** Deadline 30/10-02/11: Th·ª±c hi·ªán b√°o c√°o (proposal)
- **ƒêang th·ª±c hi·ªán:** Leader x√¢y d·ª±ng ki·∫øn tr√∫c proposal cho c·∫£ team ƒë·ªÉ ƒëi·ªÅn theo c·∫•u tr√∫c
- **ƒêang th·ª±c hi·ªán:** Review final code
- **ƒêang th·ª±c hi·ªán:** Documentation ho√†n thi·ªán

**Deliverables:**

- Product & Order APIs ho√†n ch·ªânh
- Admin Dashboard ho√†n ch·ªânh v·ªõi charts
- AI models integrated
- **Proposal document ho√†n th√†nh (01/11)**
- System ready for demo

**Deadline ch√≠nh:**

- **01/11/2025:** Proposal ho√†n th√†nh
- **06/11/2025:** Code development ho√†n th√†nh (gia h·∫°n +5 ng√†y)
- **10/11/2025:** AI integration ho√†n th√†nh (gia h·∫°n +5 ng√†y)

**Tr·∫°ng th√°i:** **ƒêang th·ª±c hi·ªán**

---

### 8.3. Milestones v√† Deliverables

| Milestone                      | Date        | Deliverables                                                       | Status             |
| ------------------------------ | ----------- | ------------------------------------------------------------------ | ------------------ |
| **M1: Team & Planning**        | 01-12/10    | Ki·∫øn tr√∫c h·ªá th·ªëng, GitHub repo, Team formation                    | **Ho√†n th√†nh**     |
| **M2: Foundation**             | 13-19/10    | Authentication APIs, Login/Register UI, Email service, AI research | **Ho√†n th√†nh**     |
| **M3: Core Features V1**       | 20-26/10    | Website b√°n code, Revenue prediction model, Partial Product APIs   | **ƒêang th·ª±c hi·ªán** |
| **M4: Core Features V2**       | 27/10-06/11 | Product/Order APIs ho√†n ch·ªânh, Admin Dashboard                     | **ƒêang th·ª±c hi·ªán** |
| **M5: Proposal Document**      | 30/10-01/11 | Proposal document ho√†n thi·ªán v√† n·ªôp                                | **ƒêang th·ª±c hi·ªán** |
| **M6: AI Backend Integration** | 02-10/11    | AI models integration ho√†n ch·ªânh, Testing AI features              | **Theo k·∫ø ho·∫°ch**  |
| **M7: Continuous Development** | 11/11+      | Ti·∫øp t·ª•c ph√°t tri·ªÉn features, Testing, Bug fixes, Polish UI/UX     | **Theo k·∫ø ho·∫°ch**  |

### 8.4. C√¥ng c·ª• theo d√µi ti·∫øn ƒë·ªô

**Trello Board Structure:**

- **Week 1 (01-05/10):** Planning phase v·ªõi 2 ng∆∞·ªùi
- **Week 2 (06-12/10):** Team expansion v·ªõi 4 ng∆∞·ªùi
- **Week 3 (13-19/10):** Foundation setup v·ªõi full team
- **Week 4 (20-26/10):** Core development V1
- **Week 5 (27/10-02/11):** Vi·∫øt proposal v√† th·ª±c hi·ªán ti·∫øp Core development V2

**Tracking Methods:**

- Daily task updates tr√™n Trello
- Weekly progress reviews
- Zalo group cho communication
- Google Meet cho sprint reviews
- GitHub cho code tracking

### 8.5. Definition of Done

**M·ªói Sprint:**

- **Ho√†n th√†nh:** Code ƒë√£ ƒë∆∞·ª£c commit l√™n GitHub
- **Ho√†n th√†nh:** C√≥ √≠t nh·∫•t 1 ng∆∞·ªùi review
- **Ho√†n th√†nh:** Ch·ª©c nƒÉng ho·∫°t ƒë·ªông ƒë∆∞·ª£c local
- **Ho√†n th√†nh:** Documentation c∆° b·∫£n ƒë√£ c√≥
- **Ho√†n th√†nh:** Task ƒë∆∞·ª£c mark completed tr√™n Trello

**To√†n b·ªô d·ª± √°n:**

- **ƒêang th·ª±c hi·ªán:** T·∫•t c·∫£ APIs ƒë∆∞·ª£c documented
- **ƒêang th·ª±c hi·ªán:** UI/UX ho√†n ch·ªânh v√† responsive
- **ƒêang th·ª±c hi·ªán:** AI models integrated v√† tested
- **ƒêang th·ª±c hi·ªán:** Proposal document approved
- **ƒêang th·ª±c hi·ªán:** Code reviewed v√† merged
- **ƒêang th·ª±c hi·ªán:** Demo-ready system

---

## PH·ª§ L·ª§C

### A. T√†i li·ªáu tham kh·∫£o

- [Danh s√°ch c√°c t√†i li·ªáu, tutorial, documentation ƒë√£ s·ª≠ d·ª•ng]

### B. Link quan tr·ªçng

- **Repository:** [GitHub](https://github.com/05-victor/MyShop2025)
- **Figma Design:** [Figma link]
- **Project Management:**
  - [GitHub](https://github.com/05-victor/MyShop2025)
  - [Trello](https://trello.com/invite/b/6900a46d2e34563da489c3f5/ATTId5e7db9a9b2e7dd86ceca2b4bdfc89d419C4829F/window)
- **Documentation:** D∆∞·ªõi ƒë√¢y l√† c√°c b·∫£n ph√¢n c√¥ng c√¥ng vi·ªác chi ti·∫øt cho t·ª´ng ƒë·ª£t
  - [Feature-AI.md](https://hackmd.io/@LeThanhCong/B10y2q1kWx)
  - [Workflow-frontend-v1.md](https://hackmd.io/@LeThanhCong/S1at351kZx)
  - [Workflow-frontend-v2.md](https://hackmd.io/@LeThanhCong/Hkv6nqk1-l)
  - [Workflow-backend-v1.md](https://hackmd.io/LivdRVMrTc6PWE3I7_LnMg)
  - [Workflow-backend-v2.md](https://hackmd.io/@cawh_j0BRkSHnxwtr2C8QQ/ryi_Jj1kZx/)

---
